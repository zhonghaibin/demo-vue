"use strict";(self["webpackChunkmm_web"]=self["webpackChunkmm_web"]||[]).push([[448],{26109:function(t,e,a){a.r(e),a.d(e,{default:function(){return qp}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"column"},[t._v("经营数据")]),e("Tabs",{attrs:{type:"card"},on:{"on-click":t.handleTabClick},model:{value:t.tab_index,callback:function(e){t.tab_index=e},expression:"tab_index"}},t._l(t.tab_list,(function(a){return e("TabPane",{key:a.id,attrs:{label:a.name,name:a.name}},[t.current(a,"数据总览")?e("DataOverview"):t._e(),t.current(a,"经营分析")?e("BusinessAnalysis"):t._e(),t.current(a,"渠道分析")?e("ChannelAnalysis"):t._e(),t.current(a,"会员分析")?e("VipAnalysis"):t._e(),t.current(a,"品项/卡分析")?e("ItemCardAnalysis"):t._e(),t.current(a,"对比分析")?e("ContrastiveAnalysis"):t._e(),t.current(a,"财务分析")?e("FinancialAnalysis"):t._e()],1)})),1)],1)},s=[],n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("Tabs",{attrs:{size:"small"},on:{"on-click":t.handleTabClick},model:{value:t.tab_index,callback:function(e){t.tab_index=e},expression:"tab_index"}},t._l(t.tab_list,(function(a){return e("TabPane",{key:a.id,attrs:{label:a.name,name:a.name}},[t.current(a,"欠款统计")?e("BalanceStatistics"):t._e(),t.current(a,"会员储值卡剩余")?e("ValueCardStatistics"):t._e(),t.current(a,"会员套餐次卡剩余")?e("PackageStatistics"):t._e()],1)})),1)],1)},r=[],o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1),e("div",{staticClass:"box"},[e("Input",{staticStyle:{width:"200px"},attrs:{clearable:"","enter-button":"",placeholder:"搜索会员信息",search:""},on:{"on-clear":t.search,"on-search":t.search},model:{value:t.searchData.search,callback:function(e){t.$set(t.searchData,"search",e)},expression:"searchData.search"}})],1)]),e("div",{staticClass:"right"},[e("Checkbox",{staticClass:"checkbox-bt"},[t._v("隐藏已还清记录")]),e("div",{staticClass:"add-bt",on:{click:t.exportDataEvent}},[t._v("导出")])],1)]),e("div",{staticClass:"list"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),1),e("div",{staticClass:"page"},[e("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1)])},l=[],c=a(83368),h={name:"BalanceStatistics",components:{SelectShop:c.Z},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"所属门店",key:"0"},{title:"会员信息",key:"1"},{title:"欠款合计",key:"2"},{title:"已还欠款",key:"3"},{title:"剩余欠款",key:"4"},{title:"最新欠款日期",key:"5"}],searchData:{sid:"",search:"",start:"",end:"",p:1,page:10,count:0}}},activated(){},created(){},mounted(){this.setHeight(),window.onresize=()=>{this.setHeight()}},methods:{setHeight(){this.tableHeight=window.innerHeight-296},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()},exportDataEvent(){setTimeout((()=>{const t=[];this.$refs.xTable.exportData({filename:"",type:"csv",isHeader:!0,isFooter:!0,data:t})}),100)}}},d=h,u=a(1001),p=(0,u.Z)(d,o,l,!1,null,"4aba30c4",null),v=p.exports,g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("DatePicker",{staticStyle:{width:"200px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1)]),e("div",{staticClass:"right"})]),t._m(0),e("div",{staticClass:"big-box"},[e("div",{staticClass:"header"},[t._v("各类储值卡余额")]),e("div",{staticClass:"content"},[e("ValueCard")],1)]),e("div",{staticClass:"big-box"},[e("div",{staticClass:"header"},[t._v("剩余总金额分层统计各层所占人数")]),e("div",{staticClass:"content"},[e("BalanceLevel")],1)]),e("Modal",{attrs:{"footer-hide":!0,scrollable:t.modal.scrollable,styles:t.modal.styles,title:t.modal.title,width:t.modal.width},model:{value:t.modal.show,callback:function(e){t.$set(t.modal,"show",e)},expression:"modal.show"}})],1)},f=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"baseInfo"},[e("div",{staticClass:"box color2"},[e("div",{staticClass:"header"},[e("span",{staticClass:"text"},[t._v("会员余额")])]),e("div",{staticClass:"content"},[e("div",{staticClass:"cell"},[t._v("￥2342342.22 万元")])])]),e("div",{staticClass:"box color1"},[e("div",{staticClass:"header"},[e("span",{staticClass:"text"},[t._v("消耗率")])]),e("div",{staticClass:"content"},[e("div",{staticClass:"cell"},[t._v("123%")])])]),e("div",{staticClass:"box color4"},[e("div",{staticClass:"header"},[e("span",{staticClass:"text"},[t._v("进30天充值金额")])]),e("div",{staticClass:"content"},[e("div",{staticClass:"cell"},[t._v("￥2342342.22 万元")])])]),e("div",{staticClass:"box color3"},[e("div",{staticClass:"header"},[e("span",{staticClass:"text"},[t._v("进30天卡扣金额")])]),e("div",{staticClass:"content"},[e("div",{staticClass:"cell"},[t._v("￥2342342.22万元")])])])])}],y=function(){var t=this,e=t._self._c;return e("content",[e("v-chart",{ref:"chart",staticClass:"e-chart",attrs:{"auto-resize":!0,option:t.chart.option}})],1)},m=[],x=a(78720),b=a(9486),C=a(63122),_=a(93141),w=["x","y","radius","angle","single"],k=["cartesian2d","polar","singleAxis"];function D(t){var e=t.get("coordinateSystem");return(0,C.cq)(k,e)>=0}function S(t){return t+"Axis"}function M(t,e){var a,i=(0,C.kW)(),s=[],n=(0,C.kW)();t.eachComponent({mainType:"dataZoom",query:e},(function(t){n.get(t.uid)||o(t)}));do{a=!1,t.eachComponent("dataZoom",r)}while(a);function r(t){!n.get(t.uid)&&l(t)&&(o(t),a=!0)}function o(t){n.set(t.uid,!0),s.push(t),c(t)}function l(t){var e=!1;return t.eachTargetAxis((function(t,a){var s=i.get(t);s&&s[a]&&(e=!0)})),e}function c(t){t.eachTargetAxis((function(t,e){(i.get(t)||i.set(t,[]))[e]=!0}))}return s}var P=a(46458),T=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},t}(),A=function(t){function e(){var a=null!==t&&t.apply(this,arguments)||this;return a.type=e.type,a._autoThrottle=!0,a._noTarget=!0,a._rangePropMode=["percent","percent"],a}return(0,b.ZT)(e,t),e.prototype.init=function(t,e,a){var i=L(t);this.settledOption=i,this.mergeDefaultAndTheme(t,a),this._doInit(i)},e.prototype.mergeOption=function(t){var e=L(t);(0,C.TS)(this.option,t,!0),(0,C.TS)(this.settledOption,e,!0),this._doInit(e)},e.prototype._doInit=function(t){var e=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var a=this.settledOption;(0,C.S6)([["start","startValue"],["end","endValue"]],(function(t,i){"value"===this._rangePropMode[i]&&(e[t[0]]=a[t[0]]=null)}),this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),e=this._targetAxisInfoMap=(0,C.kW)(),a=this._fillSpecifiedTargetAxis(e);a?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(e,this._orient)),this._noTarget=!0,e.each((function(t){t.indexList.length&&(this._noTarget=!1)}),this)},e.prototype._fillSpecifiedTargetAxis=function(t){var e=!1;return(0,C.S6)(w,(function(a){var i=this.getReferringComponents(S(a),P.iP);if(i.specified){e=!0;var s=new T;(0,C.S6)(i.models,(function(t){s.add(t.componentIndex)})),t.set(a,s)}}),this),e},e.prototype._fillAutoTargetAxisByOrient=function(t,e){var a=this.ecModel,i=!0;if(i){var s="vertical"===e?"y":"x",n=a.findComponents({mainType:s+"Axis"});r(n,s)}if(i){n=a.findComponents({mainType:"singleAxis",filter:function(t){return t.get("orient",!0)===e}});r(n,"single")}function r(e,a){var s=e[0];if(s){var n=new T;if(n.add(s.componentIndex),t.set(a,n),i=!1,"x"===a||"y"===a){var r=s.getReferringComponents("grid",P.C6).models[0];r&&(0,C.S6)(e,(function(t){s.componentIndex!==t.componentIndex&&r===t.getReferringComponents("grid",P.C6).models[0]&&n.add(t.componentIndex)}))}}}i&&(0,C.S6)(w,(function(e){if(i){var s=a.findComponents({mainType:S(e),filter:function(t){return"category"===t.get("type",!0)}});if(s[0]){var n=new T;n.add(s[0].componentIndex),t.set(e,n),i=!1}}}),this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis((function(e){!t&&(t=e)}),this),"y"===t?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var e=this._rangePropMode,a=this.get("rangeMode");(0,C.S6)([["start","startValue"],["end","endValue"]],(function(i,s){var n=null!=t[i[0]],r=null!=t[i[1]];n&&!r?e[s]="percent":!n&&r?e[s]="value":a?e[s]=a[s]:n&&(e[s]="percent")}))},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis((function(e,a){null==t&&(t=this.ecModel.getComponent(S(e),a))}),this),t},e.prototype.eachTargetAxis=function(t,e){this._targetAxisInfoMap.each((function(a,i){(0,C.S6)(a.indexList,(function(a){t.call(e,i,a)}))}))},e.prototype.getAxisProxy=function(t,e){var a=this.getAxisModel(t,e);if(a)return a.__dzAxisProxy},e.prototype.getAxisModel=function(t,e){var a=this._targetAxisInfoMap.get(t);if(a&&a.indexMap[e])return this.ecModel.getComponent(S(t),e)},e.prototype.setRawRange=function(t){var e=this.option,a=this.settledOption;(0,C.S6)([["start","startValue"],["end","endValue"]],(function(i){null==t[i[0]]&&null==t[i[1]]||(e[i[0]]=a[i[0]]=t[i[0]],e[i[1]]=a[i[1]]=t[i[1]])}),this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var e=this.option;(0,C.S6)(["start","startValue","end","endValue"],(function(a){e[a]=t[a]}))},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var a=this.findRepresentativeAxisProxy();return a?a.getDataValueWindow():void 0},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var e,a=this._targetAxisInfoMap.keys(),i=0;i<a.length;i++)for(var s=a[i],n=this._targetAxisInfoMap.get(s),r=0;r<n.indexList.length;r++){var o=this.getAxisProxy(s,n.indexList[r]);if(o.hostedBy(this))return o;e||(e=o)}return e},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(_.Z);function L(t){var e={};return(0,C.S6)(["start","end","startValue","endValue","throttle"],(function(a){t.hasOwnProperty(a)&&(e[a]=t[a])})),e}var z=A,I=function(t){function e(){var a=null!==t&&t.apply(this,arguments)||this;return a.type=e.type,a}return(0,b.ZT)(e,t),e.type="dataZoom.select",e}(z),N=I,Z=a(55155),H=function(t){function e(){var a=null!==t&&t.apply(this,arguments)||this;return a.type=e.type,a}return(0,b.ZT)(e,t),e.prototype.render=function(t,e,a,i){this.dataZoomModel=t,this.ecModel=e,this.api=a},e.type="dataZoom",e}(Z.Z),O=H,R=function(t){function e(){var a=null!==t&&t.apply(this,arguments)||this;return a.type=e.type,a}return(0,b.ZT)(e,t),e.type="dataZoom.select",e}(O),E=R,V=a(43789);function F(t,e,a,i,s,n){t=t||0;var r=a[1]-a[0];if(null!=s&&(s=W(s,[0,r])),null!=n&&(n=Math.max(n,null!=s?s:0)),"all"===i){var o=Math.abs(e[1]-e[0]);o=W(o,[0,r]),s=n=W(o,[s,n]),i=0}e[0]=W(e[0],a),e[1]=W(e[1],a);var l=G(e,i);e[i]+=t;var c,h=s||0,d=a.slice();return l.sign<0?d[0]+=h:d[1]-=h,e[i]=W(e[i],d),c=G(e,i),null!=s&&(c.sign!==l.sign||c.span<s)&&(e[1-i]=e[i]+l.sign*s),c=G(e,i),null!=n&&c.span>n&&(e[1-i]=e[i]+c.sign*n),e}function G(t,e){var a=t[e]-t[1-e];return{span:Math.abs(a),sign:a>0?-1:a<0?1:e?-1:1}}function W(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}var $=a(44744),B=a(32374),U=C.S6,X=V.dt,Y=function(){function t(t,e,a,i){this._dimName=t,this._axisIndex=e,this.ecModel=i,this._dataZoomModel=a}return t.prototype.hostedBy=function(t){return this._dataZoomModel===t},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries((function(e){if(D(e)){var a=S(this._dimName),i=e.getReferringComponents(a,P.C6).models[0];i&&this._axisIndex===i.componentIndex&&t.push(e)}}),this),t},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return C.d9(this._minMaxSpan)},t.prototype.calculateDataWindow=function(t){var e,a=this._dataExtent,i=this.getAxisModel(),s=i.axis.scale,n=this._dataZoomModel.getRangePropMode(),r=[0,100],o=[],l=[];U(["start","end"],(function(i,c){var h=t[i],d=t[i+"Value"];"percent"===n[c]?(null==h&&(h=r[c]),d=s.parse(V.NU(h,r,a))):(e=!0,d=null==d?a[c]:s.parse(d),h=V.NU(d,a,r)),l[c]=d,o[c]=h})),X(l),X(o);var c=this._minMaxSpan;function h(t,e,a,i,n){var r=n?"Span":"ValueSpan";F(0,t,a,"all",c["min"+r],c["max"+r]);for(var o=0;o<2;o++)e[o]=V.NU(t[o],a,i,!0),n&&(e[o]=s.parse(e[o]))}return e?h(l,o,a,r,!1):h(o,l,r,a,!0),{valueWindow:l,percentWindow:o}},t.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=j(this,this._dimName,e),this._updateMinMaxSpan();var a=this.calculateDataWindow(t.settledOption);this._valueWindow=a.valueWindow,this._percentWindow=a.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var a=this._dimName,i=this.getTargetSeriesModels(),s=t.get("filterMode"),n=this._valueWindow;"none"!==s&&U(i,(function(t){var e=t.getData(),i=e.mapDimensionsAll(a);if(i.length){if("weakFilter"===s){var o=e.getStore(),l=C.UI(i,(function(t){return e.getDimensionIndex(t)}),e);e.filterSelf((function(t){for(var e,a,s,r=0;r<i.length;r++){var c=o.get(l[r],t),h=!isNaN(c),d=c<n[0],u=c>n[1];if(h&&!d&&!u)return!0;h&&(s=!0),d&&(e=!0),u&&(a=!0)}return s&&e&&a}))}else U(i,(function(a){if("empty"===s)t.setData(e=e.map(a,(function(t){return r(t)?t:NaN})));else{var i={};i[a]=n,e.selectRange(i)}}));U(i,(function(t){e.setApproximateExtent(n,t)}))}}))}function r(t){return t>=n[0]&&t<=n[1]}},t.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,a=this._dataExtent;U(["min","max"],(function(i){var s=e.get(i+"Span"),n=e.get(i+"ValueSpan");null!=n&&(n=this.getAxisModel().axis.scale.parse(n)),null!=n?s=V.NU(a[0]+n,a,[0,100],!0):null!=s&&(n=V.NU(s,[0,100],a,!0)-a[0]),t[i+"Span"]=s,t[i+"ValueSpan"]=n}),this)},t.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,a=this._valueWindow;if(e){var i=V.M9(a,[0,500]);i=Math.min(i,20);var s=t.axis.scale.rawExtentInfo;0!==e[0]&&s.setDeterminedMinMax("min",+a[0].toFixed(i)),100!==e[1]&&s.setDeterminedMinMax("max",+a[1].toFixed(i)),s.freeze()}},t}();function j(t,e,a){var i=[1/0,-1/0];U(a,(function(t){(0,$.AH)(i,t.getData(),e)}));var s=t.getAxisModel(),n=(0,B.Qw)(s.axis.scale,s,i).calculate();return[n.min,n.max]}var q=Y,K={getTargetSeries:function(t){function e(e){t.eachComponent("dataZoom",(function(a){a.eachTargetAxis((function(i,s){var n=t.getComponent(S(i),s);e(i,s,n,a)}))}))}e((function(t,e,a,i){a.__dzAxisProxy=null}));var a=[];e((function(e,i,s,n){s.__dzAxisProxy||(s.__dzAxisProxy=new q(e,i,n,t),a.push(s.__dzAxisProxy))}));var i=(0,C.kW)();return(0,C.S6)(a,(function(t){(0,C.S6)(t.getTargetSeriesModels(),(function(t){i.set(t.uid,t)}))})),i},overallReset:function(t,e){t.eachComponent("dataZoom",(function(t){t.eachTargetAxis((function(e,a){t.getAxisProxy(e,a).reset(t)})),t.eachTargetAxis((function(a,i){t.getAxisProxy(a,i).filterData(t,e)}))})),t.eachComponent("dataZoom",(function(t){var e=t.findRepresentativeAxisProxy();if(e){var a=e.getDataPercentWindow(),i=e.getDataValueWindow();t.setCalculatedRange({start:a[0],end:a[1],startValue:i[0],endValue:i[1]})}}))}},J=K;function Q(t){t.registerAction("dataZoom",(function(t,e){var a=M(e,t);(0,C.S6)(a,(function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})}))}))}var tt=!1;function et(t){tt||(tt=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,J),Q(t),t.registerSubTypeDefaulter("dataZoom",(function(){return"slider"})))}function at(t){t.registerComponentModel(N),t.registerComponentView(E),et(t)}var it=function(){function t(){}return t}(),st={};function nt(t,e){st[t]=e}function rt(t){return st[t]}var ot=function(t){function e(){var a=null!==t&&t.apply(this,arguments)||this;return a.type=e.type,a}return(0,b.ZT)(e,t),e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;C.S6(this.option.feature,(function(t,a){var i=rt(a);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(e)),C.TS(t,i.defaultOption))}))},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(_.Z),lt=ot,ct=a(2278),ht=a(78391),dt=a(23871),ut=a(47102),pt=a(85098),vt=a(96009),gt=a(6106),ft=a(29216),yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.ZT)(e,t),e.prototype.render=function(t,e,a,i){var s=this.group;if(s.removeAll(),t.get("show")){var n=+t.get("itemSize"),r="vertical"===t.get("orient"),o=t.get("feature")||{},l=this._features||(this._features={}),c=[];C.S6(o,(function(t,e){c.push(e)})),new pt.Z(this._featureNames||[],c).add(h).update(h).remove(C.WA(h,null)).execute(),this._featureNames=c,vt.b(s,t,a),s.add(vt.l(s.getBoundingRect(),t)),r||s.eachChild((function(t){var e=t.__title,i=t.ensureState("emphasis"),r=i.textConfig||(i.textConfig={}),o=t.getTextContent(),l=o&&o.ensureState("emphasis");if(l&&!C.mf(l)&&e){var c=l.style||(l.style={}),h=ct.lP(e,ft.ZP.makeFont(c)),d=t.x+s.x,u=t.y+s.y+n,p=!1;u+h.height>a.getHeight()&&(r.position="top",p=!0);var v=p?-5-h.height:n+10;d+h.width/2>a.getWidth()?(r.position=["100%",v],c.align="right"):d-h.width/2<0&&(r.position=[0,v],c.align="left")}}))}function h(s,n){var r,h=c[s],u=c[n],p=o[h],v=new ut.Z(p,t,t.ecModel);if(i&&null!=i.newTitle&&i.featureName===h&&(p.title=i.newTitle),h&&!u){if(mt(h))r={onclick:v.option.onclick,featureName:h};else{var g=rt(h);if(!g)return;r=new g}l[h]=r}else if(r=l[u],!r)return;r.uid=(0,gt.Kr)("toolbox-feature"),r.model=v,r.ecModel=e,r.api=a;var f=r instanceof it;h||!u?!v.get("show")||f&&r.unusable?f&&r.remove&&r.remove(e,a):(d(v,r,h),v.setIconStatus=function(t,e){var a=this.option,i=this.iconPaths;a.iconStatus=a.iconStatus||{},a.iconStatus[t]=e,i[t]&&("emphasis"===e?dt.fD:dt.Mh)(i[t])},r instanceof it&&r.render&&r.render(v,e,a,i)):f&&r.dispose&&r.dispose(e,a)}function d(i,o,l){var c,h,d=i.getModel("iconStyle"),u=i.getModel(["emphasis","iconStyle"]),p=o instanceof it&&o.getIcons?o.getIcons():i.get("icon"),v=i.get("title")||{};C.HD(p)?(c={},c[l]=p):c=p,C.HD(v)?(h={},h[l]=v):h=v;var g=i.iconPaths={};C.S6(c,(function(l,c){var p=ht.createIcon(l,{},{x:-n/2,y:-n/2,width:n,height:n});p.setStyle(d.getItemStyle());var v=p.ensureState("emphasis");v.style=u.getItemStyle();var f=new ft.ZP({style:{text:h[c],align:u.get("textAlign"),borderRadius:u.get("textBorderRadius"),padding:u.get("textPadding"),fill:null},ignore:!0});p.setTextContent(f),ht.setTooltipConfig({el:p,componentModel:t,itemName:c,formatterParamsExtra:{title:h[c]}}),p.__title=h[c],p.on("mouseover",(function(){var e=u.getItemStyle(),i=r?null==t.get("right")&&"right"!==t.get("left")?"right":"left":null==t.get("bottom")&&"bottom"!==t.get("top")?"bottom":"top";f.setStyle({fill:u.get("textFill")||e.fill||e.stroke||"#000",backgroundColor:u.get("textBackgroundColor")}),p.setTextConfig({position:u.get("textPosition")||i}),f.ignore=!t.get("showTitle"),a.enterEmphasis(this)})).on("mouseout",(function(){"emphasis"!==i.get(["iconStatus",c])&&a.leaveEmphasis(this),f.hide()})),("emphasis"===i.get(["iconStatus",c])?dt.fD:dt.Mh)(p),s.add(p),p.on("click",C.ak(o.onclick,o,e,a,c)),g[c]=p}))}},e.prototype.updateView=function(t,e,a,i){C.S6(this._features,(function(t){t instanceof it&&t.updateView&&t.updateView(t.model,e,a,i)}))},e.prototype.remove=function(t,e){C.S6(this._features,(function(a){a instanceof it&&a.remove&&a.remove(t,e)})),this.group.removeAll()},e.prototype.dispose=function(t,e){C.S6(this._features,(function(a){a instanceof it&&a.dispose&&a.dispose(t,e)}))},e.type="toolbox",e}(Z.Z);function mt(t){return 0===t.indexOf("my")}var xt=yt,bt=(a(82801),a(48675),a(3462),a(37380),a(1118),a(95160)),Ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.ZT)(e,t),e.prototype.onclick=function(t,e){var a=this.model,i=a.get("name")||t.get("title.0.text")||"echarts",s="svg"===e.getZr().painter.getType(),n=s?"svg":a.get("type",!0)||"png",r=e.getConnectedDataURL({type:n,backgroundColor:a.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:a.get("connectedBackgroundColor"),excludeComponents:a.get("excludeComponents"),pixelRatio:a.get("pixelRatio")}),o=bt.Z.browser;if((0,C.mf)(MouseEvent)&&(o.newEdge||!o.ie&&!o.edge)){var l=document.createElement("a");l.download=i+"."+n,l.target="_blank",l.href=r;var c=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});l.dispatchEvent(c)}else if(window.navigator.msSaveOrOpenBlob||s){var h=r.split(","),d=h[0].indexOf("base64")>-1,u=s?decodeURIComponent(h[1]):h[1];d&&(u=window.atob(u));var p=i+"."+n;if(window.navigator.msSaveOrOpenBlob){var v=u.length,g=new Uint8Array(v);while(v--)g[v]=u.charCodeAt(v);var f=new Blob([g]);window.navigator.msSaveOrOpenBlob(f,p)}else{var y=document.createElement("iframe");document.body.appendChild(y);var m=y.contentWindow,x=m.document;x.open("image/svg+xml","replace"),x.write(u),x.close(),m.focus(),x.execCommand("SaveAs",!0,p),document.body.removeChild(y)}}else{var b=a.get("lang"),_='<body style="margin:0;"><img src="'+r+'" style="max-width:100%;" title="'+(b&&b[0]||"")+'" /></body>',w=window.open();w.document.write(_),w.document.title=i}},e.getDefaultOption=function(t){var e={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return e},e}(it),_t=Ct,wt=a(92730),kt="__ec_magicType_stack__",Dt=[["line","bar"],["stack"]],St=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.ZT)(e,t),e.prototype.getIcons=function(){var t=this.model,e=t.get("icon"),a={};return C.S6(t.get("type"),(function(t){e[t]&&(a[t]=e[t])})),a},e.getDefaultOption=function(t){var e={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return e},e.prototype.onclick=function(t,e,a){var i=this.model,s=i.get(["seriesIndex",a]);if(Mt[a]){var n,r={series:[]},o=function(t){var e=t.subType,s=t.id,n=Mt[a](e,s,t,i);n&&(C.ce(n,t.option),r.series.push(n));var o=t.coordinateSystem;if(o&&"cartesian2d"===o.type&&("line"===a||"bar"===a)){var l=o.getAxesByScale("ordinal")[0];if(l){var c=l.dim,h=c+"Axis",d=t.getReferringComponents(h,P.C6).models[0],u=d.componentIndex;r[h]=r[h]||[];for(var p=0;p<=u;p++)r[h][u]=r[h][u]||{};r[h][u].boundaryGap="bar"===a}}};C.S6(Dt,(function(t){C.cq(t,a)>=0&&C.S6(t,(function(t){i.setIconStatus(t,"normal")}))})),i.setIconStatus(a,"emphasis"),t.eachComponent({mainType:"series",query:null==s?null:{seriesIndex:s}},o);var l=a;"stack"===a&&(n=C.TS({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),"emphasis"!==i.get(["iconStatus",a])&&(l="tiled")),e.dispatchAction({type:"changeMagicType",currentType:l,newOption:r,newTitle:n,featureName:"magicType"})}},e}(it),Mt={line:function(t,e,a,i){if("bar"===t)return C.TS({id:e,type:"line",data:a.get("data"),stack:a.get("stack"),markPoint:a.get("markPoint"),markLine:a.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(t,e,a,i){if("line"===t)return C.TS({id:e,type:"bar",data:a.get("data"),stack:a.get("stack"),markPoint:a.get("markPoint"),markLine:a.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(t,e,a,i){var s=a.get("stack")===kt;if("line"===t||"bar"===t)return i.setIconStatus("stack",s?"normal":"emphasis"),C.TS({id:e,stack:s?"":kt},i.get(["option","stack"])||{},!0)}};wt.zl({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(t,e){e.mergeOption(t.newOption)}));var Pt=St,Tt=(a(21703),a(13199)),At=new Array(60).join("-"),Lt="\t";function zt(t){var e={},a=[],i=[];return t.eachRawSeries((function(t){var s=t.coordinateSystem;if(!s||"cartesian2d"!==s.type&&"polar"!==s.type)a.push(t);else{var n=s.getBaseAxis();if("category"===n.type){var r=n.dim+"_"+n.index;e[r]||(e[r]={categoryAxis:n,valueAxis:s.getOtherAxis(n),series:[]},i.push({axisDim:n.dim,axisIndex:n.index})),e[r].series.push(t)}else a.push(t)}})),{seriesGroupByCategoryAxis:e,other:a,meta:i}}function It(t){var e=[];return C.S6(t,(function(t,a){var i=t.categoryAxis,s=t.valueAxis,n=s.dim,r=[" "].concat(C.UI(t.series,(function(t){return t.name}))),o=[i.model.getCategories()];C.S6(t.series,(function(t){var e=t.getRawData();o.push(t.getRawData().mapArray(e.mapDimension(n),(function(t){return t})))}));for(var l=[r.join(Lt)],c=0;c<o[0].length;c++){for(var h=[],d=0;d<o.length;d++)h.push(o[d][c]);l.push(h.join(Lt))}e.push(l.join("\n"))})),e.join("\n\n"+At+"\n\n")}function Nt(t){return C.UI(t,(function(t){var e=t.getRawData(),a=[t.name],i=[];return e.each(e.dimensions,(function(){for(var t=arguments.length,s=arguments[t-1],n=e.getName(s),r=0;r<t-1;r++)i[r]=arguments[r];a.push((n?n+Lt:"")+i.join(Lt))})),a.join("\n")})).join("\n\n"+At+"\n\n")}function Zt(t){var e=zt(t);return{value:C.hX([It(e.seriesGroupByCategoryAxis),Nt(e.other)],(function(t){return!!t.replace(/[\n\t\s]/g,"")})).join("\n\n"+At+"\n\n"),meta:e.meta}}function Ht(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ot(t){var e=t.slice(0,t.indexOf("\n"));if(e.indexOf(Lt)>=0)return!0}var Rt=new RegExp("["+Lt+"]+","g");function Et(t){for(var e=t.split(/\n+/g),a=Ht(e.shift()).split(Rt),i=[],s=C.UI(a,(function(t){return{name:t,data:[]}})),n=0;n<e.length;n++){var r=Ht(e[n]).split(Rt);i.push(r.shift());for(var o=0;o<r.length;o++)s[o]&&(s[o].data[n]=r[o])}return{series:s,categories:i}}function Vt(t){for(var e=t.split(/\n+/g),a=Ht(e.shift()),i=[],s=0;s<e.length;s++){var n=Ht(e[s]);if(n){var r=n.split(Rt),o="",l=void 0,c=!1;isNaN(r[0])?(c=!0,o=r[0],r=r.slice(1),i[s]={name:o,value:[]},l=i[s].value):l=i[s]=[];for(var h=0;h<r.length;h++)l.push(+r[h]);1===l.length&&(c?i[s].value=l[0]:i[s]=l[0])}}return{name:a,data:i}}function Ft(t,e){var a=t.split(new RegExp("\n*"+At+"\n*","g")),i={series:[]};return C.S6(a,(function(t,a){if(Ot(t)){var s=Et(t),n=e[a],r=n.axisDim+"Axis";n&&(i[r]=i[r]||[],i[r][n.axisIndex]={data:s.categories},i.series=i.series.concat(s.series))}else{s=Vt(t);i.series.push(s)}})),i}var Gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.ZT)(e,t),e.prototype.onclick=function(t,e){setTimeout((function(){e.dispatchAction({type:"hideTip"})}));var a=e.getDom(),i=this.model;this._dom&&a.removeChild(this._dom);var s=document.createElement("div");s.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",s.style.backgroundColor=i.get("backgroundColor")||"#fff";var n=document.createElement("h4"),r=i.get("lang")||[];n.innerHTML=r[0]||i.get("title"),n.style.cssText="margin:10px 20px",n.style.color=i.get("textColor");var o=document.createElement("div"),l=document.createElement("textarea");o.style.cssText="overflow:auto";var c=i.get("optionToContent"),h=i.get("contentToOption"),d=Zt(t);if(C.mf(c)){var u=c(e.getOption());C.HD(u)?o.innerHTML=u:C.Mh(u)&&o.appendChild(u)}else{l.readOnly=i.get("readOnly");var p=l.style;p.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",p.color=i.get("textColor"),p.borderColor=i.get("textareaBorderColor"),p.backgroundColor=i.get("textareaColor"),l.value=d.value,o.appendChild(l)}var v=d.meta,g=document.createElement("div");g.style.cssText="position:absolute;bottom:5px;left:0;right:0";var f="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",y=document.createElement("div"),m=document.createElement("div");f+=";background-color:"+i.get("buttonColor"),f+=";color:"+i.get("buttonTextColor");var x=this;function b(){a.removeChild(s),x._dom=null}(0,Tt.Oo)(y,"click",b),(0,Tt.Oo)(m,"click",(function(){if(null==h&&null!=c||null!=h&&null==c)b();else{var t;try{t=C.mf(h)?h(o,e.getOption()):Ft(l.value,v)}catch(a){throw b(),new Error("Data view format error "+a)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),b()}})),y.innerHTML=r[1],m.innerHTML=r[2],m.style.cssText=y.style.cssText=f,!i.get("readOnly")&&g.appendChild(m),g.appendChild(y),s.appendChild(n),s.appendChild(o),s.appendChild(g),o.style.height=a.clientHeight-80+"px",a.appendChild(s),this._dom=s},e.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.getDefaultOption=function(t){var e={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return e},e}(it);function Wt(t,e){return C.UI(t,(function(t,a){var i=e&&e[a];if(C.Kn(i)&&!C.kJ(i)){var s=C.Kn(t)&&!C.kJ(t);s||(t={value:t});var n=null!=i.name&&null==t.name;return t=C.ce(t,i),n&&delete t.name,t}return t}))}wt.zl({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(t,e){var a=[];C.S6(t.newOption.series,(function(t){var i=e.getSeriesByName(t.name)[0];if(i){var s=i.get("data");a.push({name:t.name,data:Wt(t.data,s)})}else a.push(C.l7({type:"scatter"},t))})),e.mergeOption(C.ce({series:a},t.newOption))}));var $t=Gt,Bt=C.S6,Ut=(0,P.Yf)();function Xt(t,e){var a=Kt(t);Bt(e,(function(e,i){for(var s=a.length-1;s>=0;s--){var n=a[s];if(n[i])break}if(s<0){var r=t.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(r){var o=r.getPercentRange();a[0][i]={dataZoomId:i,start:o[0],end:o[1]}}}})),a.push(e)}function Yt(t){var e=Kt(t),a=e[e.length-1];e.length>1&&e.pop();var i={};return Bt(a,(function(t,a){for(var s=e.length-1;s>=0;s--)if(t=e[s][a],t){i[a]=t;break}})),i}function jt(t){Ut(t).snapshots=null}function qt(t){return Kt(t).length}function Kt(t){var e=Ut(t);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var Jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.ZT)(e,t),e.prototype.onclick=function(t,e){jt(t),e.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var e={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return e},e}(it);wt.zl({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(t,e){e.resetOption("recreate")}));var Qt=Jt,te=a(18204),ee=a(91437),ae=a(49431),ie=a(23074),se=a(83286),ne="\0_ec_interaction_mutex";function re(t,e,a){var i=le(t);i[e]=a}function oe(t,e,a){var i=le(t),s=i[e];s===a&&(i[e]=null)}function le(t){return t[ne]||(t[ne]={})}wt.zl({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},C.ZT);var ce=!0,he=Math.min,de=Math.max,ue=Math.pow,pe=1e4,ve=6,ge=6,fe="globalPan",ye={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},me={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},xe={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},be=0,Ce=function(t){function e(e){var a=t.call(this)||this;return a._track=[],a._covers=[],a._handlers={},a._zr=e,a.group=new ee.Z,a._uid="brushController_"+be++,(0,C.S6)(Qe,(function(t,e){this._handlers[e]=(0,C.ak)(t,this)}),a),a}return(0,b.ZT)(e,t),e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var e=this._zr;this._enableGlobalPan||re(e,fe,this._uid),(0,C.S6)(this._handlers,(function(t,a){e.on(a,t)})),this._brushType=t.brushType,this._brushOption=(0,C.TS)((0,C.d9)(xe),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;oe(t,fe,this._uid),(0,C.S6)(this._handlers,(function(e,a){t.off(a,e)})),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var e=this._panels={};(0,C.S6)(t,(function(t){e[t.panelId]=(0,C.d9)(t)}))}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=e.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=(0,C.UI)(t,(function(t){return(0,C.TS)((0,C.d9)(xe),t,!0)}));var e="\0-brush-index-",a=this._covers,i=this._covers=[],s=this,n=this._creatingCover;return new pt.Z(a,t,o,r).add(l).update(l).remove(c).execute(),this;function r(t,a){return(null!=t.id?t.id:e+a)+"-"+t.brushType}function o(t,e){return r(t.__brushOption,e)}function l(e,r){var o=t[e];if(null!=r&&a[r]===n)i[e]=a[r];else{var l=i[e]=null!=r?(a[r].__brushOption=o,a[r]):we(s,_e(s,o));Se(s,l)}}function c(t){a[t]!==n&&s.group.remove(a[t])}},e.prototype.unmount=function(){return this.enableBrush(!1),Ae(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(te.Z);function _e(t,e){var a=aa[e.brushType].createCover(t,e);return a.__brushOption=e,De(a,e),t.group.add(a),a}function we(t,e){var a=Me(e);return a.endCreating&&(a.endCreating(t,e),De(e,e.__brushOption)),e}function ke(t,e){var a=e.__brushOption;Me(e).updateCoverShape(t,e,a.range,a)}function De(t,e){var a=e.z;null==a&&(a=pe),t.traverse((function(t){t.z=a,t.z2=a}))}function Se(t,e){Me(e).updateCommon(t,e),ke(t,e)}function Me(t){return aa[t.__brushOption.brushType]}function Pe(t,e,a){var i,s=t._panels;if(!s)return ce;var n=t._transform;return(0,C.S6)(s,(function(t){t.isTargetByCursor(e,a,n)&&(i=t)})),i}function Te(t,e){var a=t._panels;if(!a)return ce;var i=e.__brushOption.panelId;return null!=i?a[i]:ce}function Ae(t){var e=t._covers,a=e.length;return(0,C.S6)(e,(function(e){t.group.remove(e)}),t),e.length=0,!!a}function Le(t,e){var a=(0,C.UI)(t._covers,(function(t){var e=t.__brushOption,a=(0,C.d9)(e.range);return{brushType:e.brushType,panelId:e.panelId,range:a}}));t.trigger("brush",{areas:a,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function ze(t){var e=t._track;if(!e.length)return!1;var a=e[e.length-1],i=e[0],s=a[0]-i[0],n=a[1]-i[1],r=ue(s*s+n*n,.5);return r>ve}function Ie(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function Ne(t,e,a,i){var s=new ee.Z;return s.add(new ae.Z({name:"main",style:Re(a),silent:!0,draggable:!0,cursor:"move",drift:(0,C.WA)(We,t,e,s,["n","s","w","e"]),ondragend:(0,C.WA)(Le,e,{isEnd:!0})})),(0,C.S6)(i,(function(a){s.add(new ae.Z({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:(0,C.WA)(We,t,e,s,a),ondragend:(0,C.WA)(Le,e,{isEnd:!0})}))})),s}function Ze(t,e,a,i){var s=i.brushStyle.lineWidth||0,n=de(s,ge),r=a[0][0],o=a[1][0],l=r-s/2,c=o-s/2,h=a[0][1],d=a[1][1],u=h-n+s/2,p=d-n+s/2,v=h-r,g=d-o,f=v+s,y=g+s;Oe(t,e,"main",r,o,v,g),i.transformable&&(Oe(t,e,"w",l,c,n,y),Oe(t,e,"e",u,c,n,y),Oe(t,e,"n",l,c,f,n),Oe(t,e,"s",l,p,f,n),Oe(t,e,"nw",l,c,n,n),Oe(t,e,"ne",u,c,n,n),Oe(t,e,"sw",l,p,n,n),Oe(t,e,"se",u,p,n,n))}function He(t,e){var a=e.__brushOption,i=a.transformable,s=e.childAt(0);s.useStyle(Re(a)),s.attr({silent:!i,cursor:i?"move":"default"}),(0,C.S6)([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(a){var s=e.childOfName(a.join("")),n=1===a.length?Fe(t,a[0]):Ge(t,a);s&&s.attr({silent:!i,invisible:!i,cursor:i?me[n]+"-resize":null})}))}function Oe(t,e,a,i,s,n,r){var o=e.childOfName(a);o&&o.setShape(Xe(Ue(t,e,[[i,s],[i+n,s+r]])))}function Re(t){return(0,C.ce)({strokeNoScale:!0},t.brushStyle)}function Ee(t,e,a,i){var s=[he(t,a),he(e,i)],n=[de(t,a),de(e,i)];return[[s[0],n[0]],[s[1],n[1]]]}function Ve(t){return ht.getTransform(t.group)}function Fe(t,e){var a={w:"left",e:"right",n:"top",s:"bottom"},i={left:"w",right:"e",top:"n",bottom:"s"},s=ht.transformDirection(a[e],Ve(t));return i[s]}function Ge(t,e){var a=[Fe(t,e[0]),Fe(t,e[1])];return("e"===a[0]||"w"===a[0])&&a.reverse(),a.join("")}function We(t,e,a,i,s,n){var r=a.__brushOption,o=t.toRectRange(r.range),l=Be(e,s,n);(0,C.S6)(i,(function(t){var e=ye[t];o[e[0]][e[1]]+=l[e[0]]})),r.range=t.fromRectRange(Ee(o[0][0],o[1][0],o[0][1],o[1][1])),Se(e,a),Le(e,{isEnd:!1})}function $e(t,e,a,i){var s=e.__brushOption.range,n=Be(t,a,i);(0,C.S6)(s,(function(t){t[0]+=n[0],t[1]+=n[1]})),Se(t,e),Le(t,{isEnd:!1})}function Be(t,e,a){var i=t.group,s=i.transformCoordToLocal(e,a),n=i.transformCoordToLocal(0,0);return[s[0]-n[0],s[1]-n[1]]}function Ue(t,e,a){var i=Te(t,e);return i&&i!==ce?i.clipPath(a,t._transform):(0,C.d9)(a)}function Xe(t){var e=he(t[0][0],t[1][0]),a=he(t[0][1],t[1][1]),i=de(t[0][0],t[1][0]),s=de(t[0][1],t[1][1]);return{x:e,y:a,width:i-e,height:s-a}}function Ye(t,e,a){if(t._brushType&&!ea(t,e.offsetX,e.offsetY)){var i=t._zr,s=t._covers,n=Pe(t,e,a);if(!t._dragging)for(var r=0;r<s.length;r++){var o=s[r].__brushOption;if(n&&(n===ce||o.panelId===n.panelId)&&aa[o.brushType].contain(s[r],a[0],a[1]))return}n&&i.setCursorStyle("crosshair")}}function je(t){var e=t.event;e.preventDefault&&e.preventDefault()}function qe(t,e,a){return t.childOfName("main").contain(e,a)}function Ke(t,e,a,i){var s,n=t._creatingCover,r=t._creatingPanel,o=t._brushOption;if(t._track.push(a.slice()),ze(t)||n){if(r&&!n){"single"===o.brushMode&&Ae(t);var l=(0,C.d9)(o);l.brushType=Je(l.brushType,r),l.panelId=r===ce?null:r.panelId,n=t._creatingCover=_e(t,l),t._covers.push(n)}if(n){var c=aa[Je(t._brushType,r)],h=n.__brushOption;h.range=c.getCreatingRange(Ue(t,n,t._track)),i&&(we(t,n),c.updateCommon(t,n)),ke(t,n),s={isEnd:i}}}else i&&"single"===o.brushMode&&o.removeOnClick&&Pe(t,e,a)&&Ae(t)&&(s={isEnd:i,removeOnClick:!0});return s}function Je(t,e){return"auto"===t?e.defaultBrushType:t}var Qe={mousedown:function(t){if(this._dragging)ta(this,t);else if(!t.target||!t.target.draggable){je(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null;var a=this._creatingPanel=Pe(this,t,e);a&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,a=t.offsetY,i=this.group.transformCoordToLocal(e,a);if(Ye(this,t,i),this._dragging){je(t);var s=Ke(this,t,i,!1);s&&Le(this,s)}},mouseup:function(t){ta(this,t)}};function ta(t,e){if(t._dragging){je(e);var a=e.offsetX,i=e.offsetY,s=t.group.transformCoordToLocal(a,i),n=Ke(t,e,s,!0);t._dragging=!1,t._track=[],t._creatingCover=null,n&&Le(t,n)}}function ea(t,e,a){var i=t._zr;return e<0||e>i.getWidth()||a<0||a>i.getHeight()}var aa={lineX:ia(0),lineY:ia(1),rect:{createCover:function(t,e){function a(t){return t}return Ne({toRectRange:a,fromRectRange:a},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=Ie(t);return Ee(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,a,i){Ze(t,e,a,i)},updateCommon:He,contain:qe},polygon:{createCover:function(t,e){var a=new ee.Z;return a.add(new ie.Z({name:"main",style:Re(e),silent:!0})),a},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new se.Z({name:"main",draggable:!0,drift:(0,C.WA)($e,t,e),ondragend:(0,C.WA)(Le,t,{isEnd:!0})}))},updateCoverShape:function(t,e,a,i){e.childAt(0).setShape({points:Ue(t,e,a)})},updateCommon:He,contain:qe}};function ia(t){return{createCover:function(e,a){return Ne({toRectRange:function(e){var a=[e,[0,100]];return t&&a.reverse(),a},fromRectRange:function(e){return e[t]}},e,a,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var a=Ie(e),i=he(a[0][t],a[1][t]),s=de(a[0][t],a[1][t]);return[i,s]},updateCoverShape:function(e,a,i,s){var n,r=Te(e,a);if(r!==ce&&r.getLinearBrushOtherExtent)n=r.getLinearBrushOtherExtent(t);else{var o=e._zr;n=[0,[o.getWidth(),o.getHeight()][1-t]]}var l=[i,n];t&&l.reverse(),Ze(e,a,l,s)},updateCommon:He,contain:qe}}var sa=Ce,na=a(46630),ra={axisPointer:1,tooltip:1,brush:1};function oa(t,e,a){var i=e.getComponentByElement(t.topTarget),s=i&&i.coordinateSystem;return i&&i!==a&&!ra.hasOwnProperty(i.mainType)&&s&&s.model!==a}function la(t){return t=da(t),function(e){return ht.clipPointsByRect(e,t)}}function ca(t,e){return t=da(t),function(a){var i=null!=e?e:a,s=i?t.width:t.height,n=i?t.x:t.y;return[n,n+(s||0)]}}function ha(t,e,a){var i=da(t);return function(t,s){return i.contain(s[0],s[1])&&!oa(t,e,a)}}function da(t){return na.Z.create(t)}var ua=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],pa=function(){function t(t,e,a){var i=this;this._targetInfoList=[];var s=ga(e,t);(0,C.S6)(fa,(function(t,e){(!a||!a.include||(0,C.cq)(a.include,e)>=0)&&t(s,i._targetInfoList)}))}return t.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,(function(t,e,a){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var i=xa[t.brushType](0,a,e);t.__rangeOffset={offset:Ca[t.brushType](i.values,t.range,[1,1]),xyMinMax:i.xyMinMax}}})),t},t.prototype.matchOutputRanges=function(t,e,a){(0,C.S6)(t,(function(t){var i=this.findTargetInfo(t,e);i&&!0!==i&&(0,C.S6)(i.coordSyses,(function(i){var s=xa[t.brushType](1,i,t.range,!0);a(t,s.values,i,e)}))}),this)},t.prototype.setInputRanges=function(t,e){(0,C.S6)(t,(function(t){var a=this.findTargetInfo(t,e);if(t.range=t.range||[],a&&!0!==a){t.panelId=a.panelId;var i=xa[t.brushType](0,a.coordSys,t.coordRange),s=t.__rangeOffset;t.range=s?Ca[t.brushType](i.values,s.offset,wa(i.xyMinMax,s.xyMinMax)):i.values}}),this)},t.prototype.makePanelOpts=function(t,e){return(0,C.UI)(this._targetInfoList,(function(a){var i=a.getPanelRect();return{panelId:a.panelId,defaultBrushType:e?e(a):null,clipPath:la(i),isTargetByCursor:ha(i,t,a.coordSysModel),getLinearBrushOtherExtent:ca(i)}}))},t.prototype.controlSeries=function(t,e,a){var i=this.findTargetInfo(t,a);return!0===i||i&&(0,C.cq)(i.coordSyses,e.coordinateSystem)>=0},t.prototype.findTargetInfo=function(t,e){for(var a=this._targetInfoList,i=ga(e,t),s=0;s<a.length;s++){var n=a[s],r=t.panelId;if(r){if(n.panelId===r)return n}else for(var o=0;o<ya.length;o++)if(ya[o](i,n))return n}return!0},t}();function va(t){return t[0]>t[1]&&t.reverse(),t}function ga(t,e){return(0,P.pm)(t,e,{includeMainTypes:ua})}var fa={grid:function(t,e){var a=t.xAxisModels,i=t.yAxisModels,s=t.gridModels,n=(0,C.kW)(),r={},o={};(a||i||s)&&((0,C.S6)(a,(function(t){var e=t.axis.grid.model;n.set(e.id,e),r[e.id]=!0})),(0,C.S6)(i,(function(t){var e=t.axis.grid.model;n.set(e.id,e),o[e.id]=!0})),(0,C.S6)(s,(function(t){n.set(t.id,t),r[t.id]=!0,o[t.id]=!0})),n.each((function(t){var s=t.coordinateSystem,n=[];(0,C.S6)(s.getCartesians(),(function(t,e){((0,C.cq)(a,t.getAxis("x").model)>=0||(0,C.cq)(i,t.getAxis("y").model)>=0)&&n.push(t)})),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:n[0],coordSyses:n,getPanelRect:ma.grid,xAxisDeclared:r[t.id],yAxisDeclared:o[t.id]})})))},geo:function(t,e){(0,C.S6)(t.geoModels,(function(t){var a=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:a,coordSyses:[a],getPanelRect:ma.geo})}))}},ya=[function(t,e){var a=t.xAxisModel,i=t.yAxisModel,s=t.gridModel;return!s&&a&&(s=a.axis.grid.model),!s&&i&&(s=i.axis.grid.model),s&&s===e.gridModel},function(t,e){var a=t.geoModel;return a&&a===e.geoModel}],ma={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(ht.getTransform(t)),e}},xa={lineX:(0,C.WA)(ba,0),lineY:(0,C.WA)(ba,1),rect:function(t,e,a,i){var s=t?e.pointToData([a[0][0],a[1][0]],i):e.dataToPoint([a[0][0],a[1][0]],i),n=t?e.pointToData([a[0][1],a[1][1]],i):e.dataToPoint([a[0][1],a[1][1]],i),r=[va([s[0],n[0]]),va([s[1],n[1]])];return{values:r,xyMinMax:r}},polygon:function(t,e,a,i){var s=[[1/0,-1/0],[1/0,-1/0]],n=(0,C.UI)(a,(function(a){var n=t?e.pointToData(a,i):e.dataToPoint(a,i);return s[0][0]=Math.min(s[0][0],n[0]),s[1][0]=Math.min(s[1][0],n[1]),s[0][1]=Math.max(s[0][1],n[0]),s[1][1]=Math.max(s[1][1],n[1]),n}));return{values:n,xyMinMax:s}}};function ba(t,e,a,i){var s=a.getAxis(["x","y"][t]),n=va((0,C.UI)([0,1],(function(t){return e?s.coordToData(s.toLocalCoord(i[t]),!0):s.toGlobalCoord(s.dataToCoord(i[t]))}))),r=[];return r[t]=n,r[1-t]=[NaN,NaN],{values:n,xyMinMax:r}}var Ca={lineX:(0,C.WA)(_a,0),lineY:(0,C.WA)(_a,1),rect:function(t,e,a){return[[t[0][0]-a[0]*e[0][0],t[0][1]-a[0]*e[0][1]],[t[1][0]-a[1]*e[1][0],t[1][1]-a[1]*e[1][1]]]},polygon:function(t,e,a){return(0,C.UI)(t,(function(t,i){return[t[0]-a[0]*e[i][0],t[1]-a[1]*e[i][1]]}))}};function _a(t,e,a,i){return[e[0]-i[t]*a[0],e[1]-i[t]*a[1]]}function wa(t,e){var a=ka(t),i=ka(e),s=[a[0]/i[0],a[1]/i[1]];return isNaN(s[0])&&(s[0]=1),isNaN(s[1])&&(s[1]=1),s}function ka(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var Da=pa,Sa=a(48931),Ma=C.S6,Pa=(0,P.g0)("toolbox-dataZoom_"),Ta=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.ZT)(e,t),e.prototype.render=function(t,e,a,i){this._brushController||(this._brushController=new sa(a.getZr()),this._brushController.on("brush",C.ak(this._onBrush,this)).mount()),Ia(t,e,this,i,a),za(t,e)},e.prototype.onclick=function(t,e,a){Aa[a].call(this)},e.prototype.remove=function(t,e){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,e){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var e=t.areas;if(t.isEnd&&e.length){var a={},i=this.ecModel;this._brushController.updateCovers([]);var s=new Da(La(this.model),i,{include:["grid"]});s.matchOutputRanges(e,i,(function(t,e,a){if("cartesian2d"===a.type){var i=t.brushType;"rect"===i?(n("x",a,e[0]),n("y",a,e[1])):n({lineX:"x",lineY:"y"}[i],a,e)}})),Xt(i,a),this._dispatchZoomAction(a)}function n(t,e,s){var n=e.getAxis(t),o=n.model,l=r(t,o,i),c=l.findRepresentativeAxisProxy(o).getMinMaxSpan();null==c.minValueSpan&&null==c.maxValueSpan||(s=F(0,s.slice(),n.scale.getExtent(),0,c.minValueSpan,c.maxValueSpan)),l&&(a[l.id]={dataZoomId:l.id,startValue:s[0],endValue:s[1]})}function r(t,e,a){var i;return a.eachComponent({mainType:"dataZoom",subType:"select"},(function(a){var s=a.getAxisModel(t,e.componentIndex);s&&(i=a)})),i}},e.prototype._dispatchZoomAction=function(t){var e=[];Ma(t,(function(t,a){e.push(C.d9(t))})),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},e.getDefaultOption=function(t){var e={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return e},e}(it),Aa={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(Yt(this.ecModel))}};function La(t){var e={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return null==e.xAxisIndex&&null==e.xAxisId&&(e.xAxisIndex="all"),null==e.yAxisIndex&&null==e.yAxisId&&(e.yAxisIndex="all"),e}function za(t,e){t.setIconStatus("back",qt(e)>1?"emphasis":"normal")}function Ia(t,e,a,i,s){var n=a._isZoomActive;i&&"takeGlobalCursor"===i.type&&(n="dataZoomSelect"===i.key&&i.dataZoomSelectActive),a._isZoomActive=n,t.setIconStatus("zoom",n?"emphasis":"normal");var r=new Da(La(t),e,{include:["grid"]}),o=r.makePanelOpts(s,(function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"}));a._brushController.setPanels(o).enableBrush(!(!n||!o.length)&&{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()})}(0,Sa.f)("dataZoom",(function(t){var e=t.getComponent("toolbox",0),a=["feature","dataZoom"];if(e&&null!=e.get(a)){var i=e.getModel(a),s=[],n=La(i),r=(0,P.pm)(t,n);return Ma(r.xAxisModels,(function(t){return o(t,"xAxis","xAxisIndex")})),Ma(r.yAxisModels,(function(t){return o(t,"yAxis","yAxisIndex")})),s}function o(t,e,a){var n=t.componentIndex,r={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:Pa+e+n};r[a]=n,s.push(r)}}));var Na=Ta;function Za(t){t.registerComponentModel(lt),t.registerComponentView(xt),nt("saveAsImage",_t),nt("magicType",Pt),nt("dataView",$t),nt("dataZoom",Na),nt("restore",Qt),(0,x.D)(at)}var Ha=a(12015),Oa=a(45977),Ra=a(80012),Ea=a(18915),Va=a(16085),Fa=a(11090),Ga=a(84682),Wa=function(t){function e(){var a=null!==t&&t.apply(this,arguments)||this;return a.type=e.type,a.hasSymbolVisual=!0,a}return(0,b.ZT)(e,t),e.prototype.getInitialData=function(t){return(0,Va.Z)(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var e=new ee.Z,a=(0,Ga.th)("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);e.add(a),a.setStyle(t.lineStyle);var i=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),n="none"===i?"circle":i,r=.8*t.itemHeight,o=(0,Ga.th)(n,(t.itemWidth-r)/2,(t.itemHeight-r)/2,r,r,t.itemStyle.fill);e.add(o),o.setStyle(t.itemStyle);var l="inherit"===t.iconRotate?s:t.iconRotate||0;return o.rotation=l*Math.PI/180,o.setOrigin([t.itemWidth/2,t.itemHeight/2]),n.indexOf("empty")>-1&&(o.style.stroke=o.style.fill,o.style.fill="#fff",o.style.lineWidth=2),e},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(Fa.Z),$a=Wa,Ba=a(31310),Ua=a(3759),Xa=a(95860),Ya=a(60458),ja=a(45474),qa=function(t){function e(e,a,i,s){var n=t.call(this)||this;return n.updateData(e,a,i,s),n}return(0,b.ZT)(e,t),e.prototype._createSymbol=function(t,e,a,i,s){this.removeAll();var n=(0,Ga.th)(t,-1,-1,2,2,null,s);n.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),n.drift=Ka,this._symbolType=t,this.add(n)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){(0,dt.fD)(this.childAt(0))},e.prototype.downplay=function(){(0,dt.Mh)(this.childAt(0))},e.prototype.setZ=function(t,e){var a=this.childAt(0);a.zlevel=t,a.z=e},e.prototype.setDraggable=function(t,e){var a=this.childAt(0);a.draggable=t,a.cursor=!e&&t?"move":a.cursor},e.prototype.updateData=function(t,a,i,s){this.silent=!1;var n=t.getItemVisual(a,"symbol")||"circle",r=t.hostModel,o=e.getSymbolSize(t,a),l=n!==this._symbolType,c=s&&s.disableAnimation;if(l){var h=t.getItemVisual(a,"symbolKeepAspect");this._createSymbol(n,t,a,o,h)}else{var d=this.childAt(0);d.silent=!1;var u={scaleX:o[0]/2,scaleY:o[1]/2};c?d.attr(u):Ba.D(d,u,r,a),(0,Ba.Zi)(d)}if(this._updateCommon(t,a,o,i,s),l){d=this.childAt(0);if(!c){u={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,Ba.KZ(d,u,r,a)}}c&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,e,a,i,s){var n,r,o,l,c,h,d,u,p,v=this.childAt(0),g=t.hostModel;if(i&&(n=i.emphasisItemStyle,r=i.blurItemStyle,o=i.selectItemStyle,l=i.focus,c=i.blurScope,d=i.labelStatesModels,u=i.hoverScale,p=i.cursorStyle,h=i.emphasisDisabled),!i||t.hasItemOption){var f=i&&i.itemModel?i.itemModel:t.getItemModel(e),y=f.getModel("emphasis");n=y.getModel("itemStyle").getItemStyle(),o=f.getModel(["select","itemStyle"]).getItemStyle(),r=f.getModel(["blur","itemStyle"]).getItemStyle(),l=y.get("focus"),c=y.get("blurScope"),h=y.get("disabled"),d=(0,Ya.k3)(f),u=y.getShallow("scale"),p=f.getShallow("cursor")}var m=t.getItemVisual(e,"symbolRotate");v.attr("rotation",(m||0)*Math.PI/180||0);var x=(0,Ga.Cq)(t.getItemVisual(e,"symbolOffset"),a);x&&(v.x=x[0],v.y=x[1]),p&&v.attr("cursor",p);var b=t.getItemVisual(e,"style"),_=b.fill;if(v instanceof ja.ZP){var w=v.style;v.useStyle((0,C.l7)({image:w.image,x:w.x,y:w.y,width:w.width,height:w.height},b))}else v.__isEmptyBrush?v.useStyle((0,C.l7)({},b)):v.useStyle(b),v.style.decal=null,v.setColor(_,s&&s.symbolInnerColor),v.style.strokeNoScale=!0;var k=t.getItemVisual(e,"liftZ"),D=this._z2;null!=k?null==D&&(this._z2=v.z2,v.z2+=k):null!=D&&(v.z2=D,this._z2=null);var S=s&&s.useNameLabel;function M(e){return S?t.getName(e):(0,Xa.H)(t,e)}(0,Ya.ni)(v,d,{labelFetcher:g,labelDataIndex:e,defaultText:M,inheritColor:_,defaultOpacity:b.opacity}),this._sizeX=a[0]/2,this._sizeY=a[1]/2;var P=v.ensureState("emphasis");if(P.style=n,v.ensureState("select").style=o,v.ensureState("blur").style=r,u){var T=Math.max((0,C.hj)(u)?u:1.1,3/this._sizeY);P.scaleX=this._sizeX*T,P.scaleY=this._sizeY*T}this.setSymbolScale(1),(0,dt.k5)(this,l,c,h)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,e,a){var i=this.childAt(0),s=(0,Ua.A)(this).dataIndex,n=a&&a.animation;if(this.silent=i.silent=!0,a&&a.fadeLabel){var r=i.getTextContent();r&&Ba.bX(r,{style:{opacity:0}},e,{dataIndex:s,removeOpt:n,cb:function(){i.removeTextContent()}})}else i.removeTextContent();Ba.bX(i,{style:{opacity:0},scaleX:0,scaleY:0},e,{dataIndex:s,cb:t,removeOpt:n})},e.getSymbolSize=function(t,e){return(0,Ga.zp)(t.getItemVisual(e,"symbolSize"))},e}(ee.Z);function Ka(t,e){this.parent.drift(t,e)}var Ja=qa;function Qa(t,e,a,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(a))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(a,"symbol")}function ti(t){return null==t||(0,C.Kn)(t)||(t={isIgnore:t}),t||{}}function ei(t){var e=t.hostModel,a=e.getModel("emphasis");return{emphasisItemStyle:a.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:a.get("focus"),blurScope:a.get("blurScope"),emphasisDisabled:a.get("disabled"),hoverScale:a.get("scale"),labelStatesModels:(0,Ya.k3)(e),cursorStyle:e.get("cursor")}}var ai=function(){function t(t){this.group=new ee.Z,this._SymbolCtor=t||Ja}return t.prototype.updateData=function(t,e){this._progressiveEls=null,e=ti(e);var a=this.group,i=t.hostModel,s=this._data,n=this._SymbolCtor,r=e.disableAnimation,o=ei(t),l={disableAnimation:r},c=e.getSymbolPoint||function(e){return t.getItemLayout(e)};s||a.removeAll(),t.diff(s).add((function(i){var s=c(i);if(Qa(t,s,i,e)){var r=new n(t,i,o,l);r.setPosition(s),t.setItemGraphicEl(i,r),a.add(r)}})).update((function(h,d){var u=s.getItemGraphicEl(d),p=c(h);if(Qa(t,p,h,e)){var v=t.getItemVisual(h,"symbol")||"circle",g=u&&u.getSymbolType&&u.getSymbolType();if(!u||g&&g!==v)a.remove(u),u=new n(t,h,o,l),u.setPosition(p);else{u.updateData(t,h,o,l);var f={x:p[0],y:p[1]};r?u.attr(f):Ba.D(u,f,i)}a.add(u),t.setItemGraphicEl(h,u)}else a.remove(u)})).remove((function(t){var e=s.getItemGraphicEl(t);e&&e.fadeOut((function(){a.remove(e)}),i)})).execute(),this._getSymbolPoint=c,this._data=t},t.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl((function(e,a){var i=t._getSymbolPoint(a);e.setPosition(i),e.markRedraw()}))},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=ei(t),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e,a){function i(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],a=ti(a);for(var s=t.start;s<t.end;s++){var n=e.getItemLayout(s);if(Qa(e,n,s,a)){var r=new this._SymbolCtor(e,s,this._seriesScope);r.traverse(i),r.setPosition(n),this.group.add(r),e.setItemGraphicEl(s,r),this._progressiveEls.push(r)}}},t.prototype.eachRendered=function(t){ht.traverseElements(this._progressiveEls||this.group,t)},t.prototype.remove=function(t){var e=this.group,a=this._data;a&&t?a.eachItemGraphicEl((function(t){t.fadeOut((function(){e.remove(t)}),a.hostModel)})):e.removeAll()},t}(),ii=ai,si=a(60291);function ni(t,e,a){var i=t.getBaseAxis(),s=t.getOtherAxis(i),n=ri(s,a),r=i.dim,o=s.dim,l=e.mapDimension(o),c=e.mapDimension(r),h="x"===o||"radius"===o?1:0,d=(0,C.UI)(t.dimensions,(function(t){return e.mapDimension(t)})),u=!1,p=e.getCalculationInfo("stackResultDimension");return(0,si.M)(e,d[0])&&(u=!0,d[0]=p),(0,si.M)(e,d[1])&&(u=!0,d[1]=p),{dataDimsForPoint:d,valueStart:n,valueAxisDim:o,baseAxisDim:r,stacked:!!u,valueDim:l,baseDim:c,baseDataOffset:h,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function ri(t,e){var a=0,i=t.scale.getExtent();return"start"===e?a=i[0]:"end"===e?a=i[1]:(0,C.hj)(e)&&!isNaN(e)?a=e:i[0]>0?a=i[0]:i[1]<0&&(a=i[1]),a}function oi(t,e,a,i){var s=NaN;t.stacked&&(s=a.get(a.getCalculationInfo("stackedOverDimension"),i)),isNaN(s)&&(s=t.valueStart);var n=t.baseDataOffset,r=[];return r[n]=a.get(t.baseDim,i),r[1-n]=s,e.dataToPoint(r)}var li=a(46636);function ci(t,e){var a=[];return e.diff(t).add((function(t){a.push({cmd:"+",idx:t})})).update((function(t,e){a.push({cmd:"=",idx:e,idx1:t})})).remove((function(t){a.push({cmd:"-",idx:t})})).execute(),a}function hi(t,e,a,i,s,n,r,o){for(var l=ci(t,e),c=[],h=[],d=[],u=[],p=[],v=[],g=[],f=ni(s,e,r),y=t.getLayout("points")||[],m=e.getLayout("points")||[],x=0;x<l.length;x++){var b=l[x],C=!0,_=void 0,w=void 0;switch(b.cmd){case"=":_=2*b.idx,w=2*b.idx1;var k=y[_],D=y[_+1],S=m[w],M=m[w+1];(isNaN(k)||isNaN(D))&&(k=S,D=M),c.push(k,D),h.push(S,M),d.push(a[_],a[_+1]),u.push(i[w],i[w+1]),g.push(e.getRawIndex(b.idx1));break;case"+":var P=b.idx,T=f.dataDimsForPoint,A=s.dataToPoint([e.get(T[0],P),e.get(T[1],P)]);w=2*P,c.push(A[0],A[1]),h.push(m[w],m[w+1]);var L=oi(f,s,e,P);d.push(L[0],L[1]),u.push(i[w],i[w+1]),g.push(e.getRawIndex(P));break;case"-":C=!1}C&&(p.push(b),v.push(v.length))}v.sort((function(t,e){return g[t]-g[e]}));var z=c.length,I=(0,li.o)(z),N=(0,li.o)(z),Z=(0,li.o)(z),H=(0,li.o)(z),O=[];for(x=0;x<v.length;x++){var R=v[x],E=2*x,V=2*R;I[E]=c[V],I[E+1]=c[V+1],N[E]=h[V],N[E+1]=h[V+1],Z[E]=d[V],Z[E+1]=d[V+1],H[E]=u[V],H[E+1]=u[V+1],O[x]=p[R]}return{current:I,next:N,stackedOnCurrent:Z,stackedOnNext:H,status:O}}var di=a(48515),ui=a(64877),pi=a(11348),vi=a(85723),gi=Math.min,fi=Math.max;function yi(t,e){return isNaN(t)||isNaN(e)}function mi(t,e,a,i,s,n,r,o,l){for(var c,h,d,u,p,v,g=a,f=0;f<i;f++){var y=e[2*g],m=e[2*g+1];if(g>=s||g<0)break;if(yi(y,m)){if(l){g+=n;continue}break}if(g===a)t[n>0?"moveTo":"lineTo"](y,m),d=y,u=m;else{var x=y-c,b=m-h;if(x*x+b*b<.5){g+=n;continue}if(r>0){var C=g+n,_=e[2*C],w=e[2*C+1];while(_===y&&w===m&&f<i)f++,C+=n,g+=n,_=e[2*C],w=e[2*C+1],y=e[2*g],m=e[2*g+1],x=y-c,b=m-h;var k=f+1;if(l)while(yi(_,w)&&k<i)k++,C+=n,_=e[2*C],w=e[2*C+1];var D=.5,S=0,M=0,P=void 0,T=void 0;if(k>=i||yi(_,w))p=y,v=m;else{S=_-c,M=w-h;var A=y-c,L=_-y,z=m-h,I=w-m,N=void 0,Z=void 0;if("x"===o){N=Math.abs(A),Z=Math.abs(L);var H=S>0?1:-1;p=y-H*N*r,v=m,P=y+H*Z*r,T=m}else if("y"===o){N=Math.abs(z),Z=Math.abs(I);var O=M>0?1:-1;p=y,v=m-O*N*r,P=y,T=m+O*Z*r}else N=Math.sqrt(A*A+z*z),Z=Math.sqrt(L*L+I*I),D=Z/(Z+N),p=y-S*r*(1-D),v=m-M*r*(1-D),P=y+S*r*D,T=m+M*r*D,P=gi(P,fi(_,y)),T=gi(T,fi(w,m)),P=fi(P,gi(_,y)),T=fi(T,gi(w,m)),S=P-y,M=T-m,p=y-S*N/Z,v=m-M*N/Z,p=gi(p,fi(c,y)),v=gi(v,fi(h,m)),p=fi(p,gi(c,y)),v=fi(v,gi(h,m)),S=y-p,M=m-v,P=y+S*Z/N,T=m+M*Z/N}t.bezierCurveTo(d,u,p,v,y,m),d=P,u=T}else t.lineTo(y,m)}c=y,h=m,g+=n}return f}var xi=function(){function t(){this.smooth=0,this.smoothConstraint=!0}return t}(),bi=function(t){function e(e){var a=t.call(this,e)||this;return a.type="ec-polyline",a}return(0,b.ZT)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new xi},e.prototype.buildPath=function(t,e){var a=e.points,i=0,s=a.length/2;if(e.connectNulls){for(;s>0;s--)if(!yi(a[2*s-2],a[2*s-1]))break;for(;i<s;i++)if(!yi(a[2*i],a[2*i+1]))break}while(i<s)i+=mi(t,a,i,s,s,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},e.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var a,i,s=this.path,n=s.data,r=pi.Z.CMD,o="x"===e,l=[],c=0;c<n.length;){var h=n[c++],d=void 0,u=void 0,p=void 0,v=void 0,g=void 0,f=void 0,y=void 0;switch(h){case r.M:a=n[c++],i=n[c++];break;case r.L:if(d=n[c++],u=n[c++],y=o?(t-a)/(d-a):(t-i)/(u-i),y<=1&&y>=0){var m=o?(u-i)*y+i:(d-a)*y+a;return o?[t,m]:[m,t]}a=d,i=u;break;case r.C:d=n[c++],u=n[c++],p=n[c++],v=n[c++],g=n[c++],f=n[c++];var x=o?(0,vi.kD)(a,d,p,g,t,l):(0,vi.kD)(i,u,v,f,t,l);if(x>0)for(var b=0;b<x;b++){var C=l[b];if(C<=1&&C>=0){m=o?(0,vi.af)(i,u,v,f,C):(0,vi.af)(a,d,p,g,C);return o?[t,m]:[m,t]}}a=g,i=f;break}}},e}(ui.ZP),Ci=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.ZT)(e,t),e}(xi),_i=function(t){function e(e){var a=t.call(this,e)||this;return a.type="ec-polygon",a}return(0,b.ZT)(e,t),e.prototype.getDefaultShape=function(){return new Ci},e.prototype.buildPath=function(t,e){var a=e.points,i=e.stackedOnPoints,s=0,n=a.length/2,r=e.smoothMonotone;if(e.connectNulls){for(;n>0;n--)if(!yi(a[2*n-2],a[2*n-1]))break;for(;s<n;s++)if(!yi(a[2*s],a[2*s+1]))break}while(s<n){var o=mi(t,a,s,n,n,1,e.smooth,r,e.connectNulls);mi(t,i,s+o-1,o,n,-1,e.stackedOnSmooth,r,e.connectNulls),s+=o+1,t.closePath()}},e}(ui.ZP),wi=a(65120),ki=a(44617),Di=a(82611),Si=a(18906),Mi=a(7471);function Pi(t,e){if(t.length===e.length){for(var a=0;a<t.length;a++)if(t[a]!==e[a])return;return!0}}function Ti(t){for(var e=1/0,a=1/0,i=-1/0,s=-1/0,n=0;n<t.length;){var r=t[n++],o=t[n++];isNaN(r)||(e=Math.min(r,e),i=Math.max(r,i)),isNaN(o)||(a=Math.min(o,a),s=Math.max(o,s))}return[[e,a],[i,s]]}function Ai(t,e){var a=Ti(t),i=a[0],s=a[1],n=Ti(e),r=n[0],o=n[1];return Math.max(Math.abs(i[0]-r[0]),Math.abs(i[1]-r[1]),Math.abs(s[0]-o[0]),Math.abs(s[1]-o[1]))}function Li(t){return C.hj(t)?t:t?.5:0}function zi(t,e,a){if(!a.valueDim)return[];for(var i=e.count(),s=(0,li.o)(2*i),n=0;n<i;n++){var r=oi(a,t,e,n);s[2*n]=r[0],s[2*n+1]=r[1]}return s}function Ii(t,e,a,i){var s=e.getBaseAxis(),n="x"===s.dim||"radius"===s.dim?0:1,r=[],o=0,l=[],c=[],h=[],d=[];if(i){for(o=0;o<t.length;o+=2)isNaN(t[o])||isNaN(t[o+1])||d.push(t[o],t[o+1]);t=d}for(o=0;o<t.length-2;o+=2)switch(h[0]=t[o+2],h[1]=t[o+3],c[0]=t[o],c[1]=t[o+1],r.push(c[0],c[1]),a){case"end":l[n]=h[n],l[1-n]=c[1-n],r.push(l[0],l[1]);break;case"middle":var u=(c[n]+h[n])/2,p=[];l[n]=p[n]=u,l[1-n]=c[1-n],p[1-n]=h[1-n],r.push(l[0],l[1]),r.push(p[0],p[1]);break;default:l[n]=c[n],l[1-n]=h[1-n],r.push(l[0],l[1])}return r.push(t[o++],t[o++]),r}function Ni(t,e){var a,i,s=[],n=t.length;function r(t,e,a){var i=t.coord,s=(a-i)/(e.coord-i),n=(0,Mi.t7)(s,[t.color,e.color]);return{coord:a,color:n}}for(var o=0;o<n;o++){var l=t[o],c=l.coord;if(c<0)a=l;else{if(c>e){i?s.push(r(i,l,e)):a&&s.push(r(a,l,0),r(a,l,e));break}a&&(s.push(r(a,l,0)),a=null),s.push(l),i=l}}return s}function Zi(t,e,a){var i=t.getVisual("visualMeta");if(i&&i.length&&t.count()&&"cartesian2d"===e.type){for(var s,n,r=i.length-1;r>=0;r--){var o=t.getDimensionInfo(i[r].dimension);if(s=o&&o.coordDim,"x"===s||"y"===s){n=i[r];break}}if(n){var l=e.getAxis(s),c=C.UI(n.stops,(function(t){return{coord:l.toGlobalCoord(l.dataToCoord(t.value)),color:t.color}})),h=c.length,d=n.outerColors.slice();h&&c[0].coord>c[h-1].coord&&(c.reverse(),d.reverse());var u=Ni(c,"x"===s?a.getWidth():a.getHeight()),p=u.length;if(!p&&h)return c[0].coord<0?d[1]?d[1]:c[h-1].color:d[0]?d[0]:c[0].color;var v=10,g=u[0].coord-v,f=u[p-1].coord+v,y=f-g;if(y<.001)return"transparent";C.S6(u,(function(t){t.offset=(t.coord-g)/y})),u.push({offset:p?u[p-1].offset:.5,color:d[1]||"transparent"}),u.unshift({offset:p?u[0].offset:.5,color:d[0]||"transparent"});var m=new di.Z(0,0,0,0,u,!0);return m[s]=g,m[s+"2"]=f,m}}}function Hi(t,e,a){var i=t.get("showAllSymbol"),s="auto"===i;if(!i||s){var n=a.getAxesByScale("ordinal")[0];if(n&&(!s||!Oi(n,e))){var r=e.mapDimension(n.dim),o={};return C.S6(n.getViewLabels(),(function(t){var e=n.scale.getRawOrdinalNumber(t.tickValue);o[e]=1})),function(t){return!o.hasOwnProperty(e.get(r,t))}}}}function Oi(t,e){var a=t.getExtent(),i=Math.abs(a[1]-a[0])/t.scale.count();isNaN(i)&&(i=0);for(var s=e.count(),n=Math.max(1,Math.round(s/5)),r=0;r<s;r+=n)if(1.5*Ja.getSymbolSize(e,r)[t.isHorizontal()?1:0]>i)return!1;return!0}function Ri(t,e){return isNaN(t)||isNaN(e)}function Ei(t){for(var e=t.length/2;e>0;e--)if(!Ri(t[2*e-2],t[2*e-1]))break;return e-1}function Vi(t,e){return[t[2*e],t[2*e+1]]}function Fi(t,e,a){for(var i,s,n=t.length/2,r="x"===a?0:1,o=0,l=-1,c=0;c<n;c++)if(s=t[2*c+r],!isNaN(s)&&!isNaN(t[2*c+1-r]))if(0!==c){if(i<=e&&s>=e||i>=e&&s<=e){l=c;break}o=c,i=s}else i=s;return{range:[o,l],t:(e-i)/(s-i)}}function Gi(t){if(t.get(["endLabel","show"]))return!0;for(var e=0;e<dt.L1.length;e++)if(t.get([dt.L1[e],"endLabel","show"]))return!0;return!1}function Wi(t,e,a,i){if((0,Di.H)(e,"cartesian2d")){var s=i.getModel("endLabel"),n=s.get("valueAnimation"),r=i.getData(),o={lastFrameIndex:0},l=Gi(i)?function(a,i){t._endLabelOnDuring(a,i,r,o,n,s,e)}:null,c=e.getBaseAxis().isHorizontal(),h=(0,ki.ID)(e,a,i,(function(){var e=t._endLabel;e&&a&&null!=o.originalX&&e.attr({x:o.originalX,y:o.originalY})}),l);if(!i.get("clip",!0)){var d=h.shape,u=Math.max(d.width,d.height);c?(d.y-=u,d.height+=2*u):(d.x-=u,d.width+=2*u)}return l&&l(1,h),h}return(0,ki.X0)(e,a,i)}function $i(t,e){var a=e.getBaseAxis(),i=a.isHorizontal(),s=a.inverse,n=i?s?"right":"left":"center",r=i?"middle":s?"top":"bottom";return{normal:{align:t.get("align")||n,verticalAlign:t.get("verticalAlign")||r}}}var Bi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.ZT)(e,t),e.prototype.init=function(){var t=new ee.Z,e=new ii;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},e.prototype.render=function(t,e,a){var i=this,s=t.coordinateSystem,n=this.group,r=t.getData(),o=t.getModel("lineStyle"),l=t.getModel("areaStyle"),c=r.getLayout("points")||[],h="polar"===s.type,d=this._coordSys,u=this._symbolDraw,p=this._polyline,v=this._polygon,g=this._lineGroup,f=t.get("animation"),y=!l.isEmpty(),m=l.get("origin"),x=ni(s,r,m),b=y&&zi(s,r,x),_=t.get("showSymbol"),w=t.get("connectNulls"),k=_&&!h&&Hi(t,r,s),D=this._data;D&&D.eachItemGraphicEl((function(t,e){t.__temp&&(n.remove(t),D.setItemGraphicEl(e,null))})),_||u.remove(),n.add(g);var S,M=!h&&t.get("step");s&&s.getArea&&t.get("clip",!0)&&(S=s.getArea(),null!=S.width?(S.x-=.1,S.y-=.1,S.width+=.2,S.height+=.2):S.r0&&(S.r0-=.5,S.r+=.5)),this._clipShapeForSymbol=S;var P=Zi(r,s,a)||r.getVisual("style")[r.getVisual("drawType")];if(p&&d.type===s.type&&M===this._step){y&&!v?v=this._newPolygon(c,b):v&&!y&&(g.remove(v),v=this._polygon=null),h||this._initOrUpdateEndLabel(t,s,(0,Si.Lz)(P));var T=g.getClipPath();if(T){var A=Wi(this,s,!1,t);Ba.KZ(T,{shape:A.shape},t)}else g.setClipPath(Wi(this,s,!0,t));_&&u.updateData(r,{isIgnore:k,clipShape:S,disableAnimation:!0,getSymbolPoint:function(t){return[c[2*t],c[2*t+1]]}}),Pi(this._stackedOnPoints,b)&&Pi(this._points,c)||(f?this._doUpdateAnimation(r,b,s,a,M,m,w):(M&&(c=Ii(c,s,M,w),b&&(b=Ii(b,s,M,w))),p.setShape({points:c}),v&&v.setShape({points:c,stackedOnPoints:b})))}else _&&u.updateData(r,{isIgnore:k,clipShape:S,disableAnimation:!0,getSymbolPoint:function(t){return[c[2*t],c[2*t+1]]}}),f&&this._initSymbolLabelAnimation(r,s,S),M&&(c=Ii(c,s,M,w),b&&(b=Ii(b,s,M,w))),p=this._newPolyline(c),y?v=this._newPolygon(c,b):v&&(g.remove(v),v=this._polygon=null),h||this._initOrUpdateEndLabel(t,s,(0,Si.Lz)(P)),g.setClipPath(Wi(this,s,!0,t));var L=t.getModel("emphasis"),z=L.get("focus"),I=L.get("blurScope"),N=L.get("disabled");if(p.useStyle(C.ce(o.getLineStyle(),{fill:"none",stroke:P,lineJoin:"bevel"})),(0,dt.WO)(p,t,"lineStyle"),p.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"])){var Z=p.getState("emphasis").style;Z.lineWidth=+p.style.lineWidth+1}(0,Ua.A)(p).seriesIndex=t.seriesIndex,(0,dt.k5)(p,z,I,N);var H=Li(t.get("smooth")),O=t.get("smoothMonotone");if(p.setShape({smooth:H,smoothMonotone:O,connectNulls:w}),v){var R=r.getCalculationInfo("stackedOnSeries"),E=0;v.useStyle(C.ce(l.getAreaStyle(),{fill:P,opacity:.7,lineJoin:"bevel",decal:r.getVisual("style").decal})),R&&(E=Li(R.get("smooth"))),v.setShape({smooth:H,stackedOnSmooth:E,smoothMonotone:O,connectNulls:w}),(0,dt.WO)(v,t,"areaStyle"),(0,Ua.A)(v).seriesIndex=t.seriesIndex,(0,dt.k5)(v,z,I,N)}var V=function(t){i._changePolyState(t)};r.eachItemGraphicEl((function(t){t&&(t.onHoverStateChange=V)})),this._polyline.onHoverStateChange=V,this._data=r,this._coordSys=s,this._stackedOnPoints=b,this._points=c,this._step=M,this._valueOrigin=m,t.get("triggerLineEvent")&&(this.packEventData(t,p),v&&this.packEventData(t,v))},e.prototype.packEventData=function(t,e){(0,Ua.A)(e).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,e,a,i){var s=t.getData(),n=P.gO(s,i);if(this._changePolyState("emphasis"),!(n instanceof Array)&&null!=n&&n>=0){var r=s.getLayout("points"),o=s.getItemGraphicEl(n);if(!o){var l=r[2*n],c=r[2*n+1];if(isNaN(l)||isNaN(c))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,c))return;var h=t.get("zlevel"),d=t.get("z");o=new Ja(s,n),o.x=l,o.y=c,o.setZ(h,d);var u=o.getSymbolPath().getTextContent();u&&(u.zlevel=h,u.z=d,u.z2=this._polyline.z2+1),o.__temp=!0,s.setItemGraphicEl(n,o),o.stopSymbolAnimation(!0),this.group.add(o)}o.highlight()}else wi.Z.prototype.highlight.call(this,t,e,a,i)},e.prototype.downplay=function(t,e,a,i){var s=t.getData(),n=P.gO(s,i);if(this._changePolyState("normal"),null!=n&&n>=0){var r=s.getItemGraphicEl(n);r&&(r.__temp?(s.setItemGraphicEl(n,null),this.group.remove(r)):r.downplay())}else wi.Z.prototype.downplay.call(this,t,e,a,i)},e.prototype._changePolyState=function(t){var e=this._polygon;(0,dt.Gl)(this._polyline,t),e&&(0,dt.Gl)(e,t)},e.prototype._newPolyline=function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new bi({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(e),this._polyline=e,e},e.prototype._newPolygon=function(t,e){var a=this._polygon;return a&&this._lineGroup.remove(a),a=new _i({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(a),this._polygon=a,a},e.prototype._initSymbolLabelAnimation=function(t,e,a){var i,s,n=e.getBaseAxis(),r=n.inverse;"cartesian2d"===e.type?(i=n.isHorizontal(),s=!1):"polar"===e.type&&(i="angle"===n.dim,s=!0);var o=t.hostModel,l=o.get("animationDuration");C.mf(l)&&(l=l(null));var c=o.get("animationDelay")||0,h=C.mf(c)?c(null):c;t.eachItemGraphicEl((function(t,n){var o=t;if(o){var d=[t.x,t.y],u=void 0,p=void 0,v=void 0;if(a)if(s){var g=a,f=e.pointToCoord(d);i?(u=g.startAngle,p=g.endAngle,v=-f[1]/180*Math.PI):(u=g.r0,p=g.r,v=f[0])}else{var y=a;i?(u=y.x,p=y.x+y.width,v=t.x):(u=y.y+y.height,p=y.y,v=t.y)}var m=p===u?0:(v-u)/(p-u);r&&(m=1-m);var x=C.mf(c)?c(n):l*m+h,b=o.getSymbolPath(),_=b.getTextContent();o.attr({scaleX:0,scaleY:0}),o.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:x}),_&&_.animateFrom({style:{opacity:0}},{duration:300,delay:x}),b.disableLabelAnimation=!0}}))},e.prototype._initOrUpdateEndLabel=function(t,e,a){var i=t.getModel("endLabel");if(Gi(t)){var s=t.getData(),n=this._polyline,r=s.getLayout("points");if(!r)return n.removeTextContent(),void(this._endLabel=null);var o=this._endLabel;o||(o=this._endLabel=new ft.ZP({z2:200}),o.ignoreClip=!0,n.setTextContent(this._endLabel),n.disableLabelAnimation=!0);var l=Ei(r);l>=0&&((0,Ya.ni)(n,(0,Ya.k3)(t,"endLabel"),{inheritColor:a,labelFetcher:t,labelDataIndex:l,defaultText:function(t,e,a){return null!=a?(0,Xa.O)(s,a):(0,Xa.H)(s,t)},enableTextSetter:!0},$i(i,e)),n.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,e,a,i,s,n,r){var o=this._endLabel,l=this._polyline;if(o){t<1&&null==i.originalX&&(i.originalX=o.x,i.originalY=o.y);var c=a.getLayout("points"),h=a.hostModel,d=h.get("connectNulls"),u=n.get("precision"),p=n.get("distance")||0,v=r.getBaseAxis(),g=v.isHorizontal(),f=v.inverse,y=e.shape,m=f?g?y.x:y.y+y.height:g?y.x+y.width:y.y,x=(g?p:0)*(f?-1:1),b=(g?0:-p)*(f?-1:1),C=g?"x":"y",_=Fi(c,m,C),w=_.range,k=w[1]-w[0],D=void 0;if(k>=1){if(k>1&&!d){var S=Vi(c,w[0]);o.attr({x:S[0]+x,y:S[1]+b}),s&&(D=h.getRawValue(w[0]))}else{S=l.getPointOn(m,C);S&&o.attr({x:S[0]+x,y:S[1]+b});var M=h.getRawValue(w[0]),T=h.getRawValue(w[1]);s&&(D=P.pk(a,u,M,T,_.t))}i.lastFrameIndex=w[0]}else{var A=1===t||i.lastFrameIndex>0?w[0]:0;S=Vi(c,A);s&&(D=h.getRawValue(A)),o.attr({x:S[0]+x,y:S[1]+b})}s&&(0,Ya.qA)(o).setLabelText(D)}},e.prototype._doUpdateAnimation=function(t,e,a,i,s,n,r){var o=this._polyline,l=this._polygon,c=t.hostModel,h=hi(this._data,t,this._stackedOnPoints,e,this._coordSys,a,this._valueOrigin,n),d=h.current,u=h.stackedOnCurrent,p=h.next,v=h.stackedOnNext;if(s&&(d=Ii(h.current,a,s,r),u=Ii(h.stackedOnCurrent,a,s,r),p=Ii(h.next,a,s,r),v=Ii(h.stackedOnNext,a,s,r)),Ai(d,p)>3e3||l&&Ai(u,v)>3e3)return o.stopAnimation(),o.setShape({points:p}),void(l&&(l.stopAnimation(),l.setShape({points:p,stackedOnPoints:v})));o.shape.__points=h.current,o.shape.points=d;var g={shape:{points:p}};h.current!==d&&(g.shape.__points=h.next),o.stopAnimation(),Ba.D(o,g,c),l&&(l.setShape({points:d,stackedOnPoints:u}),l.stopAnimation(),Ba.D(l,{shape:{stackedOnPoints:v}},c),o.shape.points!==l.shape.points&&(l.shape.points=o.shape.points));for(var f=[],y=h.status,m=0;m<y.length;m++){var x=y[m].cmd;if("="===x){var b=t.getItemGraphicEl(y[m].idx1);b&&f.push({el:b,ptIdx:m})}}o.animators&&o.animators.length&&o.animators[0].during((function(){l&&l.dirtyShape();for(var t=o.shape.__points,e=0;e<f.length;e++){var a=f[e].el,i=2*f[e].ptIdx;a.x=t[i],a.y=t[i+1],a.markRedraw()}}))},e.prototype.remove=function(t){var e=this.group,a=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),a&&a.eachItemGraphicEl((function(t,i){t.__temp&&(e.remove(t),a.setItemGraphicEl(i,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(wi.Z),Ui=Bi,Xi=a(5491);function Yi(t,e){return{seriesType:t,plan:(0,Xi.Z)(),reset:function(t){var a=t.getData(),i=t.coordinateSystem,s=t.pipelineContext,n=e||s.large;if(i){var r=(0,C.UI)(i.dimensions,(function(t){return a.mapDimension(t)})).slice(0,2),o=r.length,l=a.getCalculationInfo("stackResultDimension");(0,si.M)(a,r[0])&&(r[0]=l),(0,si.M)(a,r[1])&&(r[1]=l);var c=a.getStore(),h=a.getDimensionIndex(r[0]),d=a.getDimensionIndex(r[1]);return o&&{progress:function(t,e){for(var a=t.end-t.start,s=n&&(0,li.o)(a*o),r=[],l=[],u=t.start,p=0;u<t.end;u++){var v=void 0;if(1===o){var g=c.get(h,u);v=i.dataToPoint(g,null,l)}else r[0]=c.get(h,u),r[1]=c.get(d,u),v=i.dataToPoint(r,null,l);n?(s[p++]=v[0],s[p++]=v[1]):e.setItemLayout(u,v.slice())}n&&e.setLayout("points",s)}}}}}}var ji=a(74089);function qi(t){t.registerChartView(Ui),t.registerSeriesModel($a),t.registerLayout(Yi("line",!0)),t.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),a=t.getModel("lineStyle").getLineStyle();a&&!a.stroke&&(a.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",a)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,(0,ji.Z)("line"))}var Ki=a(78244),Ji=a(30178),Qi=a(22133),ts=a(9787),es=a(19300),as=a(12852),is=pi.Z.CMD;function ss(t,e){return Math.abs(t-e)<1e-5}function ns(t){var e,a,i,s,n,r=t.data,o=t.len(),l=[],c=0,h=0,d=0,u=0;function p(t,a){e&&e.length>2&&l.push(e),e=[t,a]}function v(t,a,i,s){ss(t,i)&&ss(a,s)||e.push(t,a,i,s,i,s)}function g(t,a,i,s,n,r){var o=Math.abs(a-t),l=4*Math.tan(o/4)/3,c=a<t?-1:1,h=Math.cos(t),d=Math.sin(t),u=Math.cos(a),p=Math.sin(a),v=h*n+i,g=d*r+s,f=u*n+i,y=p*r+s,m=n*l*c,x=r*l*c;e.push(v-m*d,g+x*h,f+m*p,y-x*u,f,y)}for(var f=0;f<o;){var y=r[f++],m=1===f;switch(m&&(c=r[f],h=r[f+1],d=c,u=h,y!==is.L&&y!==is.C&&y!==is.Q||(e=[d,u])),y){case is.M:c=d=r[f++],h=u=r[f++],p(d,u);break;case is.L:a=r[f++],i=r[f++],v(c,h,a,i),c=a,h=i;break;case is.C:e.push(r[f++],r[f++],r[f++],r[f++],c=r[f++],h=r[f++]);break;case is.Q:a=r[f++],i=r[f++],s=r[f++],n=r[f++],e.push(c+2/3*(a-c),h+2/3*(i-h),s+2/3*(a-s),n+2/3*(i-n),s,n),c=s,h=n;break;case is.A:var x=r[f++],b=r[f++],C=r[f++],_=r[f++],w=r[f++],k=r[f++]+w;f+=1;var D=!r[f++];a=Math.cos(w)*C+x,i=Math.sin(w)*_+b,m?(d=a,u=i,p(d,u)):v(c,h,a,i),c=Math.cos(k)*C+x,h=Math.sin(k)*_+b;for(var S=(D?-1:1)*Math.PI/2,M=w;D?M>k:M<k;M+=S){var P=D?Math.max(M+S,k):Math.min(M+S,k);g(M,P,x,b,C,_)}break;case is.R:d=c=r[f++],u=h=r[f++],a=d+r[f++],i=u+r[f++],p(a,u),v(a,u,a,i),v(a,i,d,i),v(d,i,d,u),v(d,u,a,u);break;case is.Z:e&&v(c,h,d,u),c=d,h=u;break}}return e&&e.length>2&&l.push(e),l}function rs(t,e,a,i,s,n,r,o,l,c){if(ss(t,a)&&ss(e,i)&&ss(s,r)&&ss(n,o))l.push(r,o);else{var h=2/c,d=h*h,u=r-t,p=o-e,v=Math.sqrt(u*u+p*p);u/=v,p/=v;var g=a-t,f=i-e,y=s-r,m=n-o,x=g*g+f*f,b=y*y+m*m;if(x<d&&b<d)l.push(r,o);else{var C=u*g+p*f,_=-u*y-p*m,w=x-C*C,k=b-_*_;if(w<d&&C>=0&&k<d&&_>=0)l.push(r,o);else{var D=[],S=[];(0,vi.Vz)(t,a,s,r,.5,D),(0,vi.Vz)(e,i,n,o,.5,S),rs(D[0],S[0],D[1],S[1],D[2],S[2],D[3],S[3],l,c),rs(D[4],S[4],D[5],S[5],D[6],S[6],D[7],S[7],l,c)}}}}function os(t,e){var a=ns(t),i=[];e=e||1;for(var s=0;s<a.length;s++){var n=a[s],r=[],o=n[0],l=n[1];r.push(o,l);for(var c=2;c<n.length;){var h=n[c++],d=n[c++],u=n[c++],p=n[c++],v=n[c++],g=n[c++];rs(o,l,h,d,u,p,v,g,r,e),o=v,l=g}i.push(r)}return i}function ls(t,e,a){var i=t[e],s=t[1-e],n=Math.abs(i/s),r=Math.ceil(Math.sqrt(n*a)),o=Math.floor(a/r);0===o&&(o=1,r=a);for(var l=[],c=0;c<r;c++)l.push(o);var h=r*o,d=a-h;if(d>0)for(c=0;c<d;c++)l[c%r]+=1;return l}function cs(t,e,a){for(var i=t.r0,s=t.r,n=t.startAngle,r=t.endAngle,o=Math.abs(r-n),l=o*s,c=s-i,h=l>Math.abs(c),d=ls([l,c],h?0:1,e),u=(h?o:c)/d.length,p=0;p<d.length;p++)for(var v=(h?c:o)/d[p],g=0;g<d[p];g++){var f={};h?(f.startAngle=n+u*p,f.endAngle=n+u*(p+1),f.r0=i+v*g,f.r=i+v*(g+1)):(f.startAngle=n+v*g,f.endAngle=n+v*(g+1),f.r0=i+u*p,f.r=i+u*(p+1)),f.clockwise=t.clockwise,f.cx=t.cx,f.cy=t.cy,a.push(f)}}function hs(t,e,a){for(var i=t.width,s=t.height,n=i>s,r=ls([i,s],n?0:1,e),o=n?"width":"height",l=n?"height":"width",c=n?"x":"y",h=n?"y":"x",d=t[o]/r.length,u=0;u<r.length;u++)for(var p=t[l]/r[u],v=0;v<r[u];v++){var g={};g[c]=u*d,g[h]=v*p,g[o]=d,g[l]=p,g.x+=t.x,g.y+=t.y,a.push(g)}}function ds(t,e,a,i){return t*i-a*e}function us(t,e,a,i,s,n,r,o){var l=a-t,c=i-e,h=r-s,d=o-n,u=ds(h,d,l,c);if(Math.abs(u)<1e-6)return null;var p=t-s,v=e-n,g=ds(p,v,h,d)/u;return g<0||g>1?null:new es.Z(g*l+t,g*c+e)}function ps(t,e,a){var i=new es.Z;es.Z.sub(i,a,e),i.normalize();var s=new es.Z;es.Z.sub(s,t,e);var n=s.dot(i);return n}function vs(t,e){var a=t[t.length-1];a&&a[0]===e[0]&&a[1]===e[1]||t.push(e)}function gs(t,e,a){for(var i=t.length,s=[],n=0;n<i;n++){var r=t[n],o=t[(n+1)%i],l=us(r[0],r[1],o[0],o[1],e.x,e.y,a.x,a.y);l&&s.push({projPt:ps(l,e,a),pt:l,idx:n})}if(s.length<2)return[{points:t},{points:t}];s.sort((function(t,e){return t.projPt-e.projPt}));var c=s[0],h=s[s.length-1];if(h.idx<c.idx){var d=c;c=h,h=d}var u=[c.pt.x,c.pt.y],p=[h.pt.x,h.pt.y],v=[u],g=[p];for(n=c.idx+1;n<=h.idx;n++)vs(v,t[n].slice());vs(v,p),vs(v,u);for(n=h.idx+1;n<=c.idx+i;n++)vs(g,t[n%i].slice());return vs(g,u),vs(g,p),[{points:v},{points:g}]}function fs(t){var e=t.points,a=[],i=[];(0,ts.zk)(e,a,i);var s=new na.Z(a[0],a[1],i[0]-a[0],i[1]-a[1]),n=s.width,r=s.height,o=s.x,l=s.y,c=new es.Z,h=new es.Z;return n>r?(c.x=h.x=o+n/2,c.y=l,h.y=l+r):(c.y=h.y=l+r/2,c.x=o,h.x=o+n),gs(e,c,h)}function ys(t,e,a,i){if(1===a)i.push(e);else{var s=Math.floor(a/2),n=t(e);ys(t,n[0],s,i),ys(t,n[1],a-s,i)}return i}function ms(t,e){for(var a=[],i=0;i<e;i++)a.push((0,Ji.U5)(t));return a}function xs(t,e){e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel}function bs(t){for(var e=[],a=0;a<t.length;)e.push([t[a++],t[a++]]);return e}function Cs(t,e){var a,i=[],s=t.shape;switch(t.type){case"rect":hs(s,e,i),a=ae.Z;break;case"sector":cs(s,e,i),a=as.C;break;case"circle":cs({r0:0,r:s.r,startAngle:0,endAngle:2*Math.PI,cx:s.cx,cy:s.cy},e,i),a=as.C;break;default:var n=t.getComputedTransform(),r=n?Math.sqrt(Math.max(n[0]*n[0]+n[1]*n[1],n[2]*n[2]+n[3]*n[3])):1,o=(0,C.UI)(os(t.getUpdatedPathProxy(),r),(function(t){return bs(t)})),l=o.length;if(0===l)ys(fs,{points:o[0]},e,i);else if(l===e)for(var c=0;c<l;c++)i.push({points:o[c]});else{var h=0,d=(0,C.UI)(o,(function(t){var e=[],a=[];(0,ts.zk)(t,e,a);var i=(a[1]-e[1])*(a[0]-e[0]);return h+=i,{poly:t,area:i}}));d.sort((function(t,e){return e.area-t.area}));var u=e;for(c=0;c<l;c++){var p=d[c];if(u<=0)break;var v=c===l-1?u:Math.ceil(p.area/h*e);v<0||(ys(fs,{points:p.poly},v,i),u-=v)}}a=se.Z;break}if(!a)return ms(t,e);var g=[];for(c=0;c<i.length;c++){var f=new a;f.setShape(i[c]),xs(t,f),g.push(f)}return g}function _s(t,e){var a=t.length,i=e.length;if(a===i)return[t,e];for(var s=[],n=[],r=a<i?t:e,o=Math.min(a,i),l=Math.abs(i-a)/6,c=(o-2)/6,h=Math.ceil(l/c)+1,d=[r[0],r[1]],u=l,p=2;p<o;){var v=r[p-2],g=r[p-1],f=r[p++],y=r[p++],m=r[p++],x=r[p++],b=r[p++],C=r[p++];if(u<=0)d.push(f,y,m,x,b,C);else{for(var _=Math.min(u,h-1)+1,w=1;w<=_;w++){var k=w/_;(0,vi.Vz)(v,f,m,b,k,s),(0,vi.Vz)(g,y,x,C,k,n),v=s[3],g=n[3],d.push(s[1],n[1],s[2],n[2],v,g),f=s[5],y=n[5],m=s[6],x=n[6]}u-=_-1}}return r===t?[d,e]:[t,d]}function ws(t,e){for(var a=t.length,i=t[a-2],s=t[a-1],n=[],r=0;r<e.length;)n[r++]=i,n[r++]=s;return n}function ks(t,e){for(var a,i,s,n=[],r=[],o=0;o<Math.max(t.length,e.length);o++){var l=t[o],c=e[o],h=void 0,d=void 0;l?c?(a=_s(l,c),h=a[0],d=a[1],i=h,s=d):(d=ws(s||l,l),h=l):(h=ws(i||c,c),d=c),n.push(h),r.push(d)}return[n,r]}function Ds(t){for(var e=0,a=0,i=0,s=t.length,n=0,r=s-2;n<s;r=n,n+=2){var o=t[r],l=t[r+1],c=t[n],h=t[n+1],d=o*h-c*l;e+=d,a+=(o+c)*d,i+=(l+h)*d}return 0===e?[t[0]||0,t[1]||0]:[a/e/3,i/e/3,e]}function Ss(t,e,a,i){for(var s=(t.length-2)/6,n=1/0,r=0,o=t.length,l=o-2,c=0;c<s;c++){for(var h=6*c,d=0,u=0;u<o;u+=2){var p=0===u?h:(h+u-2)%l+2,v=t[p]-a[0],g=t[p+1]-a[1],f=e[u]-i[0],y=e[u+1]-i[1],m=f-v,x=y-g;d+=m*m+x*x}d<n&&(n=d,r=c)}return r}function Ms(t){for(var e=[],a=t.length,i=0;i<a;i+=2)e[i]=t[a-i-2],e[i+1]=t[a-i-1];return e}function Ps(t,e,a,i){for(var s,n=[],r=0;r<t.length;r++){var o=t[r],l=e[r],c=Ds(o),h=Ds(l);null==s&&(s=c[2]<0!==h[2]<0);var d=[],u=[],p=0,v=1/0,g=[],f=o.length;s&&(o=Ms(o));for(var y=6*Ss(o,l,c,h),m=f-2,x=0;x<m;x+=2){var b=(y+x)%m+2;d[x+2]=o[b]-c[0],d[x+3]=o[b+1]-c[1]}if(d[0]=o[y]-c[0],d[1]=o[y+1]-c[1],a>0)for(var C=i/a,_=-i/2;_<=i/2;_+=C){var w=Math.sin(_),k=Math.cos(_),D=0;for(x=0;x<o.length;x+=2){var S=d[x],M=d[x+1],P=l[x]-h[0],T=l[x+1]-h[1],A=P*k-T*w,L=P*w+T*k;g[x]=A,g[x+1]=L;var z=A-S,I=L-M;D+=z*z+I*I}if(D<v){v=D,p=_;for(var N=0;N<g.length;N++)u[N]=g[N]}}else for(var Z=0;Z<f;Z+=2)u[Z]=l[Z]-h[0],u[Z+1]=l[Z+1]-h[1];n.push({from:d,to:u,fromCp:c,toCp:h,rotation:-p})}return n}function Ts(t){return t.__isCombineMorphing}var As="__mOriginal_";function Ls(t,e,a){var i=As+e,s=t[i]||t[e];t[i]||(t[i]=t[e]);var n=a.replace,r=a.after,o=a.before;t[e]=function(){var t,e=arguments;return o&&o.apply(this,e),t=n?n.apply(this,e):s.apply(this,e),r&&r.apply(this,e),t}}function zs(t,e){var a=As+e;t[a]&&(t[e]=t[a],t[a]=null)}function Is(t,e){for(var a=0;a<t.length;a++)for(var i=t[a],s=0;s<i.length;){var n=i[s],r=i[s+1];i[s++]=e[0]*n+e[2]*r+e[4],i[s++]=e[1]*n+e[3]*r+e[5]}}function Ns(t,e){var a=t.getUpdatedPathProxy(),i=e.getUpdatedPathProxy(),s=ks(ns(a),ns(i)),n=s[0],r=s[1],o=t.getComputedTransform(),l=e.getComputedTransform();function c(){this.transform=null}o&&Is(n,o),l&&Is(r,l),Ls(e,"updateTransform",{replace:c}),e.transform=null;var h=Ps(n,r,10,Math.PI),d=[];Ls(e,"buildPath",{replace:function(t){for(var a=e.__morphT,i=1-a,s=[],n=0;n<h.length;n++){var r=h[n],o=r.from,l=r.to,c=r.rotation*a,u=r.fromCp,p=r.toCp,v=Math.sin(c),g=Math.cos(c);(0,Ki.t7)(s,u,p,a);for(var f=0;f<o.length;f+=2){var y=o[f],m=o[f+1],x=l[f],b=l[f+1],C=y*i+x*a,_=m*i+b*a;d[f]=C*g-_*v+s[0],d[f+1]=C*v+_*g+s[1]}var w=d[0],k=d[1];t.moveTo(w,k);for(f=2;f<o.length;){x=d[f++],b=d[f++];var D=d[f++],S=d[f++],M=d[f++],P=d[f++];w===x&&k===b&&D===M&&S===P?t.lineTo(M,P):t.bezierCurveTo(x,b,D,S,M,P),w=M,k=P}}}})}function Zs(t,e,a){if(!t||!e)return e;var i=a.done,s=a.during;function n(){zs(e,"buildPath"),zs(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return Ns(t,e),e.__morphT=0,e.animateTo({__morphT:1},(0,C.ce)({during:function(t){e.dirtyShape(),s&&s(t)},done:function(){n(),i&&i()}},a)),e}function Hs(t,e,a,i,s,n){var r=16;t=s===a?0:Math.round(32767*(t-a)/(s-a)),e=n===i?0:Math.round(32767*(e-i)/(n-i));for(var o,l=0,c=(1<<r)/2;c>0;c/=2){var h=0,d=0;(t&c)>0&&(h=1),(e&c)>0&&(d=1),l+=c*c*(3*h^d),0===d&&(1===h&&(t=c-1-t,e=c-1-e),o=t,t=e,e=o)}return l}function Os(t){var e=1/0,a=1/0,i=-1/0,s=-1/0,n=(0,C.UI)(t,(function(t){var n=t.getBoundingRect(),r=t.getComputedTransform(),o=n.x+n.width/2+(r?r[4]:0),l=n.y+n.height/2+(r?r[5]:0);return e=Math.min(o,e),a=Math.min(l,a),i=Math.max(o,i),s=Math.max(l,s),[o,l]})),r=(0,C.UI)(n,(function(n,r){return{cp:n,z:Hs(n[0],n[1],e,a,i,s),path:t[r]}}));return r.sort((function(t,e){return t.z-e.z})).map((function(t){return t.path}))}function Rs(t){return Cs(t.path,t.count)}function Es(){return{fromIndividuals:[],toIndividuals:[],count:0}}function Vs(t,e,a){var i=[];function s(t){for(var e=0;e<t.length;e++){var a=t[e];Ts(a)?s(a.childrenRef()):a instanceof ui.ZP&&i.push(a)}}s(t);var n=i.length;if(!n)return Es();var r=a.dividePath||Rs,o=r({path:e,count:n});if(o.length!==n)return console.error("Invalid morphing: unmatched splitted path"),Es();i=Os(i),o=Os(o);for(var l=a.done,c=a.during,h=a.individualDelay,d=new Qi.ZP,u=0;u<n;u++){var p=i[u],v=o[u];v.parent=e,v.copyTransform(d),h||Ns(p,v)}function g(t){for(var e=0;e<o.length;e++)o[e].addSelfToZr(t)}function f(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,zs(e,"addSelfToZr"),zs(e,"removeSelfFromZr")}e.__isCombineMorphing=!0,e.childrenRef=function(){return o},Ls(e,"addSelfToZr",{after:function(t){g(t)}}),Ls(e,"removeSelfFromZr",{after:function(t){for(var e=0;e<o.length;e++)o[e].removeSelfFromZr(t)}});var y=o.length;if(h){var m=y,x=function(){m--,0===m&&(f(),l&&l())};for(u=0;u<y;u++){var b=h?(0,C.ce)({delay:(a.delay||0)+h(u,y,i[u],o[u]),done:x},a):a;Zs(i[u],o[u],b)}}else e.__morphT=0,e.animateTo({__morphT:1},(0,C.ce)({during:function(t){for(var a=0;a<y;a++){var i=o[a];i.__morphT=e.__morphT,i.dirtyShape()}c&&c(t)},done:function(){f();for(var e=0;e<t.length;e++)zs(t[e],"updateTransform");l&&l()}},a));return e.__zr&&g(e.__zr),{fromIndividuals:i,toIndividuals:o,count:y}}function Fs(t,e,a){var i=e.length,s=[],n=a.dividePath||Rs;function r(t){for(var e=0;e<t.length;e++){var a=t[e];Ts(a)?r(a.childrenRef()):a instanceof ui.ZP&&s.push(a)}}if(Ts(t)){r(t.childrenRef());var o=s.length;if(o<i)for(var l=0,c=o;c<i;c++)s.push((0,Ji.U5)(s[l++%o]));s.length=i}else{s=n({path:t,count:i});var h=t.getComputedTransform();for(c=0;c<s.length;c++)s[c].setLocalTransform(h);if(s.length!==i)return console.error("Invalid morphing: unmatched splitted path"),Es()}s=Os(s),e=Os(e);var d=a.individualDelay;for(c=0;c<i;c++){var u=d?(0,C.ce)({delay:(a.delay||0)+d(c,i,s[c],e[c])},a):a;Zs(s[c],e[c],u)}return{fromIndividuals:s,toIndividuals:e,count:e.length}}function Gs(t){return(0,C.kJ)(t[0])}function Ws(t,e){for(var a=[],i=t.length,s=0;s<i;s++)a.push({one:t[s],many:[]});for(s=0;s<e.length;s++){var n=e[s].length,r=void 0;for(r=0;r<n;r++)a[r%i].many.push(e[s][r])}var o=0;for(s=i-1;s>=0;s--)if(!a[s].many.length){var l=a[o].many;if(l.length<=1){if(!o)return a;o=0}n=l.length;var c=Math.ceil(n/2);a[s].many=l.slice(c,n),a[o].many=l.slice(0,c),o++}return a}var $s={clone:function(t){for(var e=[],a=1-Math.pow(1-t.path.style.opacity,1/t.count),i=0;i<t.count;i++){var s=(0,Ji.U5)(t.path);s.setStyle("opacity",a),e.push(s)}return e},split:null};function Bs(t,e,a,i,s,n){if(t.length&&e.length){var r=(0,Ba.ke)("update",i,s);if(r&&r.duration>0){var o,l,c=i.getModel("universalTransition").get("delay"),h=Object.assign({setToFinal:!0},r);Gs(t)&&(o=t,l=e),Gs(e)&&(o=e,l=t);for(var d=o?o===t:t.length>e.length,u=o?Ws(l,o):Ws(d?e:t,[d?t:e]),p=0,v=0;v<u.length;v++)p+=u[v].many.length;var g=0;for(v=0;v<u.length;v++)f(u[v],d,g,p),g+=u[v].many.length}}function f(t,e,i,s,r){var o=t.many,l=t.one;if(1!==o.length||r)for(var d=(0,C.ce)({dividePath:$s[a],individualDelay:c&&function(t,e,a,n){return c(t+i,s)}},h),u=e?Vs(o,l,d):Fs(l,o,d),p=u.fromIndividuals,v=u.toIndividuals,g=p.length,y=0;y<g;y++){b=c?(0,C.ce)({delay:c(y,g)},h):h;n(p[y],v[y],e?o[y]:t.one,e?t.one:o[y],b)}else{var m=e?o[0]:l,x=e?l:o[0];if(Ts(m))f({many:[m],one:x},!0,i,s,!0);else{var b=c?(0,C.ce)({delay:c(i,s)},h):h;Zs(m,x,b),n(m,x,m,x,b)}}}}function Us(t){if(!t)return[];if((0,C.kJ)(t)){for(var e=[],a=0;a<t.length;a++)e.push(Us(t[a]));return e}var i=[];return t.traverse((function(t){t instanceof ui.ZP&&!t.disableMorphing&&!t.invisible&&!t.ignore&&i.push(t)})),i}a(65803);var Xs=a(84093),Ys=1e4,js=(0,P.Yf)();function qs(t){for(var e=t.dimensions,a=0;a<e.length;a++){var i=t.getDimensionInfo(e[a]);if(i&&0===i.otherDims.itemGroupId)return e[a]}}function Ks(t){var e=[];return(0,C.S6)(t,(function(t){var a=t.data;if(!(a.count()>Ys))for(var i=a.getIndices(),s=qs(a),n=0;n<i.length;n++)e.push({data:a,dim:t.dim||s,divide:t.divide,dataIndex:n})})),e}function Js(t,e,a){t.traverse((function(t){t instanceof ui.ZP&&(0,Ba.KZ)(t,{style:{opacity:0}},e,{dataIndex:a,isFrom:!0})}))}function Qs(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e),t.parent.remove(t)}}function tn(t){t.stopAnimation(),t.isGroup&&t.traverse((function(t){t.stopAnimation()}))}function en(t,e,a){var i=(0,Ba.ke)("update",a,e);i&&t.traverse((function(t){if(t instanceof Xs.ZP){var e=(0,Ba._W)(t);e&&t.animateFrom({style:e},i)}}))}function an(t,e){var a=t.length;if(a!==e.length)return!1;for(var i=0;i<a;i++){var s=t[i],n=e[i];if(s.data.getId(s.dataIndex)!==n.data.getId(n.dataIndex))return!1}return!0}function sn(t,e,a){var i=Ks(t),s=Ks(e);function n(t,e,a,i,s){(a||t)&&e.animateFrom({style:a&&a!==t?(0,C.l7)((0,C.l7)({},a.style),t.style):t.style},s)}function r(t){for(var e=0;e<t.length;e++)if(t[e].dim)return t[e].dim}var o=r(i),l=r(s),c=!1;function h(t,e){return function(a){var i=a.data,s=a.dataIndex;if(e)return i.getId(s);var n=i.hostModel&&i.hostModel.get("dataGroupId"),r=t?o||l:l||o,c=r&&i.getDimensionInfo(r),h=c&&c.ordinalMeta;if(c){var d=i.get(c.name,s);return h&&h.categories[d]||d+""}var u=i.getRawDataItem(s);return u&&u.groupId?u.groupId+"":n||i.getId(s)}}var d=an(i,s),u={};if(!d)for(var p=0;p<s.length;p++){var v=s[p],g=v.data.getItemGraphicEl(v.dataIndex);g&&(u[g.id]=!0)}function f(t,e){var a=i[e],r=s[t],o=r.data.hostModel,l=a.data.getItemGraphicEl(a.dataIndex),h=r.data.getItemGraphicEl(r.dataIndex);l!==h?l&&u[l.id]||h&&(tn(h),l?(tn(l),Qs(l),c=!0,Bs(Us(l),Us(h),r.divide,o,t,n)):Js(h,o,t)):h&&en(h,r.dataIndex,o)}new pt.Z(i,s,h(!0,d),h(!1,d),null,"multiple").update(f).updateManyToOne((function(t,e){var a=s[t],r=a.data,o=r.hostModel,l=r.getItemGraphicEl(a.dataIndex),h=(0,C.hX)((0,C.UI)(e,(function(t){return i[t].data.getItemGraphicEl(i[t].dataIndex)})),(function(t){return t&&t!==l&&!u[t.id]}));l&&(tn(l),h.length?((0,C.S6)(h,(function(t){tn(t),Qs(t)})),c=!0,Bs(Us(h),Us(l),a.divide,o,t,n)):Js(l,o,a.dataIndex))})).updateOneToMany((function(t,e){var a=i[e],r=a.data.getItemGraphicEl(a.dataIndex);if(!r||!u[r.id]){var o=(0,C.hX)((0,C.UI)(t,(function(t){return s[t].data.getItemGraphicEl(s[t].dataIndex)})),(function(t){return t&&t!==r})),l=s[t[0]].data.hostModel;o.length&&((0,C.S6)(o,(function(t){return tn(t)})),r?(tn(r),Qs(r),c=!0,Bs(Us(r),Us(o),a.divide,l,t[0],n)):(0,C.S6)(o,(function(e){return Js(e,l,t[0])})))}})).updateManyToMany((function(t,e){new pt.Z(e,t,(function(t){return i[t].data.getId(i[t].dataIndex)}),(function(t){return s[t].data.getId(s[t].dataIndex)})).update((function(a,i){f(t[a],e[i])})).execute()})).execute(),c&&(0,C.S6)(e,(function(t){var e=t.data,i=e.hostModel,s=i&&a.getViewOfSeriesModel(i),n=(0,Ba.ke)("update",i,0);s&&i.isAnimationEnabled()&&n&&n.duration>0&&s.group.traverse((function(t){t instanceof ui.ZP&&!t.animators.length&&t.animateFrom({style:{opacity:0}},n)}))}))}function nn(t){var e=t.getModel("universalTransition").get("seriesKey");return e||t.id}function rn(t){return(0,C.kJ)(t)?t.sort().join(","):t}function on(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function ln(t,e){var a=(0,C.kW)(),i=(0,C.kW)(),s=(0,C.kW)();return(0,C.S6)(t.oldSeries,(function(e,a){var n=t.oldData[a],r=nn(e),o=rn(r);i.set(o,n),(0,C.kJ)(r)&&(0,C.S6)(r,(function(t){s.set(t,{data:n,key:o})}))})),(0,C.S6)(e.updatedSeries,(function(t){if(t.isUniversalTransitionEnabled()&&t.isAnimationEnabled()){var e=t.getData(),n=nn(t),r=rn(n),o=i.get(r);if(o)a.set(r,{oldSeries:[{divide:on(o),data:o}],newSeries:[{divide:on(e),data:e}]});else if((0,C.kJ)(n)){0;var l=[];(0,C.S6)(n,(function(t){var e=i.get(t);e&&l.push({divide:on(e),data:e})})),l.length&&a.set(r,{oldSeries:l,newSeries:[{data:e,divide:on(e)}]})}else{var c=s.get(n);if(c){var h=a.get(c.key);h||(h={oldSeries:[{data:c.data,divide:on(c.data)}],newSeries:[]},a.set(c.key,h)),h.newSeries.push({data:e,divide:on(e)})}}}})),a}function cn(t,e){for(var a=0;a<t.length;a++){var i=null!=e.seriesIndex&&e.seriesIndex===t[a].seriesIndex||null!=e.seriesId&&e.seriesId===t[a].id;if(i)return a}}function hn(t,e,a,i){var s=[],n=[];(0,C.S6)((0,P.kF)(t.from),(function(t){var a=cn(e.oldSeries,t);a>=0&&s.push({data:e.oldData[a],divide:on(e.oldData[a]),dim:t.dimension})})),(0,C.S6)((0,P.kF)(t.to),(function(t){var e=cn(a.updatedSeries,t);if(e>=0){var i=a.updatedSeries[e].getData();n.push({data:i,divide:on(i),dim:t.dimension})}})),s.length>0&&n.length>0&&sn(s,n,i)}function dn(t){t.registerUpdateLifecycle("series:beforeupdate",(function(t,e,a){(0,C.S6)((0,P.kF)(a.seriesTransition),(function(t){(0,C.S6)((0,P.kF)(t.to),(function(t){for(var e=a.updatedSeries,i=0;i<e.length;i++)(null!=t.seriesIndex&&t.seriesIndex===e[i].seriesIndex||null!=t.seriesId&&t.seriesId===e[i].id)&&(e[i][Fa.V]=!0)}))}))})),t.registerUpdateLifecycle("series:transition",(function(t,e,a){var i=js(e);if(i.oldSeries&&a.updatedSeries&&a.optionChanged){var s=a.seriesTransition;if(s)(0,C.S6)((0,P.kF)(s),(function(t){hn(t,i,a,e)}));else{var n=ln(i,a);(0,C.S6)(n.keys(),(function(t){var a=n.get(t);sn(a.oldSeries,a.newSeries,e)}))}(0,C.S6)(a.updatedSeries,(function(t){t[Fa.V]&&(t[Fa.V]=!1)}))}for(var r=t.getSeries(),o=i.oldSeries=[],l=i.oldData=[],c=0;c<r.length;c++){var h=r[c].getData();h.count()<Ys&&(o.push(r[c]),l.push(h))}}))}var un=a(37049),pn=a(4592);(0,x.D)([Za,Ha.N,Oa.N,Ra.N,Ea.N,qi,un.N,dn]);var vn={name:"ValueCardBarLine",components:{VChart:pn.ZP},data:function(){return{chart:{option:{tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{}},grid:{left:"3%",right:"4%",bottom:"12%",containLabel:!0},legend:{data:["新客","占比"],orient:"horizontal",top:"bottom"},xAxis:[{type:"category",data:["5000送1000","8000送2000","2000股东卡","15000送5000","50000送20000","30000送5000","15000送50000"],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",min:0,max:250,interval:50,axisLabel:{formatter:"{value}"}},{type:"value",min:0,max:25,interval:5,axisLabel:{formatter:"{value} %"}}],series:[{name:"新客",type:"bar",barWidth:"16",itemStyle:{color:"#5c59c3"},tooltip:{valueFormatter:function(t){return t}},data:[2,4.9,7,23.2,25.6,76.7,135.6,162.2,32.6,20,6.4,3.3]},{name:"占比",type:"line",itemStyle:{color:"#c35843"},yAxisIndex:1,tooltip:{valueFormatter:function(t){return t+" %"}},data:[2,2.2,3.3,4.5,6.3,10.2,20.3,23.4,23,16.5,12,6.2]}]}}}},activated(){},created(){},mounted(){this.$nextTick((()=>{this.$refs.chart.resize()}))},methods:{}},gn=vn,fn=(0,u.Z)(gn,y,m,!1,null,"fa17acd0",null),yn=fn.exports,mn=function(){var t=this,e=t._self._c;return e("content",[e("v-chart",{ref:"chart",staticClass:"e-chart",attrs:{"auto-resize":!0,option:t.chart.option}})],1)},xn=[];(0,x.D)([Za,Ha.N,Oa.N,Ra.N,Ea.N,qi,un.N,dn]);var bn={name:"ValueCardBarLine",components:{VChart:pn.ZP},data:function(){return{chart:{option:{tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{}},grid:{left:"3%",right:"4%",bottom:"12%",containLabel:!0},legend:{data:["人数","占比"],orient:"horizontal",top:"bottom"},xAxis:[{type:"category",data:["剩余3千以下","剩余3千到1万","剩余1万到3万","剩余3万到6万","剩余6万以上"],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",min:0,max:250,interval:50,axisLabel:{formatter:"{value}"}},{type:"value",min:0,max:25,interval:5,axisLabel:{formatter:"{value} %"}}],series:[{name:"人数",type:"bar",barWidth:"16",itemStyle:{color:"#5c59c3"},tooltip:{valueFormatter:function(t){return t}},data:[2,4.9,7,23.2,25.6,76.7,135.6,162.2,6.4,3.3]},{name:"占比",type:"line",itemStyle:{color:"#c35843"},yAxisIndex:1,tooltip:{valueFormatter:function(t){return t+" %"}},data:[2,2.2,3.3,4.5,6.3,10.2,23,16.5,12,6.2]}]}}}},activated(){},created(){},mounted(){this.$nextTick((()=>{this.$refs.chart.resize()}))},methods:{}},Cn=bn,_n=(0,u.Z)(Cn,mn,xn,!1,null,"0be6afa0",null),wn=_n.exports,kn={name:"ValueCardStatistics",components:{SelectShop:c.Z,ValueCard:yn,BalanceLevel:wn},data:function(){return{modal:{show:!1,title:"",type:!1,width:1e3,scrollable:!0,styles:{top:"50px"}},list:[{info:1}],searchData:{sid:"",search:"",start:"",end:""}}},activated(){},created(){},methods:{showModal(t,e,a={}){console.log(a),this.modal.show=!0,this.modal.title=t,this.modal.type=e,this.modal.width=window.innerWidth-300},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()}}},Dn=kn,Sn=(0,u.Z)(Dn,g,f,!1,null,"2c91e128",null),Mn=Sn.exports,Pn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("DatePicker",{staticStyle:{width:"200px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1)]),e("div",{staticClass:"right"})]),t._m(0),e("div",{staticClass:"big-box"},[e("div",{staticClass:"header"},[t._v("各类套餐次卡剩余耗卡金额")]),e("div",{staticClass:"content"},[e("ValueCard")],1)]),e("div",{staticClass:"big-box"},[e("div",{staticClass:"header"},[t._v("剩余总金额分层统计各层所占人数")]),e("div",{staticClass:"content"},[e("BalanceLevel")],1)]),e("Modal",{attrs:{"footer-hide":!0,scrollable:t.modal.scrollable,styles:t.modal.styles,title:t.modal.title,width:t.modal.width},model:{value:t.modal.show,callback:function(e){t.$set(t.modal,"show",e)},expression:"modal.show"}})],1)},Tn=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"baseInfo"},[e("div",{staticClass:"box color2"},[e("div",{staticClass:"header"},[e("span",{staticClass:"text"},[t._v("未耗卡总额")])]),e("div",{staticClass:"content"},[e("div",{staticClass:"cell"},[t._v("￥2342342.22 万元")])])]),e("div",{staticClass:"box color1"},[e("div",{staticClass:"header"},[e("span",{staticClass:"text"},[t._v("耗卡率")])]),e("div",{staticClass:"content"},[e("div",{staticClass:"cell"},[t._v("123%")])])]),e("div",{staticClass:"box color4"},[e("div",{staticClass:"header"},[e("span",{staticClass:"text"},[t._v("进30天购买套餐次卡金额")])]),e("div",{staticClass:"content"},[e("div",{staticClass:"cell"},[t._v("￥2342342.22 万元")])])]),e("div",{staticClass:"box color3"},[e("div",{staticClass:"header"},[e("span",{staticClass:"text"},[t._v("进30天耗卡金额")])]),e("div",{staticClass:"content"},[e("div",{staticClass:"cell"},[t._v("￥2342342.22万元")])])])])}],An={name:"PackageStatistics",components:{SelectShop:c.Z,ValueCard:yn,BalanceLevel:wn},data:function(){return{modal:{show:!1,title:"",type:!1,width:1e3,scrollable:!0,styles:{top:"50px"}},list:[{info:1}],searchData:{sid:"",search:"",start:"",end:""}}},activated(){},created(){},methods:{showModal(t,e,a={}){console.log(a),this.modal.show=!0,this.modal.title=t,this.modal.type=e,this.modal.width=window.innerWidth-300},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()}}},Ln=An,zn=(0,u.Z)(Ln,Pn,Tn,!1,null,"54883ce2",null),In=zn.exports,Nn={name:"FinancialAnalysis",components:{ValueCardStatistics:Mn,BalanceStatistics:v,PackageStatistics:In},data:function(){return{tab_index:"欠款统计",tab_list:[{name:"欠款统计",id:1},{name:"会员储值卡剩余",id:2},{name:"会员套餐次卡剩余",id:3}]}},computed:{current(){return(t,e)=>e===t.name&&this.tab_index===e}},methods:{handleTabClick(t){this.tab_index=t}}},Zn=Nn,Hn=(0,u.Z)(Zn,n,r,!1,null,"30d55db3",null),On=Hn.exports,Rn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("Tabs",{attrs:{size:"small"},on:{"on-click":t.handleTabClick},model:{value:t.tab_index,callback:function(e){t.tab_index=e},expression:"tab_index"}},t._l(t.tab_list,(function(a){return e("TabPane",{key:a.id,attrs:{label:a.name,name:a.name}},[t.current(a,"单店对比历史")?e("SameStoreContrast"):t._e(),t.current(a,"店与店对比")?e("ManyStoreContrast"):t._e()],1)})),1)],1)},En=[],Vn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("选择时间段")]),e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1),e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("对比时间段")]),e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1)]),e("div",{staticClass:"right"},[e("Poptip",{attrs:{placement:"left-start",transfer:"",trigger:"hover"}},[e("div",{staticClass:"explain"},[t._v("?字段说明")]),e("div",{attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"fields-remark"},[e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("提示:")]),t._v(" 当前模块的各类数据根据时间以及门店务选计算展示。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("总业绩:")]),t._v(" 现金类收入总和,现金类收入是指通过现金、微信、支付宝及POS等支付方式开单收银的订单成交额。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("项目业绩:")]),t._v(" 客户使用现金类支付方式在门店消费项目产生的业绩。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("套餐次卡业绩:")]),t._v(" 客户使用现金类支付方式在门店开卡、续卡以及卡换卡产生的业绩。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("储值卡/优惠券业绩:")]),t._v(" 客户使用现金类支付方式在门店购买储值卡、优恋券、续卡产生的业绩。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("商品业绩:")]),t._v(" 客户使用现金类支付方式在门店消费商品产生的业绩。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("转介绍业绩:")]),t._v(" 来源深道为【老带新】的客人产生的业绩。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("营业收入:")]),t._v(" 门店实际收入总和,实际收入是指商品、项日、套餐及附加费的现金类业绩以及真实卡耗的总和。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("总耗卡:")]),t._v(" 在统计时间内会员资产消耗总和,会员资产消耗包括储值卡、套餐次卡、赠品以及会员钱包等支付方式开单收银的订单成交额。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("业绩卡耗比:")]),t._v(" 总业结/总耗卡的占比。 ")])])])]),e("div",{staticClass:"add-bt",on:{click:t.exportDataEvent}},[t._v("导出")]),e("Toolbar",{attrs:{"table-columns":t.tableColumns,"total-columns":t.totalColumns},on:{"on-change":t.changeColumns}})],1)]),e("div",{staticClass:"list"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),1),e("div",{staticClass:"page"},[e("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1)])},Fn=[],Gn=a(73197),Wn={name:"SameStoreContrast",components:{Toolbar:Gn.Z,SelectShop:c.Z},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"门店",key:"0",width:120,fixed:"left"},{title:"总业绩",key:"1",width:120},{title:"营业收入",key:"2",width:120},{title:"总耗卡",key:"3",width:120},{title:"待收欠款总额",key:"4",width:120},{title:"储值卡总余额",key:"5",width:120},{title:"项目业绩",key:"6",width:120},{title:"商品业绩",key:"7",width:120},{title:"套餐次卡业绩",key:"8",width:120},{title:"储值卡业绩",key:"9",width:120},{title:"优惠券业绩",key:"10",width:120},{title:"老带新业绩",key:"11",width:120},{title:"到店客次",key:"12",width:120},{title:"新客到店人数",key:"13",width:120},{title:"老客到店人数",key:"14",width:120},{title:"新增持卡会员",key:"15",width:120},{title:"新客成交率",key:"16",width:120},{title:"老带新新客数",key:"17",width:120},{title:"新客占比",key:"18",width:120},{title:"老客占比",key:"19",width:120},{title:"新客业绩",key:"20",width:120},{title:"老客业绩",key:"21",width:120},{title:"散客业绩",key:"22",width:120},{title:"新客业绩占比",key:"23",width:120},{title:"老客业绩占比",key:"24",width:120},{title:"散客业绩占比",key:"25",width:120},{title:"客单价",key:"26",width:120},{title:"客单价(不含卡)",key:"27",width:120},{title:"客单价(新客)",key:"28",width:120},{title:"客单价(老客)",key:"29",width:120},{title:"客单价(老带新)",key:"30",width:120},{title:"本月目标",key:"31",width:120},{title:"目标完成率",key:"32",width:120},{title:"人效",key:"33",width:120},{title:"坪效",key:"34",width:120},{title:"待耗卡总额",key:"35",width:120}],totalColumns:[{title:"门店",key:"0",fixed:"left"},{title:"总业绩",key:"1"},{title:"营业收入",key:"2"},{title:"总耗卡",key:"3"},{title:"待收欠款总额",key:"4"},{title:"储值卡总余额",key:"5"},{title:"项目业绩",key:"6"},{title:"商品业绩",key:"7"},{title:"套餐次卡业绩",key:"8"},{title:"储值卡业绩",key:"9"},{title:"优惠券业绩",key:"10"},{title:"老带新业绩",key:"11"},{title:"到店客次",key:"12"},{title:"新客到店人数",key:"13"},{title:"老客到店人数",key:"14"},{title:"新增持卡会员",key:"15"},{title:"新客成交率",key:"16"},{title:"老带新新客数",key:"17"},{title:"新客占比",key:"18"},{title:"老客占比",key:"19"},{title:"新客业绩",key:"20"},{title:"老客业绩",key:"21"},{title:"散客业绩",key:"22"},{title:"新客业绩占比",key:"23"},{title:"老客业绩占比",key:"24"},{title:"散客业绩占比",key:"25"},{title:"客单价",key:"26"},{title:"客单价(不含卡)",key:"27"},{title:"客单价(新客)",key:"28"},{title:"客单价(老客)",key:"29"},{title:"客单价(老带新)",key:"30"},{title:"本月目标",key:"31"},{title:"目标完成率",key:"32"},{title:"人效",key:"33"},{title:"坪效",key:"34"},{title:"待耗卡总额",key:"35"}],searchData:{sid:"",search:"",start:"",end:"",p:1,page:10,count:0}}},activated(){},created(){},mounted(){this.setHeight(),window.onresize=()=>{this.setHeight()}},methods:{setHeight(){this.tableHeight=window.innerHeight-286},changeColumns(t){this.tableColumns=t},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()},exportDataEvent(){setTimeout((()=>{const t=[];this.$refs.xTable.exportData({filename:"",type:"csv",isHeader:!0,isFooter:!0,data:t})}),100)}}},$n=Wn,Bn=(0,u.Z)($n,Vn,Fn,!1,null,"0d778f00",null),Un=Bn.exports,Xn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("选择时间段")]),e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1),e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("对比时间段")]),e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1)]),e("div",{staticClass:"right"},[e("Poptip",{attrs:{placement:"left-start",transfer:"",trigger:"hover"}},[e("div",{staticClass:"explain"},[t._v("?字段说明")]),e("div",{attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"fields-remark"},[e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("提示:")]),t._v(" 当前模块的各类数据根据时间以及门店务选计算展示。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("总业绩:")]),t._v(" 现金类收入总和,现金类收入是指通过现金、微信、支付宝及POS等支付方式开单收银的订单成交额。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("项目业绩:")]),t._v(" 客户使用现金类支付方式在门店消费项目产生的业绩。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("套餐次卡业绩:")]),t._v(" 客户使用现金类支付方式在门店开卡、续卡以及卡换卡产生的业绩。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("储值卡/优惠券业绩:")]),t._v(" 客户使用现金类支付方式在门店购买储值卡、优恋券、续卡产生的业绩。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("商品业绩:")]),t._v(" 客户使用现金类支付方式在门店消费商品产生的业绩。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("转介绍业绩:")]),t._v(" 来源深道为【老带新】的客人产生的业绩。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("营业收入:")]),t._v(" 门店实际收入总和,实际收入是指商品、项日、套餐及附加费的现金类业绩以及真实卡耗的总和。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("总耗卡:")]),t._v(" 在统计时间内会员资产消耗总和,会员资产消耗包括储值卡、套餐次卡、赠品以及会员钱包等支付方式开单收银的订单成交额。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("业绩卡耗比:")]),t._v(" 总业结/总耗卡的占比。 ")])])])]),e("div",{staticClass:"add-bt",on:{click:t.exportDataEvent}},[t._v("导出")]),e("Toolbar",{attrs:{"table-columns":t.tableColumns,"total-columns":t.totalColumns},on:{"on-change":t.changeColumns}})],1)]),e("div",{staticClass:"list"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),1),e("div",{staticClass:"page"},[e("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1)])},Yn=[],jn={name:"ManyStoreContrast",components:{Toolbar:Gn.Z,SelectShop:c.Z},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"门店",key:"0",width:120,fixed:"left"},{title:"总业绩",key:"1",width:120},{title:"营业收入",key:"2",width:120},{title:"总耗卡",key:"3",width:120},{title:"待收欠款总额",key:"4",width:120},{title:"储值卡总余额",key:"5",width:120},{title:"项目业绩",key:"6",width:120},{title:"商品业绩",key:"7",width:120},{title:"套餐次卡业绩",key:"8",width:120},{title:"储值卡业绩",key:"9",width:120},{title:"优惠券业绩",key:"10",width:120},{title:"老带新业绩",key:"11",width:120},{title:"到店客次",key:"12",width:120},{title:"新客到店人数",key:"13",width:120},{title:"老客到店人数",key:"14",width:120},{title:"新增持卡会员",key:"15",width:120},{title:"新客成交率",key:"16",width:120},{title:"老带新新客数",key:"17",width:120},{title:"新客占比",key:"18",width:120},{title:"老客占比",key:"19",width:120},{title:"新客业绩",key:"20",width:120},{title:"老客业绩",key:"21",width:120},{title:"散客业绩",key:"22",width:120},{title:"新客业绩占比",key:"23",width:120},{title:"老客业绩占比",key:"24",width:120},{title:"散客业绩占比",key:"25",width:120},{title:"客单价",key:"26",width:120},{title:"客单价(不含卡)",key:"27",width:120},{title:"客单价(新客)",key:"28",width:120},{title:"客单价(老客)",key:"29",width:120},{title:"客单价(老带新)",key:"30",width:120},{title:"本月目标",key:"31",width:120},{title:"目标完成率",key:"32",width:120},{title:"人效",key:"33",width:120},{title:"坪效",key:"34",width:120},{title:"待耗卡总额",key:"35",width:120}],totalColumns:[{title:"门店",key:"0",fixed:"left"},{title:"总业绩",key:"1"},{title:"营业收入",key:"2"},{title:"总耗卡",key:"3"},{title:"待收欠款总额",key:"4"},{title:"储值卡总余额",key:"5"},{title:"项目业绩",key:"6"},{title:"商品业绩",key:"7"},{title:"套餐次卡业绩",key:"8"},{title:"储值卡业绩",key:"9"},{title:"优惠券业绩",key:"10"},{title:"老带新业绩",key:"11"},{title:"到店客次",key:"12"},{title:"新客到店人数",key:"13"},{title:"老客到店人数",key:"14"},{title:"新增持卡会员",key:"15"},{title:"新客成交率",key:"16"},{title:"老带新新客数",key:"17"},{title:"新客占比",key:"18"},{title:"老客占比",key:"19"},{title:"新客业绩",key:"20"},{title:"老客业绩",key:"21"},{title:"散客业绩",key:"22"},{title:"新客业绩占比",key:"23"},{title:"老客业绩占比",key:"24"},{title:"散客业绩占比",key:"25"},{title:"客单价",key:"26"},{title:"客单价(不含卡)",key:"27"},{title:"客单价(新客)",key:"28"},{title:"客单价(老客)",key:"29"},{title:"客单价(老带新)",key:"30"},{title:"本月目标",key:"31"},{title:"目标完成率",key:"32"},{title:"人效",key:"33"},{title:"坪效",key:"34"},{title:"待耗卡总额",key:"35"}],searchData:{sid:"",search:"",start:"",end:"",p:1,page:10,count:0}}},activated(){},created(){},mounted(){this.setHeight(),window.onresize=()=>{this.setHeight()}},methods:{setHeight(){this.tableHeight=window.innerHeight-286},changeColumns(t){this.tableColumns=t},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()},exportDataEvent(){setTimeout((()=>{const t=[];this.$refs.xTable.exportData({filename:"",type:"csv",isHeader:!0,isFooter:!0,data:t})}),100)}}},qn=jn,Kn=(0,u.Z)(qn,Xn,Yn,!1,null,"ff380522",null),Jn=Kn.exports,Qn={name:"ContrastiveAnalysis",components:{ManyStoreContrast:Jn,SameStoreContrast:Un},data:function(){return{tab_index:"单店对比历史",tab_list:[{name:"单店对比历史",id:1},{name:"店与店对比",id:2}]}},computed:{current(){return(t,e)=>e===t.name&&this.tab_index===e}},methods:{handleTabClick(t){this.tab_index=t}}},tr=Qn,er=(0,u.Z)(tr,Rn,En,!1,null,"13542fde",null),ar=er.exports,ir=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("Tabs",{attrs:{size:"small"},on:{"on-click":t.handleTabClick},model:{value:t.tab_index,callback:function(e){t.tab_index=e},expression:"tab_index"}},t._l(t.tab_list,(function(a){return e("TabPane",{key:a.id,attrs:{label:a.name,name:a.name}},[t.current(a,"项目分析")?e("ProjectAnalysis"):t._e(),t.current(a,"商品分析")?e("GoodsAnalysis"):t._e(),t.current(a,"卡分析")?e("CardAnalysis"):t._e(),t.current(a,"爆品销售分析")?e("HotProductAnalysis"):t._e(),t.current(a,"销售排行")?e("SalesRank"):t._e(),t.current(a,"项目转卡分析")?e("ProjectTransferCardAnalysis"):t._e(),t.current(a,"指定品项转化")?e("ProjectCardInto"):t._e(),t.current(a,"项目服务")?e("ProjectService"):t._e()],1)})),1)],1)},sr=[],nr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1),e("div",{staticClass:"box"},[e("Input",{staticStyle:{width:"250px"},attrs:{clearable:"","enter-button":"",placeholder:"搜索项目名称/大类/小类",search:""},on:{"on-clear":t.search,"on-search":t.search},model:{value:t.searchData.search,callback:function(e){t.$set(t.searchData,"search",e)},expression:"searchData.search"}})],1)]),e("div",{staticClass:"right"},[e("Poptip",{attrs:{placement:"left-start",transfer:"",trigger:"hover"}},[e("div",{staticClass:"explain"},[t._v("?字段说明")]),e("div",{attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"fields-remark"},[e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("提示:")]),t._v(" 当前模块的各类数据根据时间以及门店筛选计算展示。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("服务次数:")]),t._v(" 客户在门店消费该项目的累计总次数。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("服务客户总量:")]),t._v(" 门店消费该项目的客数总和。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("服务持卡会员量:")]),t._v(" 门店消费该项目的持卡会员数总和。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("多次体验会员量:")]),t._v(" 门店消费该项目2次及以上的会员数总和。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("业绩:")]),t._v(" 该项目产生的业绩。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("耗卡:")]),t._v(" 该项目产生的耗卡。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("客户年龄占比:")]),t._v(" 门店消费该项目的客户年龄饼状图。 ")])])])]),e("div",{staticClass:"add-bt",on:{click:t.exportDataEvent}},[t._v("导出")])],1)]),e("div",{staticClass:"list"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),1),e("div",{staticClass:"page"},[e("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1)])},rr=[],or={name:"ProjectAnalysis",components:{SelectShop:c.Z},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"项目名称",key:"0"},{title:"大类",key:"1"},{title:"小类",key:"2"},{title:"服务次数",key:"3"},{title:"服务客户总量",key:"4"},{title:"服务持卡会员量",key:"5"},{title:"业绩",key:"6"},{title:"耗卡",key:"7"}],searchData:{sid:"",search:"",start:"",end:"",p:1,page:10,count:0}}},activated(){},created(){},mounted(){this.setHeight(),window.onresize=()=>{this.setHeight()}},methods:{setHeight(){this.tableHeight=window.innerHeight-296},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()},exportDataEvent(){setTimeout((()=>{const t=[];this.$refs.xTable.exportData({filename:"",type:"csv",isHeader:!0,isFooter:!0,data:t})}),100)}}},lr=or,cr=(0,u.Z)(lr,nr,rr,!1,null,"7c7499f8",null),hr=cr.exports,dr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1),e("div",{staticClass:"box"},[e("Input",{staticStyle:{width:"250px"},attrs:{clearable:"","enter-button":"",placeholder:"搜索商品名称/大类/小类",search:""},on:{"on-clear":t.search,"on-search":t.search},model:{value:t.searchData.search,callback:function(e){t.$set(t.searchData,"search",e)},expression:"searchData.search"}})],1)]),e("div",{staticClass:"right"},[e("Poptip",{attrs:{placement:"left-start",transfer:"",trigger:"hover"}},[e("div",{staticClass:"explain"},[t._v("?字段说明")]),e("div",{attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"fields-remark"},[e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("提示:")]),t._v(" 当前模块的各类数据根据时间以及门店筛选计算展示。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("服务次数:")]),t._v(" 客户在门店消费该项目的累计总次数。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("服务客户总量:")]),t._v(" 门店消费该项目的客数总和。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("服务持卡会员量:")]),t._v(" 门店消费该项目的持卡会员数总和。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("多次体验会员量:")]),t._v(" 门店消费该项目2次及以上的会员数总和。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("业绩:")]),t._v(" 该项目产生的业绩。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("耗卡:")]),t._v(" 该项目产生的耗卡。 ")])])])]),e("div",{staticClass:"add-bt",on:{click:t.exportDataEvent}},[t._v("导出")])],1)]),e("div",{staticClass:"list"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),1),e("div",{staticClass:"page"},[e("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1)])},ur=[],pr={name:"GoodsAnalysis",components:{SelectShop:c.Z},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"商品名称",key:"0"},{title:"大类",key:"1"},{title:"小类",key:"2"},{title:"服务次数",key:"3"},{title:"服务客户总量",key:"4"},{title:"服务持卡会员量",key:"5"},{title:"业绩",key:"6"},{title:"耗卡",key:"7"}],searchData:{sid:"",search:"",start:"",end:"",p:1,page:10,count:0}}},activated(){},created(){},mounted(){this.setHeight(),window.onresize=()=>{this.setHeight()}},methods:{setHeight(){this.tableHeight=window.innerHeight-296},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()},exportDataEvent(){setTimeout((()=>{const t=[];this.$refs.xTable.exportData({filename:"",type:"csv",isHeader:!0,isFooter:!0,data:t})}),100)}}},vr=pr,gr=(0,u.Z)(vr,dr,ur,!1,null,"c84c53ba",null),fr=gr.exports,yr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1),e("div",{staticClass:"box"},[e("Input",{staticStyle:{width:"250px"},attrs:{clearable:"","enter-button":"",placeholder:"搜索卡名称/大类/小类",search:""},on:{"on-clear":t.search,"on-search":t.search},model:{value:t.searchData.search,callback:function(e){t.$set(t.searchData,"search",e)},expression:"searchData.search"}})],1)]),e("div",{staticClass:"right"},[e("Poptip",{attrs:{placement:"left-start",transfer:"",trigger:"hover"}},[e("div",{staticClass:"explain"},[t._v("?字段说明")]),e("div",{attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"fields-remark"},[e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("提示:")]),t._v(" 当前模块的各类数据根据时间以及门店筛选计算展示。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("服务次数:")]),t._v(" 客户在门店消费该项目的累计总次数。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("服务客户总量:")]),t._v(" 门店消费该项目的客数总和。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("服务持卡会员量:")]),t._v(" 门店消费该项目的持卡会员数总和。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("多次体验会员量:")]),t._v(" 门店消费该项目2次及以上的会员数总和。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("业绩:")]),t._v(" 该项目产生的业绩。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("耗卡:")]),t._v(" 该项目产生的耗卡。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("客户年龄占比:")]),t._v(" 门店消费该项目的客户年龄饼状图。 ")])])])]),e("div",{staticClass:"add-bt",on:{click:t.exportDataEvent}},[t._v("导出")])],1)]),e("div",{staticClass:"list"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),1),e("div",{staticClass:"page"},[e("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1)])},mr=[],xr={name:"CardAnalysis",components:{SelectShop:c.Z},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"类型",key:"0"},{title:"大类",key:"1"},{title:"小类",key:"2"},{title:"卡名称",key:"3"},{title:"总业绩",key:"4"},{title:"开卡/续卡人数",key:"5"},{title:"开卡/续充次数",key:"6"},{title:"开卡业绩",key:"7"},{title:"续充业绩",key:"8"},{title:"卡消耗",key:"9"},{title:"总耗卡",key:"10"}],searchData:{sid:"",search:"",start:"",end:"",p:1,page:10,count:0}}},activated(){},created(){},mounted(){this.setHeight(),window.onresize=()=>{this.setHeight()}},methods:{setHeight(){this.tableHeight=window.innerHeight-296},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()},exportDataEvent(){setTimeout((()=>{const t=[];this.$refs.xTable.exportData({filename:"",type:"csv",isHeader:!0,isFooter:!0,data:t})}),100)}}},br=xr,Cr=(0,u.Z)(br,yr,mr,!1,null,"5bfc3800",null),_r=Cr.exports,wr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1)]),e("div",{staticClass:"right"},[e("Poptip",{attrs:{placement:"left-start",transfer:"",trigger:"hover"}},[e("div",{staticClass:"explain"},[t._v("?字段说明")]),e("div",{attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"fields-remark"},[e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("提示:")]),t._v(" 当前模块的各类数据根据时间以及门店筛选计算展示。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("爆品购买人数:")]),t._v(" 开单购买该爆品对应的客数。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("总到店人数:")]),t._v(" 在统计时间内有订单消费的人数。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("渗透率:")]),t._v(" 爆品购买的人数/总到店人数的占比。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("爆品业绩:")]),t._v(" 爆品产生的业绩。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("占总业绩:")]),t._v(" 爆品业绩/总业绩的占比。 ")])])])]),e("div",{staticClass:"add-bt"},[t._v("设置爆品")]),e("div",{staticClass:"add-bt",on:{click:t.exportDataEvent}},[t._v("导出")])],1)]),e("div",{staticClass:"list"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),1),e("div",{staticClass:"page"},[e("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1)])},kr=[],Dr={name:"HotProductAnalysis",components:{SelectShop:c.Z},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"爆品名称",key:"0"},{title:"爆品购买人数",key:"1"},{title:"新客购买人数",key:"2"},{title:"老客购买人数",key:"3"},{title:"散客购买人数",key:"4"},{title:"总到店人数",key:"5"},{title:"渗透率",key:"6"},{title:"爆品业绩",key:"7"},{title:"占总业绩",key:"8"}],searchData:{sid:"",search:"",start:"",end:"",p:1,page:10,count:0}}},activated(){},created(){},mounted(){this.setHeight(),window.onresize=()=>{this.setHeight()}},methods:{setHeight(){this.tableHeight=window.innerHeight-296},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()},exportDataEvent(){setTimeout((()=>{const t=[];this.$refs.xTable.exportData({filename:"",type:"csv",isHeader:!0,isFooter:!0,data:t})}),100)}}},Sr=Dr,Mr=(0,u.Z)(Sr,wr,kr,!1,null,"4754401c",null),Pr=Mr.exports,Tr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1)]),e("div",{staticClass:"right"},[e("Poptip",{attrs:{placement:"left-start",transfer:"",trigger:"hover"}},[e("div",{staticClass:"explain"},[t._v("?字段说明")]),e("div",{attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"fields-remark"},[e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("体验后转卡客量:")]),t._v(" 统计体学了该项目后产生开卡行为的晚客数量,仅展示肖次到店消费30天内有产生首次办卡行为的题客,如果开卡前体输过如2个项目,则2个项目的客量各为0.5,办卡后卡耗体验的项目不计入。 ")])])])]),e("div",{staticClass:"add-bt",on:{click:t.exportDataEvent}},[t._v("导出")])],1)]),e("div",{staticClass:"list"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},[t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),e("vxe-column",{attrs:{title:"操作",width:"120"}},[[e("span",{staticClass:"bt"},[t._v("查看详情")])]],2)],2),e("div",{staticClass:"page"},[e("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1)])},Ar=[],Lr={name:"ProjectTransferCardAnalysis",components:{SelectShop:c.Z},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"项目名称",key:"0"},{title:"体验后转换客量",key:"1"},{title:"会员名单",key:"2"}],searchData:{sid:"",search:"",start:"",end:"",p:1,page:10,count:0}}},activated(){},created(){},mounted(){this.setHeight(),window.onresize=()=>{this.setHeight()}},methods:{setHeight(){this.tableHeight=window.innerHeight-296},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()},exportDataEvent(){setTimeout((()=>{const t=[];this.$refs.xTable.exportData({filename:"",type:"csv",isHeader:!0,isFooter:!0,data:t})}),100)}}},zr=Lr,Ir=(0,u.Z)(zr,Tr,Ar,!1,null,"05bbb4d1",null),Nr=Ir.exports,Zr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1)]),t._m(0)]),e("div",{staticClass:"row"},[e("ServiceNumberMonth")],1),e("div",{staticClass:"row"},[e("div",{staticClass:"cell"},[e("ServiceNumberMinType")],1),e("div",{staticClass:"cell"},[e("ServiceNumberMaxType")],1)]),e("div",{staticClass:"row"},[e("ServiceNumberSingle")],1)])},Hr=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"right"},[e("div",{staticClass:"add-bt"},[t._v("导出")])])}],Or=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ServiceNumberMonth"},[t._m(0),e("div",{staticClass:"content"},[e("v-chart",{ref:"chart",staticClass:"e-chart",attrs:{"auto-resize":!0,option:t.chart.option}})],1)])},Rr=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("div",{staticClass:"left"},[e("div",{staticClass:"h-cel title"},[t._v("每月项目服务人数")])]),e("div",{staticClass:"right"},[e("div",{staticClass:"bt"})])])}];(0,x.D)([Za,Ha.N,Oa.N,Ra.N,Ea.N,qi,un.N,dn]);var Er={name:"ServiceNumberMonth",components:{VChart:pn.ZP},props:{},data:function(){return{chart:{option:{tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},grid:{top:"14%",left:"3%",right:"4%",bottom:"12%",containLabel:!0},toolbox:{feature:{}},legend:{data:["营收","人均营收"],orient:"horizontal",top:"bottom"},xAxis:[{type:"category",data:["2022-01","2022-02","2022-03","2022-04","2022-05"],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",axisLabel:{formatter:"{value}"}},{type:"value",axisLabel:{formatter:"{value}"}}],series:[{name:"营收",type:"bar",itemStyle:{color:"#00b0f0"},barWidth:"16",tooltip:{valueFormatter:function(t){return t}},data:[2,4.9,7,23.2,25.6,76.7,135.6,162.2,6.4,3.3]},{name:"人均营收",type:"line",itemStyle:{color:"#00b0f0"},yAxisIndex:1,tooltip:{valueFormatter:function(t){return t+" %"}},data:[2,2.2,3.3,4.5,6.3,10.2,23,16.5,12,6.2]}]}},searchData:{start:"",end:""}}},activated(){},created(){},mounted(){this.$nextTick((()=>{this.$refs.chart.resize()}))},methods:{}},Vr=Er,Fr=(0,u.Z)(Vr,Or,Rr,!1,null,"5d7bbd6a",null),Gr=Fr.exports,Wr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ServiceNumberMinType"},[t._m(0),e("div",{staticClass:"content"},[e("v-chart",{ref:"chart",staticClass:"e-chart",attrs:{"auto-resize":!0,option:t.chart.option}})],1)])},$r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("div",{staticClass:"left"},[e("div",{staticClass:"h-cel title"},[t._v("每个小类服务人数")])]),e("div",{staticClass:"right"},[e("div",{staticClass:"bt"})])])}],Br=a(37245);(0,x.D)([Oa.N,Ea.N,un.N,Br.N,Ha.N]);var Ur={name:"ServiceNumberMinType",components:{VChart:pn.ZP},props:{},data:function(){return{chart:{option:{backgroundColor:"#FFFFFFFF",tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:"14%",left:"3%",right:"4%",bottom:"12%",containLabel:!0},xAxis:[{axisLine:{show:!0},axisTick:{show:!0,alignWithLabel:!0},type:"category",data:["未设置","美团","第一妇幼","儿童摄影","抖音"]}],yAxis:[{axisLabel:{show:!0},axisLine:{show:!1},type:"value",splitLine:{show:!0}}],series:[{name:"数量",type:"bar",barWidth:"17",itemStyle:{color:"#1f4e79"},label:{show:!0,position:"top",color:"#333",fontSize:"12px",formatter:t=>t.value[t.encode.x[0]]},data:[{value:1002},{value:2220},{value:4020},{value:160},{value:2220}]}]}},searchData:{start:"",end:""}}},activated(){},created(){},mounted(){this.$nextTick((()=>{this.$refs.chart.resize()}))},methods:{}},Xr=Ur,Yr=(0,u.Z)(Xr,Wr,$r,!1,null,"4971a6a3",null),jr=Yr.exports,qr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ServiceNumberMaxType"},[t._m(0),e("div",{staticClass:"content"},[e("v-chart",{ref:"chart",staticClass:"e-chart",attrs:{"auto-resize":!0,option:t.chart.option}})],1)])},Kr=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("div",{staticClass:"left"},[e("div",{staticClass:"h-cel title"},[t._v("每个大类服务人数")])]),e("div",{staticClass:"right"},[e("div",{staticClass:"bt"})])])}];(0,x.D)([Oa.N,Ea.N,un.N,Br.N,Ha.N]);var Jr={name:"ServiceNumberMaxType",components:{VChart:pn.ZP},props:{},data:function(){return{chart:{option:{backgroundColor:"#FFFFFFFF",tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:"14%",left:"3%",right:"4%",bottom:"12%",containLabel:!0},xAxis:[{axisLine:{show:!0},axisTick:{show:!0,alignWithLabel:!0},type:"category",data:["未设置","美团","第一妇幼","儿童摄影","抖音"]}],yAxis:[{axisLabel:{show:!0},axisLine:{show:!1},type:"value",splitLine:{show:!0}}],series:[{name:"数量",type:"bar",barWidth:"17",itemStyle:{color:"#1f4e79"},label:{show:!0,position:"top",color:"#333",fontSize:"12px",formatter:t=>t.value[t.encode.x[0]]},data:[{value:1002},{value:2220},{value:4020},{value:160},{value:2220}]}]}},searchData:{start:"",end:""}}},activated(){},created(){},mounted(){this.$nextTick((()=>{this.$refs.chart.resize()}))},methods:{}},Qr=Jr,to=(0,u.Z)(Qr,qr,Kr,!1,null,"2b68eabb",null),eo=to.exports,ao=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ServiceNumberSingle"},[t._m(0),e("div",{staticClass:"content"},[e("v-chart",{ref:"chart",staticClass:"e-chart",attrs:{"auto-resize":!0,option:t.chart.option}})],1)])},io=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("div",{staticClass:"left"},[e("div",{staticClass:"h-cel title"},[t._v("每个服务人数")])]),e("div",{staticClass:"right"},[e("div",{staticClass:"bt"})])])}];(0,x.D)([Oa.N,Ea.N,un.N,Br.N,Ha.N]);var so={name:"ServiceNumberSingle",components:{VChart:pn.ZP},props:{},data:function(){return{chart:{option:{backgroundColor:"#FFFFFFFF",tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:"14%",left:"3%",right:"4%",bottom:"12%",containLabel:!0},xAxis:[{axisLine:{show:!0},axisTick:{show:!0,alignWithLabel:!0},type:"category",data:["未设置","美团","第一妇幼","儿童摄影","抖音"]}],yAxis:[{axisLabel:{show:!0},axisLine:{show:!1},type:"value",splitLine:{show:!0}}],series:[{name:"数量",type:"bar",barWidth:"17",itemStyle:{color:"#1f4e79"},label:{show:!0,position:"top",color:"#333",fontSize:"12px",formatter:t=>t.value[t.encode.x[0]]},data:[{value:1002},{value:2220},{value:4020},{value:160},{value:2220}]}]}},searchData:{start:"",end:""}}},activated(){},created(){},mounted(){this.$nextTick((()=>{this.$refs.chart.resize()}))},methods:{}},no=so,ro=(0,u.Z)(no,ao,io,!1,null,"6be0a6f8",null),oo=ro.exports,lo={name:"PassengerFlowAnalysis",components:{ServiceNumberSingle:oo,ServiceNumberMaxType:eo,ServiceNumberMinType:jr,ServiceNumberMonth:Gr,SelectShop:c.Z},data:function(){return{searchData:{sid:""}}},activated(){},created(){},methods:{clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},search(){}}},co=lo,ho=(0,u.Z)(co,Zr,Hr,!1,null,"ba59c566",null),uo=ho.exports,po=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1)]),t._m(0)]),e("div",{staticClass:"row"},[e("div",{staticClass:"cell"},[e("SalesRankList")],1),e("div",{staticClass:"cell"},[e("HkList",{attrs:{title:"耗卡排名"}})],1),e("div",{staticClass:"cell"},[e("HkList",{attrs:{title:"未耗卡排名"}})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"cell"},[e("ProjectList")],1),e("div",{staticClass:"cell"},[e("GoodsList")],1),e("div",{staticClass:"cell"},[e("PackageCardList")],1)])])},vo=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"right"},[e("div",{staticClass:"add-bt"},[t._v("导出")])])}],go=function(){var t=this,e=t._self._c;return e("div",{staticClass:"SalesRankList"},[e("div",{staticClass:"header"},[t._m(0),e("div",{staticClass:"right"},[e("div",{staticClass:"bt"},[e("RadioGroup",{attrs:{size:"small",type:"button"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.typeList,(function(t,a){return e("Radio",{key:a,attrs:{label:t.label}})})),1)],1)])]),e("div",{staticClass:"list"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),1),e("div",{staticClass:"page"},[e("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1)])},fo=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"left"},[e("div",{staticClass:"h-cel title"},[t._v("套餐次卡/储值卡/续卡排行")])])}],yo={name:"SalesRankList",components:{},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"排名",key:"0"},{title:"类别",key:"1"},{title:"业绩",key:"2"},{title:"销量",key:"3"},{title:"人数",key:"4"},{title:"占比",key:"5"}],type:"1",typeList:[{label:"卡大类",value:"1"},{label:"具体卡",value:"2"}],searchData:{p:1,page:10,count:0}}},methods:{currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()}}},mo=yo,xo=(0,u.Z)(mo,go,fo,!1,null,"a626977e",null),bo=xo.exports,Co=function(){var t=this,e=t._self._c;return e("div",{staticClass:"HkList"},[e("div",{staticClass:"header"},[e("div",{staticClass:"left"},[e("div",{staticClass:"h-cel title"},[t._v(t._s(t.title))])]),e("div",{staticClass:"right"},[e("div",{staticClass:"bt"},[e("RadioGroup",{attrs:{size:"small",type:"button"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.typeList,(function(t,a){return e("Radio",{key:a,attrs:{label:t.label}})})),1)],1)])]),e("div",{staticClass:"list"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),1),e("div",{staticClass:"page"},[e("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1)])},_o=[],wo={name:"HkList",components:{},props:{title:{type:String,default:()=>""}},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"排名",key:"0"},{title:"类别",key:"1"},{title:"耗卡金额",key:"2"},{title:"占比",key:"3"}],type:"1",typeList:[{label:"卡大类",value:"1"},{label:"具体卡",value:"2"}],searchData:{p:1,page:10,count:0}}},methods:{currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()}}},ko=wo,Do=(0,u.Z)(ko,Co,_o,!1,null,"419200a7",null),So=Do.exports,Mo=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ProjectList"},[e("div",{staticClass:"header"},[t._m(0),e("div",{staticClass:"right"},[e("div",{staticClass:"bt"},[e("RadioGroup",{attrs:{size:"small",type:"button"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.typeList,(function(t,a){return e("Radio",{key:a,attrs:{label:t.label}})})),1)],1)])]),e("div",{staticClass:"list"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),1),e("div",{staticClass:"page"},[e("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1)])},Po=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"left"},[e("div",{staticClass:"h-cel title"},[t._v("项目营收")])])}],To={name:"ProjectList",components:{},props:{},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"排名",key:"0"},{title:"类别",key:"1"},{title:"产值",key:"2"},{title:"销量",key:"3"},{title:"占比",key:"4"}],type:"1",typeList:[{label:"项目大类",value:"1"},{label:"具体项目",value:"2"}],searchData:{p:1,page:10,count:0}}},methods:{currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()}}},Ao=To,Lo=(0,u.Z)(Ao,Mo,Po,!1,null,"7b23c454",null),zo=Lo.exports,Io=function(){var t=this,e=t._self._c;return e("div",{staticClass:"GoodsList"},[e("div",{staticClass:"header"},[t._m(0),e("div",{staticClass:"right"},[e("div",{staticClass:"bt"},[e("RadioGroup",{attrs:{size:"small",type:"button"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.typeList,(function(t,a){return e("Radio",{key:a,attrs:{label:t.label}})})),1)],1)])]),e("div",{staticClass:"list"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),1),e("div",{staticClass:"page"},[e("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1)])},No=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"left"},[e("div",{staticClass:"h-cel title"},[t._v("商品营收")])])}],Zo={name:"GoodsList",components:{},props:{},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"排名",key:"0"},{title:"类别",key:"1"},{title:"产值",key:"2"},{title:"销量",key:"3"},{title:"占比",key:"4"}],type:"1",typeList:[{label:"商品大类",value:"1"},{label:"具体商品",value:"2"}],searchData:{p:1,page:10,count:0}}},methods:{currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()}}},Ho=Zo,Oo=(0,u.Z)(Ho,Io,No,!1,null,"aa6019b8",null),Ro=Oo.exports,Eo=function(){var t=this,e=t._self._c;return e("div",{staticClass:"PackageCardList"},[e("div",{staticClass:"header"},[t._m(0),e("div",{staticClass:"right"},[e("div",{staticClass:"bt"},[e("RadioGroup",{attrs:{size:"small",type:"button"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.typeList,(function(t,a){return e("Radio",{key:a,attrs:{label:t.label}})})),1)],1)])]),e("div",{staticClass:"list"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),1),e("div",{staticClass:"page"},[e("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1)])},Vo=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"left"},[e("div",{staticClass:"h-cel title"},[t._v("套餐次卡营收")])])}],Fo={name:"PackageCardList",components:{},props:{},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"排名",key:"0"},{title:"类别",key:"1"},{title:"产值",key:"2"},{title:"销量",key:"3"},{title:"占比",key:"4"}],type:"1",typeList:[{label:"套餐大类",value:"1"},{label:"具体套餐",value:"2"}],searchData:{p:1,page:10,count:0}}},methods:{currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()}}},Go=Fo,Wo=(0,u.Z)(Go,Eo,Vo,!1,null,"09d7f77f",null),$o=Wo.exports,Bo={name:"SalesRank",components:{SelectShop:c.Z,PackageCardList:$o,GoodsList:Ro,ProjectList:zo,HkList:So,SalesRankList:bo},data:function(){return{searchData:{sid:"",search:"",start:"",end:""}}},activated(){},created(){},methods:{clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},search(){}}},Uo=Bo,Xo=(0,u.Z)(Uo,po,vo,!1,null,"e4ccfdbc",null),Yo=Xo.exports,jo=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("消费日期")]),e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1)]),e("div",{staticClass:"right"},[e("Poptip",{attrs:{placement:"left-start",transfer:"",trigger:"hover"}},[e("div",{staticClass:"explain"},[t._v("?字段说明")]),e("div",{attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"fields-remark"},[e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("是否持卡:")]),t._v(" 会员名下有卡就算,不论是什么类型的卡,也不论是否是赠送的卡 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("是否持卡(不含赠送卡):")]),t._v(" 顾客名下有除了赠送卡外的其他卡 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("累计消费金额:")]),t._v(" 会员累计消费的金额,不受时问筛选控制 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("累计到店次数:")]),t._v(" 会员累计到店消费的次数,不受时问筛选控制,1天多次算1次 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("最近消费日期::")]),t._v(" 会员最近到店消费的日期 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("持有的卡:")]),t._v(" 会员名下持有的所有卡的名称,包括了已用完和过期的卡 ")])])])]),e("div",{staticClass:"add-bt",on:{click:t.exportDataEvent}},[t._v("导出")])],1)]),t._m(0),e("div",{staticClass:"list"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),1),e("div",{staticClass:"page"},[e("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1)])},qo=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"set-bt"},[e("div",{staticClass:"content"},[t._v("请选择要分析的品项卡")])])}],Ko={name:"ProjectCardInto",components:{SelectShop:c.Z},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"会员信息",key:"0"},{title:"所属门店",key:"1"},{title:"来源渠道",key:"2"},{title:"是否持卡",key:"3"},{title:"是否持卡(不含赠送卡)",key:"4"},{title:"累计消费金额",key:"5"},{title:"累计到店次数",key:"6"},{title:"最近消费日期",key:"7"},{title:"持有的卡",key:"8"}],searchData:{sid:"",search:"",start:"",end:"",p:1,page:10,count:0}}},activated(){},created(){},mounted(){this.setHeight(),window.onresize=()=>{this.setHeight()}},methods:{setHeight(){},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()},exportDataEvent(){setTimeout((()=>{const t=[];this.$refs.xTable.exportData({filename:"",type:"csv",isHeader:!0,isFooter:!0,data:t})}),100)}}},Jo=Ko,Qo=(0,u.Z)(Jo,jo,qo,!1,null,"3584a00f",null),tl=Qo.exports,el={name:"ProjectCardAnalysis",components:{ProjectCardInto:tl,ProjectService:uo,ProjectTransferCardAnalysis:Nr,HotProductAnalysis:Pr,CardAnalysis:_r,GoodsAnalysis:fr,ProjectAnalysis:hr,SalesRank:Yo},data:function(){return{tab_index:"项目分析",tab_list:[{name:"项目分析",id:1},{name:"商品分析",id:2},{name:"卡分析",id:3},{name:"爆品销售分析",id:4},{name:"销售排行",id:5},{name:"项目转卡分析",id:6},{name:"指定品项转化",id:7},{name:"项目服务",id:8}]}},computed:{current(){return(t,e)=>e===t.name&&this.tab_index===e}},methods:{handleTabClick(t){this.tab_index=t}}},al=el,il=(0,u.Z)(al,ir,sr,!1,null,"d087019c",null),sl=il.exports,nl=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("Tabs",{attrs:{size:"small"},on:{"on-click":t.handleTabClick},model:{value:t.tab_index,callback:function(e){t.tab_index=e},expression:"tab_index"}},t._l(t.tab_list,(function(a){return e("TabPane",{key:a.id,attrs:{label:a.name,name:a.name}},[t.current(a,"top20%会员")?e("TopVipList"):t._e(),t.current(a,"会员生命周期")?e("VipLifeCycleList"):t._e(),t.current(a,"开卡充值能力")?e("OpenCardTopUpList"):t._e(),t.current(a,"到店未办卡")?e("NoHandleCard"):t._e(),t.current(a,"新会员与新办卡")?e("NewVipList"):t._e(),t.current(a,"会员活跃率")?e("VipActiveRate"):t._e(),t.current(a,"新客")?e("NewGuestList"):t._e()],1)})),1)],1)},rl=[],ol=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1)]),e("div",{staticClass:"right"},[e("Poptip",{attrs:{placement:"left-start",transfer:"",trigger:"hover"}},[e("div",{staticClass:"explain"},[t._v("?字段说明")]),e("div",{attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"fields-remark"},[e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("提示:")]),t._v(" 当前模块的各类数据根据时间以及门店筛选计算展示。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("Top20%客户:")]),t._v(" 在统计时间内,门店所有累计消费前20%的客户。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("Top20%下榜名单:")]),t._v(" 在统计时间内,环比上一个周期属于Top20%,而在这个周期跌出Top20%的客户。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("生命周期:")]),t._v(" 该客户所属的生命周期。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("到店次数:")]),t._v(" 该客户到店消费的次数。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("当月到店次数:")]),t._v(" 时间筛选里的截止月份,客户到店的次数(有订单的天数)。总业绩: 该客户在门店消费产生的业绩之和。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v(" 项目/套餐次卡/商品/储值卡/优惠券/爆品业绩: ")]),t._v(" 该客户在对应的项目/套餐次卡/商品/储值卡/优惠券/爆品消费产生的业绩之和。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("总卡耗:")]),t._v(" 该客户在门店使用资产产生的消耗之和。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("项目/产品卡耗:")]),t._v(" 该客户在门店使用资产消费项目/产品产生的消耗。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("同比:")]),t._v(" 筛选月份后,与去年的该时间段内的对比。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("环比:")]),t._v(" 筛选月份后,与上一个周期的对比 ")])])])]),e("div",{staticClass:"add-bt",on:{click:t.exportDataEvent}},[t._v("导出")]),e("Toolbar",{attrs:{"table-columns":t.tableColumns,"total-columns":t.totalColumns},on:{"on-change":t.changeColumns}})],1)]),e("div",{staticClass:"list"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),1),e("div",{staticClass:"page"},[e("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1)])},ll=[],cl={name:"TopVipList",components:{Toolbar:Gn.Z,SelectShop:c.Z},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"会员信息",key:"1",fixed:"left",width:120},{title:"手机号",key:"1",width:120},{title:"生命周期",key:"2",width:120},{title:"到店次数",key:"3",width:120},{title:"当月到店次数",key:"4",width:120},{title:"总业绩",key:"5",width:120},{title:"项目业绩",key:"6",width:120},{title:"套餐次卡业绩",key:"7",width:120},{title:"商品业绩",key:"8",width:120},{title:"爆品业绩",key:"9",width:120},{title:"储值卡业绩",key:"10",width:120},{title:"优惠券业绩",key:"11",width:120},{title:"总耗卡",key:"12",width:120}],totalColumns:[{title:"会员信息",key:"1",fixed:"left"},{title:"手机号",key:"1"},{title:"生命周期",key:"2"},{title:"到店次数",key:"3"},{title:"当月到店次数",key:"4"},{title:"总业绩",key:"5"},{title:"项目业绩",key:"6"},{title:"套餐次卡业绩",key:"7"},{title:"商品业绩",key:"8"},{title:"爆品业绩",key:"9"},{title:"储值卡业绩",key:"10"},{title:"优惠券业绩",key:"11"},{title:"总耗卡",key:"12"},{title:"项目耗卡",key:"13"},{title:"商品耗卡",key:"14"},{title:"专属产康师",key:"15"},{title:"专属顾问",key:"16"}],searchData:{sid:"",search:"",start:"",end:"",p:1,page:10,count:0}}},activated(){},created(){},mounted(){this.setHeight(),window.onresize=()=>{this.setHeight()}},methods:{setHeight(){this.tableHeight=window.innerHeight-286},changeColumns(t){this.tableColumns=t},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()},exportDataEvent(){setTimeout((()=>{const t=[];this.$refs.xTable.exportData({filename:"",type:"csv",isHeader:!0,isFooter:!0,data:t})}),100)}}},hl=cl,dl=(0,u.Z)(hl,ol,ll,!1,null,"48f2e3fa",null),ul=dl.exports,pl=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1)]),e("div",{staticClass:"right"},[e("Poptip",{attrs:{placement:"left-start",transfer:"",trigger:"hover"}},[e("div",{staticClass:"explain"},[t._v("?字段说明")]),e("div",{attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"fields-remark"},[e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("提示:")]),t._v(" 当前模块的各类数据根据时间以及门店筛选计算展示,如筛选时间段内,会员的生命周期有所变化,取所选截止日期时的会员生命周期。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("生命周期:")]),t._v(" 系统默认新客户、新客成交、活跃客户、沉睡客户、流失客户、结束客户,在会员设置-生命周期设置可自定义这6个生命周期的规则。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("人数:")]),t._v(" 筛选月份后,对应生命周期的人数占比。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("占总数:")]),t._v(" 筛选月份后,对应生命周期的会员数占会员总数的比例。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("人数变动:")]),t._v(" 筛选月份后,环比上月的会员人数变动情况。 ")])])])]),e("div",{staticClass:"add-bt",on:{click:t.exportDataEvent}},[t._v("导出")])],1)]),e("div",{staticClass:"list"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},[t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),e("vxe-column",{attrs:{title:"操作",width:"120"}},[[e("span",{staticClass:"bt"},[t._v("查看名单")])]],2)],2),e("div",{staticClass:"page"},[e("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1)])},vl=[],gl={name:"VipLifeCycleList",components:{SelectShop:c.Z},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"生命周期",key:"suname"},{title:"会员数",key:"name"},{title:"占总人数",key:"info"},{title:"人员变动",key:"info"}],searchData:{sid:"",search:"",start:"",end:"",p:1,page:10,count:0}}},activated(){},created(){},mounted(){this.setHeight(),window.onresize=()=>{this.setHeight()}},methods:{setHeight(){this.tableHeight=window.innerHeight-286},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()},exportDataEvent(){setTimeout((()=>{const t=[];this.$refs.xTable.exportData({filename:"",type:"csv",isHeader:!0,isFooter:!0,data:t})}),100)}}},fl=gl,yl=(0,u.Z)(fl,pl,vl,!1,null,"18a3c103",null),ml=yl.exports,xl=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1)]),e("div",{staticClass:"right"},[e("Poptip",{attrs:{placement:"left-start",transfer:"",trigger:"hover"}},[e("div",{staticClass:"explain"},[t._v("?字段说明")]),e("div",{attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"fields-remark"},[e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("提示:")]),t._v(" 当前模块的各类数据根据时间以及门店筛选计算展示。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("金额范围:")]),t._v(" 商户可以自定义开卡充卡的金额范围,该金额是指统计时间内客户在门店开卡充卡的消费金额。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("会员人数:")]),t._v(" 统计时间内,各档开卡充卡金额对应的会员人数,同一会员多笔消费去重按1统计。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("人数占比:")]),t._v(" 统计时间内,占所有持卡会员人数的占比。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("人数同比:")]),t._v(" 统计时间内,去上一年此时间段内的人数对比业绩:统计时间内,各档开卡充卡金额产生的业绩总和。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("业绩占比:")]),t._v(" 统计时间内,各档开卡充卡金额产生的业绩占总有开卡充卡业绩总和的比例。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("获取渠道占比:")]),t._v(" 各档会员的来源渠道占比。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("卡类别占比:")]),t._v(" 各档每个卡大类的开卡充卡金额占比。 ")])])])]),e("div",{staticClass:"add-bt",on:{click:t.exportDataEvent}},[t._v("导出")])],1)]),e("div",{staticClass:"list"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),1),e("div",{staticClass:"page"},[e("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1)])},bl=[],Cl={name:"OpenCardTopUpList",components:{SelectShop:c.Z},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"消费能力名称",key:"0"},{title:"金额范围",key:"1"},{title:"会员人数",key:"2"},{title:"持卡会员占比",key:"3"},{title:"会员人数同比",key:"4"},{title:"业绩",key:"5"},{title:"业绩占比",key:"6"},{title:"业绩同比",key:"7"},{title:"获客渠道占比",key:"8"},{title:"卡类别占比",key:"9"}],searchData:{sid:"",search:"",start:"",end:"",p:1,page:10,count:0}}},activated(){},created(){},mounted(){this.setHeight(),window.onresize=()=>{this.setHeight()}},methods:{setHeight(){this.tableHeight=window.innerHeight-286},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()},exportDataEvent(){setTimeout((()=>{const t=[];this.$refs.xTable.exportData({filename:"",type:"csv",isHeader:!0,isFooter:!0,data:t})}),100)}}},_l=Cl,wl=(0,u.Z)(_l,xl,bl,!1,null,"829b4f38",null),kl=wl.exports,Dl=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1),e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("类型")]),e("Select",{staticStyle:{width:"200px"},attrs:{clearable:"",filterable:"",transfer:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[e("div",{attrs:{slot:"empty"},slot:"empty"},[t._v("未找到数据")]),t._l(t.typeList,(function(a){return e("Option",{key:a.value,attrs:{value:a.value}},[t._v(" "+t._s(a.label)+" ")])}))],2)],1)]),e("div",{staticClass:"right"},[e("Poptip",{attrs:{placement:"left-start",transfer:"",trigger:"hover"}},[e("div",{staticClass:"explain"},[t._v("?字段说明")]),e("div",{attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"fields-remark"},[e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("提示:")]),t._v(" 当前模块的各类数据根据时间以及门店筛选计算展示。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("消费金额:")]),t._v(" 对应的会员到店消费的金额。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("到店日期:")]),t._v(" 该会员到店消费的日期。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("服务人员:")]),t._v(" 该会员到店消费服务员工。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("消费内容:")]),t._v(" 该会员到店消费的订单内容。 ")])])])]),e("div",{staticClass:"add-bt",on:{click:t.exportDataEvent}},[t._v("导出")])],1)]),e("div",{staticClass:"list"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},[t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),e("vxe-column",{attrs:{title:"操作",width:"200"}},[[e("span",{staticClass:"bt"},[t._v("发券")]),e("span",{staticClass:"bt"},[t._v("发短信")])]],2)],2),e("div",{staticClass:"page"},[e("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1)])},Sl=[],Ml={name:"NoHandleCard",components:{SelectShop:c.Z},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"会员信息",key:"0"},{title:"消费金额",key:"1"},{title:"消费内容",key:"2"},{title:"到店日期",key:"3"},{title:"服务人员",key:"4"},{title:"来源渠道",key:"5"}],typeList:[{label:"1次到店未办卡",value:"1"},{label:"2次到店未办卡",value:"2"},{label:"3次到店未办卡",value:"3"}],type:"1",searchData:{sid:"",search:"",start:"",end:"",p:1,page:10,count:0}}},activated(){},created(){},mounted(){this.setHeight(),window.onresize=()=>{this.setHeight()}},methods:{setHeight(){this.tableHeight=window.innerHeight-286},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()},exportDataEvent(){setTimeout((()=>{const t=[];this.$refs.xTable.exportData({filename:"",type:"csv",isHeader:!0,isFooter:!0,data:t})}),100)}}},Pl=Ml,Tl=(0,u.Z)(Pl,Dl,Sl,!1,null,"38bdb166",null),Al=Tl.exports,Ll=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1),e("div",{staticClass:"box"},[e("Select",{staticStyle:{width:"200px"},attrs:{clearable:"",filterable:"",transfer:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[e("div",{attrs:{slot:"empty"},slot:"empty"},[t._v("未找到数据")]),t._l(t.typeList,(function(a){return e("Option",{key:a.value,attrs:{value:a.value}},[t._v(" "+t._s(a.label)+" ")])}))],2)],1),e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("来源渠道")]),e("Select",{staticStyle:{width:"200px"},attrs:{clearable:"",filterable:"",transfer:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[e("div",{attrs:{slot:"empty"},slot:"empty"},[t._v("未找到数据")]),t._l(t.typeList,(function(a){return e("Option",{key:a.value,attrs:{value:a.value}},[t._v(" "+t._s(a.label)+" ")])}))],2)],1)]),e("div",{staticClass:"right"},[e("Poptip",{attrs:{placement:"left-start",transfer:"",trigger:"hover"}},[e("div",{staticClass:"explain"},[t._v("?字段说明")]),e("div",{attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"fields-remark"},[e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("首次到店时间:")]),t._v(" 第一次有订单的日期。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("首次消费项目:")]),t._v(" 仅展示项目类,不展示商品和卡。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("首次到店消费金额:")]),t._v(" 首次到店日期里产生的金额。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("首次办卡时间:")]),t._v(" 第一次办卡的日期,不论卡种。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("首张卡名称:")]),t._v(" 顾客办的第一张卡的卡名称。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("首次办卡业绩:")]),t._v(" 顾客办的第一张卡产生的业绩。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("办卡前体验过的项目:")]),t._v(" 首次办卡前所有体验过的项目商品和券类的不算。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("二次办卡时间:")]),t._v(" 第二次办卡的日期,不轮卡种(卡换卡不计入)。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("二次办卡业绩:")]),t._v(" 顾客办的第二张卡产生的业绩。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("二次办卡门店:")]),t._v(" 顾客办的第二张卡消费门店。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("首次办卡后消费的项目:")]),t._v(" 首次办卡后所有消费过的项目,商品和券类的不算。 ")])])])]),e("div",{staticClass:"add-bt"},[t._v("占比分析")]),e("div",{staticClass:"add-bt",on:{click:t.exportDataEvent}},[t._v("导出")]),e("Toolbar",{attrs:{"table-columns":t.tableColumns,"total-columns":t.totalColumns},on:{"on-change":t.changeColumns}})],1)]),e("div",{staticClass:"list"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(a,i){return e("vxe-column",{key:i+a.key,attrs:{field:a.key,fixed:a.fixed,"min-width":a.width,title:a.title},scopedSlots:t._u(["time"===a.key?{key:"default",fn:function({row:a}){return[e("div",[t._v(t._s(a.time))]),e("div",[t._v(t._s(a.tel))]),e("div",[t._v("卡号："+t._s(a.tel))])]}}:null],null,!0)})})),1),e("div",{staticClass:"page"},[e("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1)])},zl=[],Il={name:"NewVipList",components:{Toolbar:Gn.Z,SelectShop:c.Z},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"曾文敏",1:"158204512124",2:"测试测试",3:"测试测试"}],tableColumns:[{title:"会员信息",key:"0",fixed:"left",width:160},{title:"所属门店",key:"1",width:120},{title:"首次到店时间",key:"2",width:120},{title:"首次到店门店",key:"3",width:120},{title:"首次消费项目",key:"4",width:120},{title:"首次到店消费金额",key:"5",width:120},{title:"首次办卡时间",key:"6",width:120},{title:"首次办卡门店",key:"7",width:120},{title:"首张卡名称",key:"8",width:120},{title:"首次办卡金额",key:"9",width:120},{title:"办卡前体验过的项目",key:"10",width:120}],totalColumns:[{title:"会员信息",key:"0",fixed:"left"},{title:"所属门店",key:"1"},{title:"首次到店时间",key:"2"},{title:"首次到店门店",key:"3"},{title:"首次消费项目",key:"4"},{title:"首次到店消费金额",key:"5"},{title:"首次办卡时间",key:"6"},{title:"首次办卡门店",key:"7"},{title:"首张卡名称",key:"8"},{title:"首次办卡金额",key:"9"},{title:"办卡前体验过的项目",key:"10"},{title:"来源渠道",key:"11"}],typeList:[{label:"首次到店",value:"1"},{label:"2次到店",value:"2"}],type:"1",list:[{info:1}],searchData:{sid:"",search:"",start:"",end:"",p:1,page:10,count:0}}},activated(){},created(){},mounted(){this.setHeight(),window.onresize=()=>{this.setHeight()}},methods:{setHeight(){this.tableHeight=window.innerHeight-212-80},changeColumns(t){this.tableColumns=t},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()},exportDataEvent(){setTimeout((()=>{const t=[];this.$refs.xTable.exportData({filename:"",type:"csv",isHeader:!0,isFooter:!0,data:t})}),100)}}},Nl=Il,Zl=(0,u.Z)(Nl,Ll,zl,!1,null,"2c5556dc",null),Hl=Zl.exports,Ol=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("DatePicker",{staticStyle:{width:"200px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1)]),t._m(0)]),e("div",{staticClass:"list"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),1),e("div",{staticClass:"page"},[e("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1),e("div",{staticClass:"big-box"},[e("div",{staticClass:"header"},[t._v("各月客人及老客情况")]),e("div",{staticClass:"content"},[e("GuestSituation")],1)]),e("div",{staticClass:"big-box"},[e("div",{staticClass:"header"},[t._v(" 按门店-客人及老客情况 "),e("DatePicker",{staticStyle:{width:"200px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",size:"small",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1),e("div",{staticClass:"content"},[e("GuestSituation")],1)]),e("Modal",{attrs:{"footer-hide":!0,scrollable:t.modal.scrollable,styles:t.modal.styles,title:t.modal.title,width:t.modal.width},model:{value:t.modal.show,callback:function(e){t.$set(t.modal,"show",e)},expression:"modal.show"}})],1)},Rl=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"right"},[e("div",{staticClass:"add-bt"},[t._v("导出")])])}],El=function(){var t=this,e=t._self._c;return e("content",[e("v-chart",{ref:"chart",staticClass:"e-chart",attrs:{"auto-resize":!0,option:t.chart.option}})],1)},Vl=[],Fl=a(64702);(0,x.D)([Fl.N,Ha.N,Oa.N,Ra.N,Ea.N,un.N]);var Gl={name:"GuestSituation",components:{VChart:pn.ZP},props:{},data:function(){return{chart:{option:{legend:{orient:"horizontal",top:"bottom"},tooltip:{},grid:{left:"3%",right:"4%",bottom:"12%",containLabel:!0},dataset:{source:[["日期","老客到店活跃率","到店老人数","客数"],["2022-06",43.3,85.8,85.8],["2022-07",82.1,73.4,85.8],["2022-08",86.4,65.2,85.8],["2022-09",72.4,53.9,85.8]]},xAxis:{type:"category"},yAxis:{},series:[{type:"bar",barWidth:"30",itemStyle:{color:"#229ddc"},label:{show:!0,position:"top",color:"#333",fontSize:"12px",formatter:t=>t.value[t.encode.x[1]]}},{type:"bar",barWidth:"30",itemStyle:{color:"#ed7d31"},label:{show:!0,position:"top",color:"#333",fontSize:"12px",formatter:t=>t.value[t.encode.x[1]]}},{type:"bar",barWidth:"30",itemStyle:{color:"#a5a5a5"},label:{show:!0,position:"top",color:"#333",fontSize:"12px",formatter:t=>t.value[t.encode.x[1]]}}]}}}},activated(){},created(){},mounted(){this.$nextTick((()=>{this.$refs.chart.resize()}))},methods:{}},Wl=Gl,$l=(0,u.Z)(Wl,El,Vl,!1,null,"515b8d1e",null),Bl=$l.exports,Ul={name:"VipActiveRate",components:{SelectShop:c.Z,GuestSituation:Bl},data:function(){return{modal:{show:!1,title:"",type:!1,width:1e3,scrollable:!0,styles:{top:"50px"}},loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"日期",key:"0"},{title:"客流",key:"1"},{title:"客数",key:"2"},{title:"到店老客人数",key:"3"},{title:"老客到店活跃率",key:"4"}],searchData:{sid:"",search:"",start:"",end:"",p:1,page:10,count:0}}},activated(){},created(){},methods:{showModal(t,e,a={}){console.log(a),this.modal.show=!0,this.modal.title=t,this.modal.type=e,this.modal.width=window.innerWidth-300},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()}}},Xl=Ul,Yl=(0,u.Z)(Xl,Ol,Rl,!1,null,"0e2e775f",null),jl=Yl.exports,ql=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("DatePicker",{staticStyle:{width:"200px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1)]),t._m(0)]),e("div",{staticClass:"big-box"},[e("div",{staticClass:"header"},[t._v("每月新客趋势")]),e("div",{staticClass:"content"},[e("NewGuestTrend")],1)]),e("div",{staticClass:"big-box"},[e("div",{staticClass:"header"},[t._v("爱消费的项目排行")]),e("div",{staticClass:"content"},[e("TopProjectList")],1)]),e("div",{staticClass:"big-box"},[e("div",{staticClass:"header"},[t._v(" 按门店-新客转卡率 "),e("DatePicker",{staticStyle:{width:"200px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",size:"small",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1),e("div",{staticClass:"content"},[e("TurnCardRate")],1)]),e("div",{staticClass:"big-box"},[e("div",{staticClass:"header"},[t._v("新客来源排行")]),e("div",{staticClass:"content"},[e("TopSourceList")],1)]),e("Modal",{attrs:{"footer-hide":!0,scrollable:t.modal.scrollable,styles:t.modal.styles,title:t.modal.title,width:t.modal.width},model:{value:t.modal.show,callback:function(e){t.$set(t.modal,"show",e)},expression:"modal.show"}})],1)},Kl=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"right"},[e("div",{staticClass:"add-bt"},[t._v("导出")])])}],Jl=function(){var t=this,e=t._self._c;return e("content",[e("v-chart",{ref:"chart",staticClass:"e-chart",attrs:{"auto-resize":!0,option:t.chart.option}})],1)},Ql=[];(0,x.D)([Fl.N,Ha.N,Oa.N,Ra.N,Ea.N,un.N]);var tc={name:"NewGuestTrend",components:{VChart:pn.ZP},props:{},data:function(){return{chart:{option:{legend:{orient:"horizontal",top:"bottom"},tooltip:{},grid:{left:"3%",right:"4%",bottom:"12%",containLabel:!0},dataset:{source:[["日期","新客累加","新客数量"],["2022-06",43.3,85.8],["2022-07",82.1,73.4],["2022-08",86.4,65.2],["2022-09",72.4,53.5]]},xAxis:{type:"category"},yAxis:{},series:[{type:"bar",barWidth:"30",itemStyle:{color:"#229ddc"},label:{show:!0,position:"top",color:"#333",fontSize:"12px",formatter:t=>t.value[t.encode.x[1]]}},{type:"bar",barWidth:"30",itemStyle:{color:"#ed7d31"},label:{show:!0,position:"top",color:"#333",fontSize:"12px",formatter:t=>t.value[t.encode.x[1]]}}]}}}},activated(){},created(){},mounted(){this.$nextTick((()=>{this.$refs.chart.resize()}))},methods:{}},ec=tc,ac=(0,u.Z)(ec,Jl,Ql,!1,null,"3b79144e",null),ic=ac.exports,sc=function(){var t=this,e=t._self._c;return e("content",[e("v-chart",{ref:"chart",staticClass:"e-chart",attrs:{"auto-resize":!0,option:t.chart.option}})],1)},nc=[];(0,x.D)([Za,Ha.N,Oa.N,Ra.N,Ea.N,qi,un.N,dn]);var rc={name:"TopProjectList",components:{VChart:pn.ZP},props:{},data:function(){return{chart:{option:{tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},grid:{top:"14%",left:"3%",right:"4%",bottom:"12%",containLabel:!0},toolbox:{feature:{}},legend:{data:["购买新客数","占比"],orient:"horizontal",top:"bottom"},xAxis:[{type:"category",data:["腹直肌修复","盆底肌修复","骨盆修食","肩颈理疗","上门催乳"],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",axisLabel:{formatter:"{value}"}},{type:"value",axisLabel:{formatter:"{value}  %"}}],series:[{name:"购买新客数",type:"bar",itemStyle:{color:"#649276"},barWidth:"16",tooltip:{valueFormatter:function(t){return t}},data:[2,4.9,7,23.2,25.6,76.7,135.6,162.2,6.4,3.3]},{name:"占比",type:"line",itemStyle:{color:"#c35843"},yAxisIndex:1,tooltip:{valueFormatter:function(t){return t+" %"}},data:[2,2.2,3.3,4.5,6.3,10.2,23,16.5,12,6.2]}]}}}},activated(){},created(){},mounted(){this.$nextTick((()=>{this.$refs.chart.resize()}))},methods:{}},oc=rc,lc=(0,u.Z)(oc,sc,nc,!1,null,"12b1c28b",null),cc=lc.exports,hc=function(){var t=this,e=t._self._c;return e("content",[e("v-chart",{ref:"chart",staticClass:"e-chart",attrs:{"auto-resize":!0,option:t.chart.option}})],1)},dc=[];(0,x.D)([Za,Ha.N,Oa.N,Ra.N,Ea.N,qi,un.N,dn]);var uc={name:"TurnCardRate",components:{VChart:pn.ZP},props:{},data:function(){return{chart:{option:{tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},grid:{top:"14%",left:"3%",right:"4%",bottom:"12%",containLabel:!0},toolbox:{feature:{}},legend:{data:["新客办卡数","新客","新客转卡率"],orient:"horizontal",top:"bottom"},xAxis:[{type:"category",data:["惠城总店1","惠城总店2","惠城总店3","惠城总店4","惠城总店5"],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",axisLabel:{formatter:"{value}"}},{type:"value",axisLabel:{formatter:"{value}  %"}}],series:[{name:"新客办卡数",type:"bar",itemStyle:{color:"#649276"},barWidth:"16",tooltip:{valueFormatter:function(t){return t}},data:[2,4.9,7,23.2,25.6,76.7,135.6,162.2,6.4,3.3]},{name:"新客",type:"bar",itemStyle:{color:"#5c59c3"},barWidth:"16",tooltip:{valueFormatter:function(t){return t}},data:[2,4.9,7,23.2,25.6,76.7,135.6,162.2,6.4,3.3]},{name:"新客转卡率",type:"line",itemStyle:{color:"#c35843"},yAxisIndex:1,tooltip:{valueFormatter:function(t){return t+" %"}},data:[2,2.2,3.3,4.5,6.3,10.2,23,16.5,12,6.2]}]}}}},activated(){},created(){},mounted(){this.$nextTick((()=>{this.$refs.chart.resize()}))},methods:{}},pc=uc,vc=(0,u.Z)(pc,hc,dc,!1,null,"3609e93d",null),gc=vc.exports,fc=function(){var t=this,e=t._self._c;return e("content",[e("v-chart",{ref:"chart",staticClass:"e-chart",attrs:{"auto-resize":!0,option:t.chart.option}})],1)},yc=[];(0,x.D)([Za,Ha.N,Oa.N,Ra.N,Ea.N,qi,un.N,dn]);var mc={name:"TopSourceList",components:{VChart:pn.ZP},props:{},data:function(){return{chart:{option:{tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},grid:{top:"14%",left:"3%",right:"4%",bottom:"12%",containLabel:!0},toolbox:{feature:{}},legend:{data:["新客","占比"],orient:"horizontal",top:"bottom"},xAxis:[{type:"category",data:["美团","来源1","来源2","来源4","来源3"],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",axisLabel:{formatter:"{value}"}},{type:"value",axisLabel:{formatter:"{value}  %"}}],series:[{name:"新客",type:"bar",itemStyle:{color:"#5c59c3"},barWidth:"16",tooltip:{valueFormatter:function(t){return t}},data:[2,4.9,7,23.2,25.6,76.7,135.6,162.2,6.4,3.3]},{name:"占比",type:"line",itemStyle:{color:"#c35843"},yAxisIndex:1,tooltip:{valueFormatter:function(t){return t+" %"}},data:[2,2.2,3.3,4.5,6.3,10.2,23,16.5,12,6.2]}]}}}},activated(){},created(){},mounted(){this.$nextTick((()=>{this.$refs.chart.resize()}))},methods:{}},xc=mc,bc=(0,u.Z)(xc,fc,yc,!1,null,"6c930e9a",null),Cc=bc.exports,_c={name:"NewGuestList",components:{SelectShop:c.Z,TopSourceList:Cc,TurnCardRate:gc,TopProjectList:cc,NewGuestTrend:ic},data:function(){return{modal:{show:!1,title:"",type:!1,width:1e3,scrollable:!0,styles:{top:"50px"}},searchData:{sid:"",search:"",start:"",end:""}}},activated(){},created(){},methods:{showModal(t,e,a={}){console.log(a),this.modal.show=!0,this.modal.title=t,this.modal.type=e,this.modal.width=window.innerWidth-300},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()}}},wc=_c,kc=(0,u.Z)(wc,ql,Kl,!1,null,"5544921e",null),Dc=kc.exports,Sc={name:"VipAnalysis",components:{NewGuestList:Dc,VipActiveRate:jl,NewVipList:Hl,NoHandleCard:Al,OpenCardTopUpList:kl,TopVipList:ul,VipLifeCycleList:ml},data:function(){return{tab_index:"top20%会员",tab_list:[{name:"top20%会员",id:1},{name:"会员生命周期",id:2},{name:"开卡充值能力",id:3},{name:"到店未办卡",id:4},{name:"新会员与新办卡",id:5},{name:"会员活跃率",id:6},{name:"新客",id:7}]}},computed:{current(){return(t,e)=>e===t.name&&this.tab_index===e}},methods:{handleTabClick(t){this.tab_index=t}}},Mc=Sc,Pc=(0,u.Z)(Mc,nl,rl,!1,null,"61231984",null),Tc=Pc.exports,Ac=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("Tabs",{attrs:{size:"small"},on:{"on-click":t.handleTabClick},model:{value:t.tab_index,callback:function(e){t.tab_index=e},expression:"tab_index"}},t._l(t.tab_list,(function(a){return e("TabPane",{key:a.id,attrs:{label:a.name,name:a.name}},[t.current(a,"经营分析")?e("BusinessAnalysisList"):t._e(),t.current(a,"客单价分析")?e("CustomerUnitPriceAnalysis"):t._e(),t.current(a,"客流分析")?e("PassengerFlowAnalysis"):t._e(),t.current(a,"门店人效")?e("StorePeopleWork"):t._e()],1)})),1)],1)},Lc=[],zc=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("时间")]),e("SelectDate",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1)]),e("div",{staticClass:"right"},[e("Poptip",{attrs:{placement:"left-start",transfer:"",trigger:"hover"}},[e("div",{staticClass:"explain"},[t._v("?字段说明")]),e("div",{attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"fields-remark"},[e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("提示:")]),t._v(" 当前模块的各类数据根据时间以及门店筛选计算展示。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("总业绩:")]),t._v(" 现金类收入总和,现金类收入是指通过现金、微信、支付宝及POS等支付方式开单收银的订单成交额。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("项目业绩:")]),t._v(" 客户使用现金类支付方式在门店消费项目产生的业绩。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("套餐次卡业绩:")]),t._v(" 客户使用现金类支付方式在门店开卡、充卡以及卡换卡产生的业绩。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("商品业绩:")]),t._v(" 客户使用现金类支付方式在门店消费商品产生的业绩。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("营业收入:")]),t._v(" 门店实际收入总和,实际收入是指产品、项目、套餐的现金类业绩的总和。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("总耗卡:")]),t._v(" 在统计时间内会员资产消耗总和,会员资产消耗次卡、赠品等支付方式开单收银的订单成交额。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("业绩耗卡比:")]),t._v(" 总业绩/总卡耗的占比。耗卡业绩比:总耗卡/总业绩的占比 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("到店人数:")]),t._v(" 在统计时间有订单的人数+开单时填写的散客人数, (到店人数=新客+老客+散客),存在一个会员因为时间段内既是新客又是老客导致等式不相等的情况。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("新客人数:")]),t._v(" 在统计时间内,门店新增会员的人数。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("老客人数:")]),t._v(" 老客人数:在统计时间内,门店老客的到店消费人数。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("同行人数:")]),t._v(" 开单时填写的同行会员/散客人数 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("新增持卡会员:")]),t._v(" 首次办卡的会员人数。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("新客成交率:")]),t._v(" 成交新客数/新客人数的占比。(根据生命周期判断新客成交) ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("老带新新客数:")]),t._v(" 来源渠道为【老带新】的新客人数。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("新客占比:")]),t._v(" 新客人数/到店人数的占比。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("老客占比:")]),t._v(" 老客人数/到店人数的占比。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("新客业绩:")]),t._v(" 新客到店消费产生的业绩。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("新客业绩占比:")]),t._v(" 新客业绩/总业绩的占比。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("老客业绩占比:")]),t._v(" 老客业绩/总业绩的占比。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("客单价:")]),t._v(" 总业绩/到店人数。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("客单价(不含卡) :")]),t._v(" 不包含卡的业绩/到店人数。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("客单价(新客) :")]),t._v(" 新客业绩/新客人数。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("客单价(老客) :")]),t._v(" 老客的营业收入/老客到店人数。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("老带新客单价:")]),t._v(" 来源渠道为【老带新】的客户业绩/该渠道客户到店人数。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("待收欠款总额:")]),t._v(" 截止到筛选时间截点,订单欠款总额。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("本月目标:")]),t._v(" 本月业绩目标。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("目标完成率:")]),t._v(" 本月业绩目标的达成百分比。 ")])])])]),e("div",{staticClass:"add-bt",on:{click:t.exportDataEvent}},[t._v("导出")]),e("Toolbar",{attrs:{"table-columns":t.tableColumns,"total-columns":t.totalColumns},on:{"on-change":t.changeColumns}})],1)]),e("div",{staticClass:"list"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),1),e("div",{staticClass:"page"},[e("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1)])},Ic=[],Nc=a(99562),Zc={name:"BusinessAnalysisList",components:{SelectDate:Nc.Z,SelectShop:c.Z,Toolbar:Gn.Z},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"门店",key:"0",width:120,fixed:"left"},{title:"总业绩",key:"1",width:120},{title:"营业收入",key:"2",width:120},{title:"总耗卡",key:"3",width:120},{title:"待收欠款总额",key:"4",width:120},{title:"储值卡总余额",key:"5",width:120},{title:"项目业绩",key:"6",width:120},{title:"商品业绩",key:"7",width:120},{title:"套餐次卡业绩",key:"8",width:120},{title:"储值卡业绩",key:"9",width:120},{title:"优惠券业绩",key:"10",width:120}],totalColumns:[{title:"门店",key:"0",fixed:"left"},{title:"总业绩",key:"1"},{title:"营业收入",key:"2"},{title:"总耗卡",key:"3"},{title:"待收欠款总额",key:"4"},{title:"储值卡总余额",key:"5"},{title:"项目业绩",key:"6"},{title:"商品业绩",key:"7"},{title:"套餐次卡业绩",key:"8"},{title:"储值卡业绩",key:"9"},{title:"优惠券业绩",key:"10"},{title:"老带新业绩",key:"11"},{title:"到店客次",key:"12"},{title:"新客到店人数",key:"13"},{title:"老客到店人数",key:"14"},{title:"新增持卡会员",key:"15"},{title:"新客成交率",key:"16"},{title:"老带新新客数",key:"17"},{title:"新客占比",key:"18"},{title:"老客占比",key:"19"},{title:"新客业绩",key:"20"},{title:"老客业绩",key:"21"},{title:"散客业绩",key:"22"},{title:"新客业绩占比",key:"23"},{title:"老客业绩占比",key:"24"},{title:"散客业绩占比",key:"25"},{title:"客单价",key:"26"},{title:"客单价(不含卡)",key:"27"},{title:"客单价(新客)",key:"28"},{title:"客单价(老客)",key:"29"},{title:"客单价(老带新)",key:"30"},{title:"本月目标",key:"31"},{title:"目标完成率",key:"32"},{title:"人效",key:"33"},{title:"坪效",key:"34"},{title:"待耗卡总额",key:"35"}],searchData:{sid:"",search:"",start:"",end:"",p:1,page:10,count:0}}},computed:{},activated(){},created(){},mounted(){this.setHeight(),window.onresize=()=>{this.setHeight()}},methods:{setHeight(){this.tableHeight=window.innerHeight-286},changeColumns(t){this.tableColumns=t},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()},exportDataEvent(){setTimeout((()=>{const t=[];this.$refs.xTable.exportData({filename:"",type:"csv",isHeader:!0,isFooter:!0,data:t})}),100)}}},Hc=Zc,Oc=(0,u.Z)(Hc,zc,Ic,!1,null,"fce0b5fa",null),Rc=Oc.exports,Ec=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("DatePicker",{staticStyle:{width:"200px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1)]),t._m(0)]),e("div",{staticClass:"list"},[e("div",{staticClass:"title"},[t._v("客单价")]),e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),1),e("div",{staticClass:"page"},[e("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1),e("div",{staticClass:"big-box"},[e("div",{staticClass:"header"},[t._v("项目消耗客单价")]),e("div",{staticClass:"content"},[e("ProjectConsumptionCustomerUnitPrice")],1)]),e("div",{staticClass:"big-box"},[e("div",{staticClass:"header"},[t._v(" 按门店-项目消耗客单价 "),e("DatePicker",{staticStyle:{width:"200px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",size:"small",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1),e("div",{staticClass:"content"},[e("ProjectConsumptionCustomerUnitPrice")],1)]),e("Modal",{attrs:{"footer-hide":!0,scrollable:t.modal.scrollable,styles:t.modal.styles,title:t.modal.title,width:t.modal.width},model:{value:t.modal.show,callback:function(e){t.$set(t.modal,"show",e)},expression:"modal.show"}})],1)},Vc=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"right"},[e("div",{staticClass:"add-bt"},[t._v("导出")])])}],Fc=function(){var t=this,e=t._self._c;return e("content",[e("v-chart",{ref:"chart",staticClass:"e-chart",attrs:{"auto-resize":!0,option:t.chart.option}})],1)},Gc=[];(0,x.D)([Fl.N,Ha.N,Oa.N,Ra.N,Ea.N,un.N]);var Wc={name:"ProjectConsumptionCustomerUnitPrice",components:{VChart:pn.ZP},props:{},data:function(){return{chart:{option:{legend:{},tooltip:{},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},dataset:{source:[["日期","项目耗卡客单价","项目售卖客单价"],["2022-06",43.3,85.8],["2022-07",82.1,73.4],["2022-08",86.4,65.2],["2022-09",72.4,53.9]]},xAxis:{type:"category"},yAxis:{},series:[{type:"bar",barWidth:"30",itemStyle:{color:"#229ddc"},label:{show:!0,position:"top",color:"#333",fontSize:"12px",formatter:t=>t.value[t.encode.x[1]]}},{type:"bar",barWidth:"30",itemStyle:{color:"#14a091"},label:{show:!0,position:"top",color:"#333",fontSize:"12px",formatter:t=>t.value[t.encode.x[1]]}}]}}}},activated(){},created(){},mounted(){this.$nextTick((()=>{this.$refs.chart.resize()}))},methods:{}},$c=Wc,Bc=(0,u.Z)($c,Fc,Gc,!1,null,"660e696e",null),Uc=Bc.exports,Xc={name:"CustomerUnitPriceAnalysis",components:{SelectShop:c.Z,ProjectConsumptionCustomerUnitPrice:Uc},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"日期",key:"0"},{title:"客流",key:"1"},{title:"营收",key:"2"},{title:"客单价",key:"3"},{title:"项目耗卡金额",key:"4"},{title:"项目售卖金额",key:"5"}],modal:{show:!1,title:"",type:!1,width:1e3,scrollable:!0,styles:{top:"50px"}},searchData:{sid:"",search:"",start:"",end:"",p:1,page:10,count:0}}},activated(){},created(){},methods:{showModal(t,e,a={}){console.log(a),this.modal.show=!0,this.modal.title=t,this.modal.type=e,this.modal.width=window.innerWidth-300},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()}}},Yc=Xc,jc=(0,u.Z)(Yc,Ec,Vc,!1,null,"efd6c64e",null),qc=jc.exports,Kc=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("DatePicker",{staticStyle:{width:"200px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1)]),t._m(0)]),e("div",{staticClass:"list"},[e("div",{staticClass:"title"},[t._v("门店人效")]),e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),1),e("div",{staticClass:"page"},[e("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1),e("div",{staticClass:"row"},[e("div",{staticClass:"cell"},[e("PerCapitaIncome")],1),e("div",{staticClass:"cell"},[e("StorePerCapitaIncome")],1)]),e("Modal",{attrs:{"footer-hide":!0,scrollable:t.modal.scrollable,styles:t.modal.styles,title:t.modal.title,width:t.modal.width},model:{value:t.modal.show,callback:function(e){t.$set(t.modal,"show",e)},expression:"modal.show"}})],1)},Jc=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"right"},[e("div",{staticClass:"add-bt"},[t._v("导出")])])}],Qc=function(){var t=this,e=t._self._c;return e("div",{staticClass:"PerCapitaIncome"},[t._m(0),e("div",{staticClass:"content"},[e("v-chart",{ref:"chart",staticClass:"e-chart",attrs:{"auto-resize":!0,option:t.chart.option}})],1)])},th=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("div",{staticClass:"l"},[t._v("门店人均营收")]),e("div",{staticClass:"r"})])}];(0,x.D)([Za,Ha.N,Oa.N,Ra.N,Ea.N,qi,un.N,dn]);var eh={name:"PerCapitaIncome",components:{VChart:pn.ZP},data:function(){return{chart:{option:{tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},grid:{top:"14%",left:"3%",right:"4%",bottom:"12%",containLabel:!0},toolbox:{feature:{}},legend:{data:["营收","人均营收"],orient:"horizontal",top:"bottom"},xAxis:[{type:"category",data:["2022-01","2022-02","2022-03","2022-04","2022-05"],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",axisLabel:{formatter:"{value}"}},{type:"value",axisLabel:{formatter:"{value}"}}],series:[{name:"营收",type:"bar",itemStyle:{color:"#7bc9be"},barWidth:"16",tooltip:{valueFormatter:function(t){return t}},data:[2,4.9,7,23.2,25.6,76.7,135.6,162.2,6.4,3.3]},{name:"人均营收",type:"line",itemStyle:{color:"#ec7c72"},yAxisIndex:1,tooltip:{valueFormatter:function(t){return t+" %"}},data:[2,2.2,3.3,4.5,6.3,10.2,23,16.5,12,6.2]}]}}}},activated(){},created(){},mounted(){this.$nextTick((()=>{this.$refs.chart.resize()}))},methods:{}},ah=eh,ih=(0,u.Z)(ah,Qc,th,!1,null,"26cb2f40",null),sh=ih.exports,nh=function(){var t=this,e=t._self._c;return e("div",{staticClass:"StorePerCapitaIncome"},[e("div",{staticClass:"header"},[e("div",{staticClass:"l"},[t._v(" 按门店-门店人均营收 "),e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",size:"small",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1),e("div",{staticClass:"r"})]),e("div",{staticClass:"content"},[e("v-chart",{ref:"chart",staticClass:"e-chart",attrs:{"auto-resize":!0,option:t.chart.option}})],1)])},rh=[];(0,x.D)([Za,Ha.N,Oa.N,Ra.N,Ea.N,qi,un.N,dn]);var oh={name:"StorePerCapitaIncome",components:{VChart:pn.ZP},data:function(){return{searchData:{search:"",start:"",end:""},chart:{option:{tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},grid:{top:"14%",left:"3%",right:"4%",bottom:"12%",containLabel:!0},toolbox:{feature:{}},legend:{data:["营收","人均营收"],orient:"horizontal",top:"bottom"},xAxis:[{type:"category",data:["2022-01","2022-02","2022-03","2022-04","2022-05"],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",axisLabel:{formatter:"{value}"}},{type:"value",axisLabel:{formatter:"{value}"}}],series:[{name:"营收",type:"bar",itemStyle:{color:"#7bc9be"},barWidth:"16",tooltip:{valueFormatter:function(t){return t}},data:[2,4.9,7,23.2,25.6,76.7,135.6,162.2,6.4,3.3]},{name:"人均营收",type:"line",itemStyle:{color:"#ec7c72"},yAxisIndex:1,tooltip:{valueFormatter:function(t){return t+" %"}},data:[2,2.2,3.3,4.5,6.3,10.2,23,16.5,12,6.2]}]}}}},activated(){},created(){},mounted(){this.$nextTick((()=>{this.$refs.chart.resize()}))},methods:{clearDate(){this.searchData.start="",this.searchData.end=""},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1])}}},lh=oh,ch=(0,u.Z)(lh,nh,rh,!1,null,"3d25b7b8",null),hh=ch.exports,dh={name:"StorePeopleWork",components:{SelectShop:c.Z,StorePerCapitaIncome:hh,PerCapitaIncome:sh},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"日期",key:"0"},{title:"客数",key:"1"},{title:"营收",key:"2"},{title:"人均营收",key:"3"}],modal:{show:!1,title:"",type:!1,width:1e3,scrollable:!0,styles:{top:"50px"}},searchData:{sid:"",search:"",start:"",end:"",p:1,page:10,count:0}}},activated(){},created(){},methods:{showModal(t,e,a={}){console.log(a),this.modal.show=!0,this.modal.title=t,this.modal.type=e,this.modal.width=window.innerWidth-300},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()}}},uh=dh,ph=(0,u.Z)(uh,Kc,Jc,!1,null,"041144ea",null),vh=ph.exports,gh=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1)]),e("div",{staticClass:"right"})]),e("div",{staticClass:"row"},[e("GuestTrend")],1),e("div",{staticClass:"row"},[e("StoreGuestTrend1")],1),e("div",{staticClass:"row"},[e("div",{staticClass:"cell"},[e("GuestAnalysis")],1),e("div",{staticClass:"cell"},[e("PerCapitaReception")],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"cell"},[e("StoreAnalysis")],1),e("div",{staticClass:"cell"},[e("ConsumptionRank")],1)]),e("div",{staticClass:"row"},[e("StoreGuestTrend2")],1)])},fh=[],yh=function(){var t=this,e=t._self._c;return e("div",{staticClass:"StoreGuestTrend2"},[e("div",{staticClass:"header"},[e("div",{staticClass:"left"},[e("div",{staticClass:"h-cel title"},[t._v(" 按门店-到店客次趋势走向 "),e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",size:"small",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1)]),t._m(0)]),e("div",{staticClass:"content"},[e("v-chart",{ref:"chart",staticClass:"e-chart",attrs:{"auto-resize":!0,option:t.chart.option}})],1)])},mh=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"right"},[e("div",{staticClass:"bt"})])}];(0,x.D)([Fl.N,Ha.N,Oa.N,Ra.N,Ea.N,un.N]);var xh={name:"StoreGuestTrend2",components:{VChart:pn.ZP},props:{},data:function(){return{chart:{option:{legend:{},tooltip:{},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},dataset:{source:[["日期","开卡充值客数","日均到店客数"],["2022-06",43.3,85.8],["2022-07",82.1,73.4],["2022-08",86.4,65.2],["2022-09",72.4,53.9]]},xAxis:{type:"category"},yAxis:{},series:[{type:"bar",barWidth:"30",itemStyle:{color:"#229ddc"},label:{show:!0,position:"top",color:"#333",fontSize:"12px",formatter:t=>t.value[t.encode.x[1]]}},{type:"bar",barWidth:"30",itemStyle:{color:"#14a091"},label:{show:!0,position:"top",color:"#333",fontSize:"12px",formatter:t=>t.value[t.encode.x[1]]}}]}},searchData:{start:"",end:""}}},activated(){},created(){},mounted(){this.$nextTick((()=>{this.$refs.chart.resize()}))},methods:{clearDate(){this.searchData.start="",this.searchData.end=""},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1])}}},bh=xh,Ch=(0,u.Z)(bh,yh,mh,!1,null,"3941c702",null),_h=Ch.exports,wh=function(){var t=this,e=t._self._c;return e("div",{staticClass:"StoreAnalysis"},[t._m(0),e("div",{staticClass:"content"},[e("v-chart",{ref:"chart",staticClass:"e-chart",attrs:{"auto-resize":!0,option:t.chart.option}})],1)])},kh=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("div",{staticClass:"left"},[e("div",{staticClass:"h-cel title"},[t._v("到店分析")])]),e("div",{staticClass:"right"},[e("div",{staticClass:"bt"})])])}];(0,x.D)([Oa.N,Ea.N,un.N,Br.N,Ha.N]);var Dh={name:"StoreAnalysis",components:{VChart:pn.ZP},props:{},data:function(){return{chart:{option:{backgroundColor:"#FFFFFFFF",tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:"14%",left:"3%",right:"4%",bottom:"12%",containLabel:!0},xAxis:[{axisLine:{show:!0},axisTick:{show:!0,alignWithLabel:!0},type:"category",data:["未设置","美团","第一妇幼","儿童摄影","抖音"]}],yAxis:[{axisLabel:{show:!0},axisLine:{show:!1},type:"value",splitLine:{show:!0}}],series:[{name:"数量",type:"bar",barWidth:"17",itemStyle:{color:"#00b0f0"},label:{show:!0,position:"top",color:"#333",fontSize:"12px",formatter:t=>t.value[t.encode.x[0]]},data:[{value:1002},{value:2220},{value:4020},{value:160},{value:2220}]}]}},searchData:{start:"",end:""}}},activated(){},created(){},mounted(){this.$nextTick((()=>{this.$refs.chart.resize()}))},methods:{}},Sh=Dh,Mh=(0,u.Z)(Sh,wh,kh,!1,null,"14a20754",null),Ph=Mh.exports,Th=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ConsumptionRank"},[t._m(0),e("div",{staticClass:"content"},[e("v-chart",{ref:"chart",staticClass:"e-chart",attrs:{"auto-resize":!0,option:t.chart.option}})],1)])},Ah=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("div",{staticClass:"left"},[e("div",{staticClass:"h-cel title"},[t._v("项目消费排行榜（前20名）")])]),e("div",{staticClass:"right"},[e("div",{staticClass:"bt"})])])}];(0,x.D)([Oa.N,Ea.N,un.N,Br.N,Ha.N]);var Lh={name:"ConsumptionRank",components:{VChart:pn.ZP},props:{},data:function(){return{chart:{option:{backgroundColor:"#FFFFFFFF",tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:"14%",left:"3%",right:"4%",bottom:"12%",containLabel:!0},xAxis:[{axisLine:{show:!0},axisTick:{show:!0,alignWithLabel:!0},type:"category",data:["未设置","美团","第一妇幼","儿童摄影","抖音"]}],yAxis:[{axisLabel:{show:!0},axisLine:{show:!1},type:"value",splitLine:{show:!0}}],series:[{name:"数量",type:"bar",barWidth:"17",itemStyle:{color:"#00b0f0"},label:{show:!0,position:"top",color:"#333",fontSize:"12px",formatter:t=>t.value[t.encode.x[0]]},data:[{value:1002},{value:2220},{value:4020},{value:160},{value:2220}]}]}},searchData:{start:"",end:""}}},activated(){},created(){},mounted(){this.$nextTick((()=>{this.$refs.chart.resize()}))},methods:{}},zh=Lh,Ih=(0,u.Z)(zh,Th,Ah,!1,null,"6ae1fba4",null),Nh=Ih.exports,Zh=function(){var t=this,e=t._self._c;return e("div",{staticClass:"GuestAnalysis"},[e("div",{staticClass:"header"},[e("div",{staticClass:"left"},[e("div",{staticClass:"h-cel title"},[t._v(" 按门店-到店客次分析 "),e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",size:"small",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1)]),t._m(0)]),e("div",{staticClass:"content"},[e("v-chart",{ref:"chart",staticClass:"e-chart",attrs:{"auto-resize":!0,option:t.chart.option}})],1)])},Hh=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"right"},[e("div",{staticClass:"bt"})])}];(0,x.D)([Oa.N,Ea.N,un.N,Br.N,Ha.N]);var Oh={name:"GuestAnalysis",components:{VChart:pn.ZP},props:{},data:function(){return{chart:{option:{backgroundColor:"#FFFFFFFF",tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:"14%",left:"3%",right:"4%",bottom:"12%",containLabel:!0},xAxis:[{axisLine:{show:!0},axisTick:{show:!0,alignWithLabel:!0},type:"category",data:["未设置","美团","第一妇幼","儿童摄影","抖音"]}],yAxis:[{axisLabel:{show:!0},axisLine:{show:!1},type:"value",splitLine:{show:!0}}],series:[{name:"数量",type:"bar",barWidth:"17",itemStyle:{color:"#00b0f0"},label:{show:!0,position:"top",color:"#333",fontSize:"12px",formatter:t=>t.value[t.encode.x[0]]},data:[{value:1002},{value:2220},{value:4020},{value:160},{value:2220}]}]}},searchData:{start:"",end:""}}},activated(){},created(){},mounted(){this.$nextTick((()=>{this.$refs.chart.resize()}))},methods:{clearDate(){this.searchData.start="",this.searchData.end=""},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1])}}},Rh=Oh,Eh=(0,u.Z)(Rh,Zh,Hh,!1,null,"7d5cab3b",null),Vh=Eh.exports,Fh=function(){var t=this,e=t._self._c;return e("div",{staticClass:"PerCapitaReception"},[e("div",{staticClass:"header"},[e("div",{staticClass:"left"},[e("div",{staticClass:"h-cel title"},[t._v(" 按门店-人日均接待客次 "),e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",size:"small",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1)]),t._m(0)]),e("div",{staticClass:"content"},[e("v-chart",{ref:"chart",staticClass:"e-chart",attrs:{"auto-resize":!0,option:t.chart.option}})],1)])},Gh=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"right"},[e("div",{staticClass:"bt"})])}];(0,x.D)([Oa.N,Ea.N,un.N,Br.N,Ha.N]);var Wh={name:"PerCapitaReception",components:{VChart:pn.ZP},props:{},data:function(){return{chart:{option:{backgroundColor:"#FFFFFFFF",tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:"14%",left:"3%",right:"4%",bottom:"12%",containLabel:!0},xAxis:[{axisLine:{show:!0},axisTick:{show:!0,alignWithLabel:!0},type:"category",data:["未设置","美团","第一妇幼","儿童摄影","抖音"]}],yAxis:[{axisLabel:{show:!0},axisLine:{show:!1},type:"value",splitLine:{show:!0}}],series:[{name:"数量",type:"bar",barWidth:"17",itemStyle:{color:"#00b0f0"},label:{show:!0,position:"top",color:"#333",fontSize:"12px",formatter:t=>t.value[t.encode.x[0]]},data:[{value:1002},{value:2220},{value:4020},{value:160},{value:2220}]}]}},searchData:{start:"",end:""}}},activated(){},created(){},mounted(){this.$nextTick((()=>{this.$refs.chart.resize()}))},methods:{clearDate(){this.searchData.start="",this.searchData.end=""},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1])}}},$h=Wh,Bh=(0,u.Z)($h,Fh,Gh,!1,null,"24f2deae",null),Uh=Bh.exports,Xh=function(){var t=this,e=t._self._c;return e("div",{staticClass:"StoreGuestTrend1"},[t._m(0),e("div",{staticClass:"content"},[e("v-chart",{ref:"chart",staticClass:"e-chart",attrs:{"auto-resize":!0,option:t.chart.option}})],1)])},Yh=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("div",{staticClass:"left"},[e("div",{staticClass:"h-cel title"},[t._v("按门店-到店客次趋势走向")])]),e("div",{staticClass:"right"},[e("div",{staticClass:"bt"})])])}],jh=a(7928),qh=function(t){function e(){var a=null!==t&&t.apply(this,arguments)||this;return a.type=e.type,a.layoutMode={type:"box",ignoreSize:!0},a}return(0,b.ZT)(e,t),e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(_.Z),Kh=function(t){function e(){var a=null!==t&&t.apply(this,arguments)||this;return a.type=e.type,a}return(0,b.ZT)(e,t),e.prototype.render=function(t,e,a){if(this.group.removeAll(),t.get("show")){var i=this.group,s=t.getModel("textStyle"),n=t.getModel("subtextStyle"),r=t.get("textAlign"),o=C.pD(t.get("textBaseline"),t.get("textVerticalAlign")),l=new ft.ZP({style:(0,Ya.Lr)(s,{text:t.get("text"),fill:s.getTextColor()},{disableBox:!0}),z2:10}),c=l.getBoundingRect(),h=t.get("subtext"),d=new ft.ZP({style:(0,Ya.Lr)(n,{text:h,fill:n.getTextColor(),y:c.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),u=t.get("link"),p=t.get("sublink"),v=t.get("triggerEvent",!0);l.silent=!u&&!v,d.silent=!p&&!v,u&&l.on("click",(function(){(0,Si.MI)(u,"_"+t.get("target"))})),p&&d.on("click",(function(){(0,Si.MI)(p,"_"+t.get("subtarget"))})),(0,Ua.A)(l).eventData=(0,Ua.A)(d).eventData=v?{componentType:"title",componentIndex:t.componentIndex}:null,i.add(l),h&&i.add(d);var g=i.getBoundingRect(),f=t.getBoxLayoutParams();f.width=g.width,f.height=g.height;var y=(0,jh.ME)(f,{width:a.getWidth(),height:a.getHeight()},t.get("padding"));r||(r=t.get("left")||t.get("right"),"middle"===r&&(r="center"),"right"===r?y.x+=y.width:"center"===r&&(y.x+=y.width/2)),o||(o=t.get("top")||t.get("bottom"),"center"===o&&(o="middle"),"bottom"===o?y.y+=y.height:"middle"===o&&(y.y+=y.height/2),o=o||"top"),i.x=y.x,i.y=y.y,i.markRedraw();var m={align:r,verticalAlign:o};l.setStyle(m),d.setStyle(m),g=i.getBoundingRect();var x=y.margin,b=t.getItemStyle(["color","opacity"]);b.fill=t.get("backgroundColor");var _=new ae.Z({shape:{x:g.x-x[3],y:g.y-x[0],width:g.width+x[1]+x[3],height:g.height+x[0]+x[2],r:t.get("borderRadius")},style:b,subPixelOptimize:!0,silent:!0});i.add(_)}},e.type="title",e}(Z.Z);function Jh(t){t.registerComponentModel(qh),t.registerComponentView(Kh)}(0,x.D)([Jh,Za,Ha.N,Oa.N,Ra.N,qi,un.N,dn]);var Qh={name:"StoreGuestTrend1",components:{VChart:pn.ZP},props:{},data:function(){return{chart:{option:{legend:{data:["Email","Union Ads","Video Ads","Direct","Search Engine"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{}},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{name:"Email",type:"line",stack:"Total",data:[120,132,101,134,90,230,210]},{name:"Union Ads",type:"line",stack:"Total",data:[220,182,191,234,290,330,310]},{name:"Video Ads",type:"line",stack:"Total",data:[150,232,201,154,190,330,410]},{name:"Direct",type:"line",stack:"Total",data:[320,332,301,334,390,330,320]},{name:"Search Engine",type:"line",stack:"Total",data:[820,932,901,934,1290,1330,1320]}]}},searchData:{start:"",end:""}}},activated(){},created(){},mounted(){this.$nextTick((()=>{this.$refs.chart.resize()}))},methods:{}},td=Qh,ed=(0,u.Z)(td,Xh,Yh,!1,null,"a5fd183c",null),ad=ed.exports,id=function(){var t=this,e=t._self._c;return e("div",{staticClass:"GuestTrend"},[t._m(0),e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[t._v("到店客次趋势走向")]),e("v-chart",{ref:"chart",staticClass:"e-chart",attrs:{"auto-resize":!0,option:t.chart.option}})],1)])},sd=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("div",{staticClass:"left"},[e("div",{staticClass:"h-cel title"},[t._v(" 到店总客数 "),e("span",{staticStyle:{"font-size":"14px","font-weight":"bold"}},[t._v("281")])])]),e("div",{staticClass:"right"},[e("div",{staticClass:"bt"})])])}];(0,x.D)([Za,Ha.N,Oa.N,Ra.N,Ea.N,qi,un.N,dn]);var nd={name:"GuestTrend",components:{VChart:pn.ZP},props:{},data:function(){return{chart:{option:{tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},grid:{top:"14%",left:"3%",right:"4%",bottom:"12%",containLabel:!0},toolbox:{feature:{}},legend:{data:["营收","人均营收"],orient:"horizontal",top:"bottom"},xAxis:[{type:"category",data:["2022-01","2022-02","2022-03","2022-04","2022-05"],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",axisLabel:{formatter:"{value}"}},{type:"value",axisLabel:{formatter:"{value}"}}],series:[{name:"营收",type:"bar",itemStyle:{color:"#00b0f0"},barWidth:"16",tooltip:{valueFormatter:function(t){return t}},data:[2,4.9,7,23.2,25.6,76.7,135.6,162.2,6.4,3.3]},{name:"人均营收",type:"line",itemStyle:{color:"#00b0f0"},yAxisIndex:1,tooltip:{valueFormatter:function(t){return t+" %"}},data:[2,2.2,3.3,4.5,6.3,10.2,23,16.5,12,6.2]}]}},searchData:{start:"",end:""}}},activated(){},created(){},mounted(){this.$nextTick((()=>{this.$refs.chart.resize()}))},methods:{}},rd=nd,od=(0,u.Z)(rd,id,sd,!1,null,"a8281748",null),ld=od.exports,cd={name:"PassengerFlowAnalysis",components:{SelectShop:c.Z,GuestTrend:ld,StoreGuestTrend1:ad,PerCapitaReception:Uh,GuestAnalysis:Vh,ConsumptionRank:Nh,StoreAnalysis:Ph,StoreGuestTrend2:_h},data:function(){return{searchData:{sid:""}}},activated(){},created(){},methods:{clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},search(){}}},hd=cd,dd=(0,u.Z)(hd,gh,fh,!1,null,"52637163",null),ud=dd.exports,pd={name:"BusinessAnalysis",components:{PassengerFlowAnalysis:ud,StorePeopleWork:vh,CustomerUnitPriceAnalysis:qc,BusinessAnalysisList:Rc},data:function(){return{tab_index:"经营分析",tab_list:[{name:"经营分析",id:1},{name:"客单价分析",id:2},{name:"客流分析",id:3},{name:"门店人效",id:4}]}},computed:{current(){return(t,e)=>e===t.name&&this.tab_index===e}},methods:{handleTabClick(t){this.tab_index=t}}},vd=pd,gd=(0,u.Z)(vd,Ac,Lc,!1,null,"7ab22471",null),fd=gd.exports,yd=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("时间")]),e("Select",{staticStyle:{width:"80px"},attrs:{clearable:"",filterable:"",transfer:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[e("div",{attrs:{slot:"empty"},slot:"empty"},[t._v("未找到数据")]),t._l(t.dateList,(function(a){return e("Option",{key:a.value,attrs:{value:a.value}},[t._v(" "+t._s(a.label)+" ")])}))],2)],1),e("div",{staticClass:"box"},[e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1),e("div",{staticClass:"box"},[e("Input",{staticStyle:{width:"250px"},attrs:{clearable:"","enter-button":"",placeholder:"搜索卡名称/大类/小类",search:""},on:{"on-clear":t.search,"on-search":t.search},model:{value:t.searchData.search,callback:function(e){t.$set(t.searchData,"search",e)},expression:"searchData.search"}})],1)]),e("div",{staticClass:"right"})]),e("div",{staticClass:"row"},[e("div",{staticClass:"card"},[e("div",{staticClass:"header"},[e("div",{staticClass:"l"},[t._v("关键数据指标")]),e("div",{staticClass:"r"},[e("Poptip",{attrs:{placement:"left-start",transfer:"",trigger:"hover"}},[e("div",{staticClass:"explain"},[t._v("?字段说明")]),e("div",{attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"fields-remark"},[e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("总业绩(实收金额)：")]),t._v(" 在统计时间内现金类收入总和,现金类收入是指通过现金、微信、支付宝等自定义支付方式开单收银的订单成交额;在统计时间内如有订单退款,不计算统计。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("总耗卡：")]),t._v(" 在统计时间内会员资产消耗总和,会员资产包括次卡、赠品等支付方式开单收银的订单成交额;在统计时间内如有订单退款,不计算统计。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("到店消费人数：")]),t._v(" 在统计时间内有订单消费的人数(仅办卡未消费品项不计入人数)散客订单按订单数统计,同一客户去重按1统计。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("到店消费人次：")]),t._v(" 在统计时间内有订单消费的人次(仅办卡未消费品项不计入人数) ;如果同一个会员一天多次到店,按最大次数统计。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("人效：")]),t._v(" 在统计时间内产生的业绩/门店员工数量。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("坪效：")]),t._v(" 在统计时间内产生的业绩/门店面积。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("新增持卡会员：")]),t._v(" 在统计时间内首次办卡的会员;同一客户重复办卡去重按1统计。 ")])])])])],1)]),t._m(0),t._m(1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"cell"},[e("Achievements")],1),e("div",{staticClass:"cell"},[e("ChannelData")],1)]),e("div",{staticClass:"row"},[e("MonthlyTarget")],1),e("div",{staticClass:"row"},[e("div",{staticClass:"cell"},[e("NewVipList")],1),e("div",{staticClass:"cell"},[e("OldVipList")],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"cell"},[e("CompletionList")],1),e("div",{staticClass:"cell"},[e("HotSalesStatisticsList")],1)]),e("div",{staticClass:"row"},[e("MonthlyTrafficList")],1)])},md=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"c-cell"},[e("div",{staticClass:"c-row"},[t._v("总业绩(实收金额)")]),e("div",{staticClass:"c-row"},[e("span",{staticClass:"text"},[t._v("￥324234")])]),e("div",{staticClass:"c-row"},[t._v(" 环比： "),e("span",{staticClass:"color1"},[t._v("-￥1,33423423")])])]),e("div",{staticClass:"c-cell"},[e("div",{staticClass:"c-row"},[t._v("总耗卡")]),e("div",{staticClass:"c-row"},[e("span",{staticClass:"text"},[t._v("￥324234")])]),e("div",{staticClass:"c-row"},[t._v(" 环比： "),e("span",{staticClass:"color1"},[t._v("-￥1,33423423")])])]),e("div",{staticClass:"c-cell"},[e("div",{staticClass:"c-row"},[t._v("到店消费人数")]),e("div",{staticClass:"c-row"},[e("span",{staticClass:"text"},[t._v("￥324234")])]),e("div",{staticClass:"c-row"},[t._v(" 环比： "),e("span",{staticClass:"color1"},[t._v("-￥1,33423423")])])]),e("div",{staticClass:"c-cell"},[e("div",{staticClass:"c-row"},[t._v("到店消费人次")]),e("div",{staticClass:"c-row"},[e("span",{staticClass:"text"},[t._v("￥324234")])]),e("div",{staticClass:"c-row"},[t._v(" 环比： "),e("span",{staticClass:"color1"},[t._v("-￥1,33423423")])])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"c-cell"},[e("div",{staticClass:"c-row"},[t._v("人效")]),e("div",{staticClass:"c-row"},[e("span",{staticClass:"text"},[t._v("￥324234")])]),e("div",{staticClass:"c-row"},[t._v(" 环比： "),e("span",{staticClass:"color2"},[t._v("￥1,33423423")])])]),e("div",{staticClass:"c-cell"},[e("div",{staticClass:"c-row"},[t._v("坪效")]),e("div",{staticClass:"c-row"},[e("span",{staticClass:"text"},[t._v("￥324234")])]),e("div",{staticClass:"c-row"},[t._v(" 环比： "),e("span",{staticClass:"color1"},[t._v("-￥1,33423423")])])]),e("div",{staticClass:"c-cell"},[e("div",{staticClass:"c-row"},[t._v("新增持卡会员")]),e("div",{staticClass:"c-row"},[e("span",{staticClass:"text"},[t._v("￥324234")])]),e("div",{staticClass:"c-row"},[t._v(" 环比： "),e("span",{staticClass:"color1"},[t._v("-￥1,33423423")])])]),e("div",{staticClass:"c-cell"},[e("div",{staticClass:"c-row"}),e("div",{staticClass:"c-row"},[e("span",{staticClass:"text"})]),e("div",{staticClass:"c-row"},[e("span",{staticClass:"color1"})])])])}],xd=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Achievements"},[t._m(0),e("div",{staticClass:"content"},[e("div",{staticClass:"l"},[e("v-chart",{ref:"chart",staticClass:"e-chart",staticStyle:{width:"100%",height:"100%"},attrs:{"auto-resize":!0,option:t.chart.option}})],1),t._m(1)])])},bd=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("div",{staticClass:"l"},[t._v("业绩构成")]),e("div",{staticClass:"r"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"r"},[e("div",{staticClass:"h"},[t._v("占比：")]),e("div",{staticClass:"c-row"},[e("div",{staticClass:"c-l"},[t._v("套餐次卡")]),e("div",{staticClass:"c-r"},[t._v("50%")])]),e("div",{staticClass:"c-row"},[e("div",{staticClass:"c-l"},[t._v("商品")]),e("div",{staticClass:"c-r"},[t._v("50%")])]),e("div",{staticClass:"c-row"},[e("div",{staticClass:"c-l"},[t._v("项目")]),e("div",{staticClass:"c-r"},[t._v("50%")])]),e("div",{staticClass:"c-row"},[e("div",{staticClass:"c-l"},[t._v("储值卡")]),e("div",{staticClass:"c-r"},[t._v("50%")])]),e("div",{staticClass:"c-row"},[e("div",{staticClass:"c-l"},[t._v("优惠券")]),e("div",{staticClass:"c-r"},[t._v("50%")])])])}];(0,x.D)([Oa.N,Ea.N,un.N,Br.N,Ha.N]);var Cd={name:"AchievementsAchievements",components:{VChart:pn.ZP},data:function(){return{chart:{option:{backgroundColor:"#FFFFFFFF",tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"8%",containLabel:!0},xAxis:[{axisLine:{show:!1},axisTick:{show:!1,alignWithLabel:!0},type:"category",data:["套餐次卡","商品","项目","储值卡","优惠券"]}],yAxis:[{axisLabel:{show:!1},axisLine:{show:!1},type:"value",splitLine:{show:!1}}],series:[{name:"数量",type:"bar",barWidth:"17",label:{show:!0,position:"top",color:"#333",fontSize:"12px",formatter:t=>t.value[t.encode.x[0]]},data:[{value:100,itemStyle:{color:"#e0efef"}},{value:20,itemStyle:{color:"#efe9e0"}},{value:400,itemStyle:{color:"#d7e0f4"}},{value:60,itemStyle:{color:"#f1c5c5"}},{value:220,itemStyle:{color:"#f19ec2"}}]}]}}}},activated(){},created(){},mounted(){this.$nextTick((()=>{this.$refs.chart.resize()}))},methods:{}},_d=Cd,wd=(0,u.Z)(_d,xd,bd,!1,null,"0bdf9118",null),kd=wd.exports,Dd=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Achievements"},[t._m(0),e("div",{staticClass:"content"},[e("v-chart",{ref:"chart",staticClass:"e-chart",attrs:{"auto-resize":!0,option:t.chart.option}})],1)])},Sd=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("div",{staticClass:"l"},[t._v("渠道数据")]),e("div",{staticClass:"r"})])}];(0,x.D)([Za,Ha.N,Oa.N,Ra.N,Ea.N,qi,un.N,dn]);var Md={name:"ChannelData",components:{VChart:pn.ZP},data:function(){return{chart:{option:{tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},grid:{top:"14%",left:"3%",right:"4%",bottom:"12%",containLabel:!0},toolbox:{feature:{}},legend:{data:["客户数","成交率"],orient:"horizontal",top:"bottom"},xAxis:[{type:"category",data:["剩余3千以下","剩余3千到1万","剩余1万到3万","剩余3万到6万","剩余6万以上"],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",axisLabel:{formatter:"{value}"}},{type:"value",axisLabel:{formatter:"{value} %"}}],series:[{name:"客户数",type:"bar",barWidth:"16",tooltip:{valueFormatter:function(t){return t}},data:[2,4.9,7,23.2,25.6,76.7,135.6,162.2,6.4,3.3]},{name:"成交率",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(t){return t+" %"}},data:[2,2.2,3.3,4.5,6.3,10.2,23,16.5,12,6.2]}]}}}},activated(){},created(){},mounted(){this.$nextTick((()=>{this.$refs.chart.resize()}))},methods:{}},Pd=Md,Td=(0,u.Z)(Pd,Dd,Sd,!1,null,"73960ff6",null),Ad=Td.exports,Ld=function(){var t=this,e=t._self._c;return e("div",{staticClass:"MonthlyTarget"},[t._m(0),e("div",{staticClass:"content"},[e("div",{staticClass:"cell"},[e("div",{staticClass:"top"},[e("div",{staticClass:"circle",staticStyle:{width:"180px",height:"180px"}},[e("i-circle",{attrs:{percent:80,size:180,"stroke-color":"#f19ec2","stroke-width":10,"trail-width":10}},[e("div",{staticStyle:{"font-size":"14px"}},[t._v("业绩月目标")]),e("div",{staticStyle:{"font-size":"14px"}},[t._v("80%")])])],1)]),e("div",{staticClass:"bottom"},[t._v("已完成32432%,超出232元")])]),e("div",{staticClass:"cell"},[e("div",{staticClass:"top"},[e("div",{staticClass:"circle",staticStyle:{width:"180px",height:"180px"}},[e("i-circle",{attrs:{percent:80,size:180,"stroke-color":"#f19ec2","stroke-width":10,"trail-width":10}},[e("div",{staticStyle:{"font-size":"14px"}},[t._v("耗卡月目标")]),e("div",{staticStyle:{"font-size":"14px"}},[t._v("80%")])])],1)]),e("div",{staticClass:"bottom"},[t._v("已完成32432%,超出232元")])]),e("div",{staticClass:"cell"},[e("div",{staticClass:"top"},[e("div",{staticClass:"circle",staticStyle:{width:"180px",height:"180px"}},[e("i-circle",{attrs:{percent:80,size:180,"stroke-color":"#f19ec2","stroke-width":10,"trail-width":10}},[e("div",{staticStyle:{"font-size":"14px"}},[t._v("客流月目标")]),e("div",{staticStyle:{"font-size":"14px"}},[t._v("80%")])])],1)]),e("div",{staticClass:"bottom"},[t._v("已完成32432%,超出232元")])]),e("div",{staticClass:"cell"},[e("div",{staticClass:"top"},[e("div",{staticClass:"circle",staticStyle:{width:"180px",height:"180px"}},[e("i-circle",{attrs:{percent:80,size:180,"stroke-color":"#f19ec2","stroke-width":10,"trail-width":10}},[e("div",{staticStyle:{"font-size":"14px"}},[t._v("客次月目标")]),e("div",{staticStyle:{"font-size":"14px"}},[t._v("80%")])])],1)]),e("div",{staticClass:"bottom"},[t._v("已完成32432%,超出232元")])]),e("div",{staticClass:"cell"},[e("div",{staticClass:"top"},[e("div",{staticClass:"circle",staticStyle:{width:"180px",height:"180px"}},[e("i-circle",{attrs:{percent:80,size:180,"stroke-color":"#f19ec2","stroke-width":10,"trail-width":10}},[e("div",{staticStyle:{"font-size":"14px"}},[t._v("客数月目标")]),e("div",{staticStyle:{"font-size":"14px"}},[t._v("80%")])])],1)]),e("div",{staticClass:"bottom"},[t._v("已完成32432%,超出232元")])])])])},zd=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("div",{staticClass:"l"},[t._v("月目标进度")]),e("div",{staticClass:"r"})])}],Id={name:"MonthlyTarget"},Nd=Id,Zd=(0,u.Z)(Nd,Ld,zd,!1,null,"be4c772a",null),Hd=Zd.exports,Od=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"header"},[t._m(0),e("div",{staticClass:"right"},[e("Poptip",{attrs:{placement:"left-start",transfer:"",trigger:"hover"}},[e("div",{staticClass:"explain"},[t._v("?字段说明")]),e("div",{attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"fields-remark"},[e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("新客：")]),t._v(" 系统默认以新建档且首次消费后30天内的客户。(系统的新客定义可通过会员设置-生命周期进行自定义) ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("新客人数：")]),t._v(" 在统计时间内,新客中首次办卡的人数。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("新增新客持卡：")]),t._v(" 在统计时间内,新客中首次办卡的人数。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("新客转化率：")]),t._v(" 在统计时间内,新增持卡/新卡人数的占比 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("开卡客单价：")]),t._v(" 在统计时间内,新客办卡及充值的订单金额总和/新增持卡人数。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("新客业绩占比：")]),t._v(" 在统计时间内,新客的业绩总和/门店业绩总和的占比。 ")])])])]),e("div",{staticClass:"add-bt",on:{click:t.exportDataEvent}},[t._v("导出")])],1)]),e("div",{staticClass:"content"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),1)],1)])},Rd=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"left"},[e("div",{staticClass:"h-cel title"},[t._v("新客到店分析")])])}],Ed={name:"NewVipList",components:{},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"门店",key:"0"},{title:"新客人数",key:"1"},{title:"新赠新客持卡",key:"2"},{title:"新客转卡率",key:"3"},{title:"开卡客单价",key:"4"},{title:"新客业绩占比",key:"5"}]}},methods:{exportDataEvent(){setTimeout((()=>{const t=[];this.$refs.xTable.exportData({filename:"",type:"csv",isHeader:!0,isFooter:!0,data:t})}),100)}}},Vd=Ed,Fd=(0,u.Z)(Vd,Od,Rd,!1,null,"62347acc",null),Gd=Fd.exports,Wd=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"header"},[t._m(0),e("div",{staticClass:"right"},[e("Poptip",{attrs:{placement:"left-start",transfer:"",trigger:"hover"}},[e("div",{staticClass:"explain"},[t._v("?字段说明")]),e("div",{attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"fields-remark"},[e("p",{staticClass:"text"},[t._v(" 在统计时间内,爆品在系统中通过开单完成交易的数量。每个门店显示销量前十(在统计时间内,如有订单退款的,不计算统计) ")])])])]),e("div",{staticClass:"add-bt",on:{click:t.exportDataEvent}},[t._v("导出")])],1)]),e("div",{staticClass:"content"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),1)],1)])},$d=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"left"},[e("div",{staticClass:"h-cel title"},[t._v("新客到店分析")])])}],Bd={name:"OldVipList",components:{},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"门店",key:"0"},{title:"老客到店人次",key:"1"},{title:"老客到店人数",key:"2"},{title:"到店率",key:"3"},{title:"客单价",key:"4"},{title:"购买力",key:"5"}]}},methods:{exportDataEvent(){setTimeout((()=>{const t=[];this.$refs.xTable.exportData({filename:"",type:"csv",isHeader:!0,isFooter:!0,data:t})}),100)}}},Ud=Bd,Xd=(0,u.Z)(Ud,Wd,$d,!1,null,"202e7314",null),Yd=Xd.exports,jd=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"header"},[t._m(0),e("div",{staticClass:"right"},[e("Poptip",{attrs:{placement:"left-start",transfer:"",trigger:"hover"}},[e("div",{staticClass:"explain"},[t._v("?字段说明")]),e("div",{attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"fields-remark"},[e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("新客：")]),t._v(" 系统默认以新建档且首次消费后30天内的客户。(系统的新客定义可通过会员设置-生命周期进行自定义) ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("老客：")]),t._v(" 除了系统生命周期定义的新客外的所有会员都足老客。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("新客业绩：")]),t._v(" 在统计时间内内,新客的业续总和。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("新客品项业绩：")]),t._v(" 在统计时间内,新客的商品和项目业续总和。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("老客业绩：")]),t._v(" 在统计时间内,老客的业绩总和。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("老客品项业绩：")]),t._v(" 在统计时间内,老客的商品和项目业续总和。 ")])])])]),e("div",{staticClass:"add-bt",on:{click:t.exportDataEvent}},[t._v("导出")])],1)]),e("div",{staticClass:"content"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),1)],1)])},qd=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"left"},[e("div",{staticClass:"h-cel title"},[t._v("完成情况分析")])])}],Kd={name:"CompletionList",components:{},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"门店",key:"0"},{title:"总业绩",key:"1"},{title:"新客业绩",key:"2"},{title:"新客品项业绩",key:"3"},{title:"老客业绩",key:"4"},{title:"老客品项业绩",key:"5"}]}},methods:{exportDataEvent(){setTimeout((()=>{const t=[];this.$refs.xTable.exportData({filename:"",type:"csv",isHeader:!0,isFooter:!0,data:t})}),100)}}},Jd=Kd,Qd=(0,u.Z)(Jd,jd,qd,!1,null,"bdcd5342",null),tu=Qd.exports,eu=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"header"},[t._m(0),e("div",{staticClass:"right"},[e("Poptip",{attrs:{placement:"left-start",transfer:"",trigger:"hover"}},[e("div",{staticClass:"explain"},[t._v("?字段说明")]),e("div",{attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"fields-remark"},[e("p",{staticClass:"text"},[t._v(" 在统计时间内,爆品在系统中通过开单完成交易的数量。每个门店显示销量前十(在统计时间内,如有订单退款的,不计算统计) ")])])])]),e("div",{staticClass:"add-bt",on:{click:t.exportDataEvent}},[t._v("导出")])],1)]),e("div",{staticClass:"content"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),1)],1)])},au=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"left"},[e("div",{staticClass:"h-cel title"},[t._v("爆品销售数量统计")])])}],iu={name:"HotSalesStatisticsList",components:{},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"门店",key:"0"},{title:"商品名",key:"1"},{title:"销量",key:"2"}]}},methods:{exportDataEvent(){setTimeout((()=>{const t=[];this.$refs.xTable.exportData({filename:"",type:"csv",isHeader:!0,isFooter:!0,data:t})}),100)}}},su=iu,nu=(0,u.Z)(su,eu,au,!1,null,"ec2d1bca",null),ru=nu.exports,ou=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"header"},[e("div",{staticClass:"left"},[e("div",{staticClass:"h-cel title"},[t._v("月客流量到店情况分析")]),e("div",{staticClass:"h-cel title"},[e("RadioGroup",{attrs:{size:"small",type:"button"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.typeList,(function(t,a){return e("Radio",{key:a,attrs:{label:t.label}})})),1)],1)]),e("div",{staticClass:"right"},[e("Poptip",{attrs:{placement:"left-start",transfer:"",trigger:"hover"}},[e("div",{staticClass:"explain"},[t._v("?字段说明")]),e("div",{attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"fields-remark"},[e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("预约人数:")]),t._v(" 在统计时间内,门店已确认到店的预约人数。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("到店消费人次:")]),t._v(" 在统计时间内,门店到店消费的人次,如果一个会员一天多次到店消费去重按1统计。 ")])])])]),e("div",{staticClass:"add-bt"},[t._v("导出")])],1)]),e("div",{ref:"content",staticClass:"content"},[e("table",{staticClass:"table"},[e("tbody",[e("tr",{staticClass:"title"},[e("th",[t._v("门店")]),t._l(t.dateList,(function(a,i){return e("th",{key:i},[t._v(" "+t._s(a.days)+" "),e("div",[t._v("周 "+t._s(a.week))])])}))],2),t._l(t.shopList,(function(a,i){return e("tr",{key:i,staticClass:"staff-arrange"},[e("td",[t._v(" "+t._s(a.name)+" ")]),t._l(a.list,(function(a,i){return e("td",{key:i},[t._v(" "+t._s(a.value)+" ")])}))],2)}))],2)])])])},lu=[],cu={name:"MonthlyTrafficList",components:{},data:function(){return{list:[],dateList:[],dateCount:0,type:"1",typeList:[{label:"预约人数",value:"1"},{label:"到店消费人次",value:"2"}],shopList:[{name:"惠城总店",list:[]},{name:"武汉总店",list:[]}],y:"",m:"",searchData:{search:"",start:"",end:"",month:""}}},created(){let t=new Date;this.y=t.getFullYear(),this.m=t.getMonth(),this.searchData.month=this.y+"-"+this.m,this.getMonthDate()},methods:{getMonthDate(){this.getMonthList(this.y,this.m);let t=this.dateList.length;this.shopList.forEach((e=>{if(0===e.list.length)for(let a=1;a<=t;a++)e.list.push({work_day:a,value:""})}))},mGetDate(t,e){let a=new Date(t,e),i=a.getFullYear(),s=a.getMonth(),n=new Date(i,s,0);return n.getDate()},getWeek(t,e){let a=e.split("-");return t=new Date(a[0],parseInt(a[1]-1),a[2]),"日一二三四五六".charAt(t.getDay())},getMonthList(t,e){let a=new Date,i=0,s=Number(e+1)<10?"0"+Number(e+1):""+Number(e+1);i=this.mGetDate(t,s);let n=[];for(let r=1;r<=i;r++){let e=r<10?"0"+r:""+r,i={year:t,month:s,days:e,week:this.getWeek(a,t+"-"+s+"-"+e)};n.push(i)}this.dateList=n},setHeight(){let t=window.innerHeight-296;this.$refs.content.style.minHeight=t+"px"}}},hu=cu,du=(0,u.Z)(hu,ou,lu,!1,null,"2dafa8b1",null),uu=du.exports,pu={name:"DataOverview",components:{SelectShop:c.Z,MonthlyTrafficList:uu,HotSalesStatisticsList:ru,CompletionList:tu,OldVipList:Yd,NewVipList:Gd,MonthlyTarget:Hd,ChannelData:Ad,Achievements:kd},data:function(){return{dateList:[{label:"今天",value:"1"},{label:"昨天",value:"2"},{label:"上周",value:"3"},{label:"上月",value:"4"}],date:"",searchData:{sid:"",search:"",start:"",end:""}}},activated(){},created(){},methods:{clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()}}},vu=pu,gu=(0,u.Z)(vu,yd,md,!1,null,"5b940d7f",null),fu=gu.exports,yu=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("时间")]),e("Select",{staticStyle:{width:"80px"},attrs:{clearable:"",filterable:"",transfer:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[e("div",{attrs:{slot:"empty"},slot:"empty"},[t._v("未找到数据")]),t._l(t.dateList,(function(a){return e("Option",{key:a.value,attrs:{value:a.value}},[t._v(" "+t._s(a.label)+" ")])}))],2)],1),e("div",{staticClass:"box"},[e("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1)]),e("div",{staticClass:"right"})]),e("div",{staticClass:"row"},[e("ChannelDataComparison")],1),e("div",{staticClass:"row"},[e("div",{staticClass:"box1"},[e("ChannelNewGuestRatio")],1),e("div",{staticClass:"box2"},[e("div",{staticClass:"header"},[e("div",{staticClass:"l"},[t._v("渠道数据报表")]),e("div",{staticClass:"r"},[e("Poptip",{attrs:{placement:"left-start",transfer:"",trigger:"hover"}},[e("div",{staticClass:"explain"},[t._v("?字段说明")]),e("div",{attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"fields-remark"},[e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("提示:")]),t._v(" 当前模块的各类数据根据时间以及门店筛选计算展示。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("渠道名称:")]),t._v(" 会员来源渠道名称,可在会员设置-会员来源渠道设置进行编辑或新增设置。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("总业绩:")]),t._v(" 当前会员渠道的业绩总和。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("老客业绩:")]),t._v(" 当前会员渠道的老客业绩。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("新客业绩:")]),t._v(" 当前会员渠道的新客业绩。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("新客数量:")]),t._v(" 当前会员渠道新客的数量。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("Top20%会员数:")]),t._v(" 截止到筛选时间截点,门店所有渠道累计消费前20%的会员在当前会员渠道的人数。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("新客转卡率:")]),t._v(" 当前会员渠道新增持卡会员/新客人数的占比。 ")]),e("p",{staticClass:"text"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("套餐次卡业绩:")]),t._v(" 当前会员渠道客户使用现金类支付方式在门店购买套餐次卡、充卡以及卡换等产生的业绩。 ")])])])]),e("div",{staticClass:"add-bt",on:{click:t.exportDataEvent}},[t._v("导出")]),e("Toolbar",{attrs:{"table-columns":t.tableColumns,"total-columns":t.totalColumns},on:{"on-change":t.changeColumns}})],1)]),e("div",{staticClass:"list"},[e("vxe-table",{ref:"xTable",attrs:{"column-config":{resizable:!0},data:t.tableData,height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(t,a){return e("vxe-column",{key:a+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,title:t.title}})})),1),e("div",{staticClass:"page"},[e("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1)])])])},mu=[],xu=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ChannelDataComparison"},[e("div",{staticClass:"header"},[e("div",{staticClass:"l"},[t._v("渠道数据对比")]),e("div",{staticClass:"r"},[e("RadioGroup",{attrs:{size:"small",type:"button"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.typeList,(function(t,a){return e("Radio",{key:a,attrs:{label:t.label}})})),1)],1)]),e("div",{staticClass:"content"},[e("v-chart",{ref:"chart",staticClass:"e-chart",attrs:{"auto-resize":!0,option:t.chart.option}})],1)])},bu=[];(0,x.D)([Oa.N,Ea.N,un.N,Br.N,Ha.N]);var Cu={name:"ChannelDataComparison",components:{VChart:pn.ZP},data:function(){return{type:"1",typeList:[{label:"业绩",value:"1"},{label:"新客转卡率",value:"2"}],chart:{option:{backgroundColor:"#FFFFFFFF",tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:"14%",left:"3%",right:"4%",bottom:"12%",containLabel:!0},xAxis:[{axisLine:{show:!0},axisTick:{show:!0,alignWithLabel:!0},type:"category",data:["未设置","美团","第一妇幼","儿童摄影","抖音"]}],yAxis:[{axisLabel:{show:!0},axisLine:{show:!1},type:"value",splitLine:{show:!0}}],series:[{name:"数量",type:"bar",barWidth:"17",itemStyle:{color:"#00b0f0"},label:{show:!0,position:"top",color:"#333",fontSize:"12px",formatter:t=>t.value[t.encode.x[0]]},data:[{value:1002},{value:2220},{value:4020},{value:160},{value:2220}]}]}}}},activated(){},created(){},mounted(){this.$nextTick((()=>{this.$refs.chart.resize()}))},methods:{}},_u=Cu,wu=(0,u.Z)(_u,xu,bu,!1,null,"1892291b",null),ku=wu.exports,Du=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ChannelNewGuestRatio"},[t._m(0),e("div",{staticClass:"content"},[e("v-chart",{ref:"chart",staticClass:"e-chart",attrs:{"auto-resize":!0,option:t.chart.option}})],1)])},Su=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("div",{staticClass:"l"},[t._v("渠道新客占比")]),e("div",{staticClass:"r"})])}],Mu=a(31613),Pu=2*Math.PI,Tu=Math.PI/180;function Au(t,e){return jh.ME(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Lu(t,e){var a=Au(t,e),i=t.get("center"),s=t.get("radius");C.kJ(s)||(s=[0,s]),C.kJ(i)||(i=[i,i]);var n=(0,V.GM)(a.width,e.getWidth()),r=(0,V.GM)(a.height,e.getHeight()),o=Math.min(n,r),l=(0,V.GM)(i[0],n)+a.x,c=(0,V.GM)(i[1],r)+a.y,h=(0,V.GM)(s[0],o/2),d=(0,V.GM)(s[1],o/2);return{cx:l,cy:c,r0:h,r:d}}function zu(t,e,a){e.eachSeriesByType(t,(function(t){var e=t.getData(),i=e.mapDimension("value"),s=Au(t,a),n=Lu(t,a),r=n.cx,o=n.cy,l=n.r,c=n.r0,h=-t.get("startAngle")*Tu,d=t.get("minAngle")*Tu,u=0;e.each(i,(function(t){!isNaN(t)&&u++}));var p=e.getSum(i),v=Math.PI/(p||u)*2,g=t.get("clockwise"),f=t.get("roseType"),y=t.get("stillShowZeroSum"),m=e.getDataExtent(i);m[0]=0;var x=Pu,b=0,C=h,_=g?1:-1;if(e.setLayout({viewRect:s,r:l}),e.each(i,(function(t,a){var i;if(isNaN(t))e.setItemLayout(a,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:g,cx:r,cy:o,r0:c,r:f?NaN:l});else{i="area"!==f?0===p&&y?v:t*v:Pu/u,i<d?(i=d,x-=d):b+=t;var s=C+_*i;e.setItemLayout(a,{angle:i,startAngle:C,endAngle:s,clockwise:g,cx:r,cy:o,r0:c,r:f?(0,V.NU)(t,m,[c,l]):l}),C=s}})),x<Pu&&u)if(x<=.001){var w=Pu/u;e.each(i,(function(t,a){if(!isNaN(t)){var i=e.getItemLayout(a);i.angle=w,i.startAngle=h+_*a*w,i.endAngle=h+_*(a+1)*w}}))}else v=x/b,C=h,e.each(i,(function(t,a){if(!isNaN(t)){var i=e.getItemLayout(a),s=i.angle===d?d:t*v;i.startAngle=C,i.endAngle=C+_*s,C+=_*s}}))}))}function Iu(t){return{seriesType:t,reset:function(t,e){var a=e.findComponents({mainType:"legend"});if(a&&a.length){var i=t.getData();i.filterSelf((function(t){for(var e=i.getName(t),s=0;s<a.length;s++)if(!a[s].isSelected(e))return!1;return!0}))}}}}var Nu=a(54099),Zu=a(97333),Hu=2*Math.PI,Ou=pi.Z.CMD,Ru=["top","right","bottom","left"];function Eu(t,e,a,i,s){var n=a.width,r=a.height;switch(t){case"top":i.set(a.x+n/2,a.y-e),s.set(0,-1);break;case"bottom":i.set(a.x+n/2,a.y+r+e),s.set(0,1);break;case"left":i.set(a.x-e,a.y+r/2),s.set(-1,0);break;case"right":i.set(a.x+n+e,a.y+r/2),s.set(1,0);break}}function Vu(t,e,a,i,s,n,r,o,l){r-=t,o-=e;var c=Math.sqrt(r*r+o*o);r/=c,o/=c;var h=r*a+t,d=o*a+e;if(Math.abs(i-s)%Hu<1e-4)return l[0]=h,l[1]=d,c-a;if(n){var u=i;i=(0,Nu.m)(s),s=(0,Nu.m)(u)}else i=(0,Nu.m)(i),s=(0,Nu.m)(s);i>s&&(s+=Hu);var p=Math.atan2(o,r);if(p<0&&(p+=Hu),p>=i&&p<=s||p+Hu>=i&&p+Hu<=s)return l[0]=h,l[1]=d,c-a;var v=a*Math.cos(i)+t,g=a*Math.sin(i)+e,f=a*Math.cos(s)+t,y=a*Math.sin(s)+e,m=(v-r)*(v-r)+(g-o)*(g-o),x=(f-r)*(f-r)+(y-o)*(y-o);return m<x?(l[0]=v,l[1]=g,Math.sqrt(m)):(l[0]=f,l[1]=y,Math.sqrt(x))}function Fu(t,e,a,i,s,n,r,o){var l=s-t,c=n-e,h=a-t,d=i-e,u=Math.sqrt(h*h+d*d);h/=u,d/=u;var p=l*h+c*d,v=p/u;o&&(v=Math.min(Math.max(v,0),1)),v*=u;var g=r[0]=t+v*h,f=r[1]=e+v*d;return Math.sqrt((g-s)*(g-s)+(f-n)*(f-n))}function Gu(t,e,a,i,s,n,r){a<0&&(t+=a,a=-a),i<0&&(e+=i,i=-i);var o=t+a,l=e+i,c=r[0]=Math.min(Math.max(s,t),o),h=r[1]=Math.min(Math.max(n,e),l);return Math.sqrt((c-s)*(c-s)+(h-n)*(h-n))}var Wu=[];function $u(t,e,a){var i=Gu(e.x,e.y,e.width,e.height,t.x,t.y,Wu);return a.set(Wu[0],Wu[1]),i}function Bu(t,e,a){for(var i,s,n=0,r=0,o=0,l=0,c=1/0,h=e.data,d=t.x,u=t.y,p=0;p<h.length;){var v=h[p++];1===p&&(n=h[p],r=h[p+1],o=n,l=r);var g=c;switch(v){case Ou.M:o=h[p++],l=h[p++],n=o,r=l;break;case Ou.L:g=Fu(n,r,h[p],h[p+1],d,u,Wu,!0),n=h[p++],r=h[p++];break;case Ou.C:g=(0,vi.t1)(n,r,h[p++],h[p++],h[p++],h[p++],h[p],h[p+1],d,u,Wu),n=h[p++],r=h[p++];break;case Ou.Q:g=(0,vi.Wr)(n,r,h[p++],h[p++],h[p],h[p+1],d,u,Wu),n=h[p++],r=h[p++];break;case Ou.A:var f=h[p++],y=h[p++],m=h[p++],x=h[p++],b=h[p++],C=h[p++];p+=1;var _=!!(1-h[p++]);i=Math.cos(b)*m+f,s=Math.sin(b)*x+y,p<=1&&(o=i,l=s);var w=(d-f)*x/m+f;g=Vu(f,y,x,b,b+C,_,w,u,Wu),n=Math.cos(b+C)*m+f,r=Math.sin(b+C)*x+y;break;case Ou.R:o=n=h[p++],l=r=h[p++];var k=h[p++],D=h[p++];g=Gu(o,l,k,D,d,u,Wu);break;case Ou.Z:g=Fu(n,r,o,l,d,u,Wu,!0),n=o,r=l;break}g<c&&(c=g,a.set(Wu[0],Wu[1]))}return c}var Uu=new es.Z,Xu=new es.Z,Yu=new es.Z,ju=new es.Z,qu=new es.Z;function Ku(t,e){if(t){var a=t.getTextGuideLine(),i=t.getTextContent();if(i&&a){var s=t.textGuideLineConfig||{},n=[[0,0],[0,0],[0,0]],r=s.candidates||Ru,o=i.getBoundingRect().clone();o.applyTransform(i.getComputedTransform());var l=1/0,c=s.anchor,h=t.getComputedTransform(),d=h&&(0,Zu.U_)([],h),u=e.get("length2")||0;c&&Yu.copy(c);for(var p=0;p<r.length;p++){var v=r[p];Eu(v,0,o,Uu,ju),es.Z.scaleAndAdd(Xu,Uu,ju,u),Xu.transform(d);var g=t.getBoundingRect(),f=c?c.distance(Xu):t instanceof ui.ZP?Bu(Xu,t.path,Yu):$u(Xu,g,Yu);f<l&&(l=f,Xu.transform(h),Yu.transform(h),Yu.toArray(n[0]),Xu.toArray(n[1]),Uu.toArray(n[2]))}tp(n,e.get("minTurnAngle")),a.setShape({points:n})}}}var Ju=[],Qu=new es.Z;function tp(t,e){if(e<=180&&e>0){e=e/180*Math.PI,Uu.fromArray(t[0]),Xu.fromArray(t[1]),Yu.fromArray(t[2]),es.Z.sub(ju,Uu,Xu),es.Z.sub(qu,Yu,Xu);var a=ju.len(),i=qu.len();if(!(a<.001||i<.001)){ju.scale(1/a),qu.scale(1/i);var s=ju.dot(qu),n=Math.cos(e);if(n<s){var r=Fu(Xu.x,Xu.y,Yu.x,Yu.y,Uu.x,Uu.y,Ju,!1);Qu.fromArray(Ju),Qu.scaleAndAdd(qu,r/Math.tan(Math.PI-e));var o=Yu.x!==Xu.x?(Qu.x-Xu.x)/(Yu.x-Xu.x):(Qu.y-Xu.y)/(Yu.y-Xu.y);if(isNaN(o))return;o<0?es.Z.copy(Qu,Xu):o>1&&es.Z.copy(Qu,Yu),Qu.toArray(t[1])}}}}function ep(t,e,a){if(a<=180&&a>0){a=a/180*Math.PI,Uu.fromArray(t[0]),Xu.fromArray(t[1]),Yu.fromArray(t[2]),es.Z.sub(ju,Xu,Uu),es.Z.sub(qu,Yu,Xu);var i=ju.len(),s=qu.len();if(!(i<.001||s<.001)){ju.scale(1/i),qu.scale(1/s);var n=ju.dot(e),r=Math.cos(a);if(n<r){var o=Fu(Xu.x,Xu.y,Yu.x,Yu.y,Uu.x,Uu.y,Ju,!1);Qu.fromArray(Ju);var l=Math.PI/2,c=Math.acos(qu.dot(e)),h=l+c-a;if(h>=l)es.Z.copy(Qu,Yu);else{Qu.scaleAndAdd(qu,o/Math.tan(Math.PI/2-h));var d=Yu.x!==Xu.x?(Qu.x-Xu.x)/(Yu.x-Xu.x):(Qu.y-Xu.y)/(Yu.y-Xu.y);if(isNaN(d))return;d<0?es.Z.copy(Qu,Xu):d>1&&es.Z.copy(Qu,Yu)}Qu.toArray(t[1])}}}}function ap(t,e,a,i){var s="normal"===a,n=s?t:t.ensureState(a);n.ignore=e;var r=i.get("smooth");r&&!0===r&&(r=.3),n.shape=n.shape||{},r>0&&(n.shape.smooth=r);var o=i.getModel("lineStyle").getLineStyle();s?t.useStyle(o):n.style=o}function ip(t,e){var a=e.smooth,i=e.points;if(i)if(t.moveTo(i[0][0],i[0][1]),a>0&&i.length>=3){var s=Ki.TK(i[0],i[1]),n=Ki.TK(i[1],i[2]);if(!s||!n)return t.lineTo(i[1][0],i[1][1]),void t.lineTo(i[2][0],i[2][1]);var r=Math.min(s,n)*a,o=Ki.t7([],i[1],i[0],r/s),l=Ki.t7([],i[1],i[2],r/n),c=Ki.t7([],o,l,.5);t.bezierCurveTo(o[0],o[1],o[0],o[1],c[0],c[1]),t.bezierCurveTo(l[0],l[1],l[0],l[1],i[2][0],i[2][1])}else for(var h=1;h<i.length;h++)t.lineTo(i[h][0],i[h][1])}function sp(t,e,a){var i=t.getTextGuideLine(),s=t.getTextContent();if(s){for(var n=e.normal,r=n.get("show"),o=s.ignore,l=0;l<dt.qc.length;l++){var c=dt.qc[l],h=e[c],d="normal"===c;if(h){var u=h.get("show"),p=d?o:(0,C.pD)(s.states[c]&&s.states[c].ignore,o);if(p||!(0,C.pD)(u,r)){var v=d?i:i&&i.states[c];v&&(v.ignore=!0);continue}i||(i=new ie.Z,t.setTextGuideLine(i),d||!o&&r||ap(i,!0,"normal",e.normal),t.stateProxy&&(i.stateProxy=t.stateProxy)),ap(i,!1,c,h)}}if(i){(0,C.ce)(i.style,a),i.style.fill=null;var g=n.get("showAbove"),f=t.textGuideLineConfig=t.textGuideLineConfig||{};f.showAbove=g||!1,i.buildPath=ip}}else i&&t.removeTextGuideLine()}function np(t,e){e=e||"labelLine";for(var a={normal:t.getModel(e)},i=0;i<dt.L1.length;i++){var s=dt.L1[i];a[s]=t.getModel([s,e])}return a}var rp=a(57756),op=Math.PI/180;function lp(t,e,a,i,s,n,r,o,l,c){if(!(t.length<2)){for(var h=t.length,d=0;d<h;d++)if("outer"===t[d].position&&"labelLine"===t[d].labelAlignTo){var u=t[d].label.x-c;t[d].linePoints[1][0]+=u,t[d].label.x=c}(0,rp.GI)(t,l,l+r)&&v(t)}function p(t){for(var n=t.rB,r=n*n,o=0;o<t.list.length;o++){var l=t.list[o],c=Math.abs(l.label.y-a),h=i+l.len,d=h*h,u=Math.sqrt((1-Math.abs(c*c/r))*d),p=e+(u+l.len2)*s,v=p-l.label.x,g=l.targetTextWidth-v*s;hp(l,g,!0),l.label.x=p}}function v(t){for(var n={list:[],maxY:0},r={list:[],maxY:0},o=0;o<t.length;o++)if("none"===t[o].labelAlignTo){var l=t[o],c=l.label.y>a?r:n,h=Math.abs(l.label.y-a);if(h>=c.maxY){var d=l.label.x-e-l.len2*s,u=i+l.len,v=Math.abs(d)<u?Math.sqrt(h*h/(1-d*d/u/u)):u;c.rB=v,c.maxY=h}c.list.push(l)}p(n),p(r)}}function cp(t,e,a,i,s,n,r,o){for(var l=[],c=[],h=Number.MAX_VALUE,d=-Number.MAX_VALUE,u=0;u<t.length;u++){var p=t[u].label;dp(t[u])||(p.x<e?(h=Math.min(h,p.x),l.push(t[u])):(d=Math.max(d,p.x),c.push(t[u])))}for(u=0;u<t.length;u++){var v=t[u];if(!dp(v)&&v.linePoints){if(null!=v.labelStyleWidth)continue;p=v.label;var g=v.linePoints,f=void 0;f="edge"===v.labelAlignTo?p.x<e?g[2][0]-v.labelDistance-r-v.edgeDistance:r+s-v.edgeDistance-g[2][0]-v.labelDistance:"labelLine"===v.labelAlignTo?p.x<e?h-r-v.bleedMargin:r+s-d-v.bleedMargin:p.x<e?p.x-r-v.bleedMargin:r+s-p.x-v.bleedMargin,v.targetTextWidth=f,hp(v,f)}}lp(c,e,a,i,1,s,n,r,o,d),lp(l,e,a,i,-1,s,n,r,o,h);for(u=0;u<t.length;u++){v=t[u];if(!dp(v)&&v.linePoints){p=v.label,g=v.linePoints;var y="edge"===v.labelAlignTo,m=p.style.padding,x=m?m[1]+m[3]:0,b=p.style.backgroundColor?0:x,C=v.rect.width+b,_=g[1][0]-g[2][0];y?p.x<e?g[2][0]=r+v.edgeDistance+C+v.labelDistance:g[2][0]=r+s-v.edgeDistance-C-v.labelDistance:(p.x<e?g[2][0]=p.x+v.labelDistance:g[2][0]=p.x-v.labelDistance,g[1][0]=g[2][0]+_),g[1][1]=g[2][1]=p.y}}}function hp(t,e,a){if(void 0===a&&(a=!1),null==t.labelStyleWidth){var i=t.label,s=i.style,n=t.rect,r=s.backgroundColor,o=s.padding,l=o?o[1]+o[3]:0,c=s.overflow,h=n.width+(r?0:l);if(e<h||a){var d=n.height;if(c&&c.match("break")){i.setStyle("backgroundColor",null),i.setStyle("width",e-l);var u=i.getBoundingRect();i.setStyle("width",Math.ceil(u.width)),i.setStyle("backgroundColor",r)}else{var p=e-l,v=e<h?p:a?p>t.unconstrainedWidth?null:p:null;i.setStyle("width",v)}var g=i.getBoundingRect();n.width=g.width;var f=(i.style.margin||0)+2.1;n.height=g.height+f,n.y-=(n.height-d)/2}}}function dp(t){return"center"===t.position}function up(t){var e,a,i=t.getData(),s=[],n=!1,r=(t.get("minShowLabelAngle")||0)*op,o=i.getLayout("viewRect"),l=i.getLayout("r"),c=o.width,h=o.x,d=o.y,u=o.height;function p(t){t.ignore=!0}function v(t){if(!t.ignore)return!0;for(var e in t.states)if(!1===t.states[e].ignore)return!0;return!1}i.each((function(t){var o=i.getItemGraphicEl(t),d=o.shape,u=o.getTextContent(),g=o.getTextGuideLine(),f=i.getItemModel(t),y=f.getModel("label"),m=y.get("position")||f.get(["emphasis","label","position"]),x=y.get("distanceToLabelLine"),b=y.get("alignTo"),_=(0,V.GM)(y.get("edgeDistance"),c),w=y.get("bleedMargin"),k=f.getModel("labelLine"),D=k.get("length");D=(0,V.GM)(D,c);var S=k.get("length2");if(S=(0,V.GM)(S,c),Math.abs(d.endAngle-d.startAngle)<r)return(0,C.S6)(u.states,p),void(u.ignore=!0);if(v(u)){var M,P,T,A,L=(d.startAngle+d.endAngle)/2,z=Math.cos(L),I=Math.sin(L);e=d.cx,a=d.cy;var N="inside"===m||"inner"===m;if("center"===m)M=d.cx,P=d.cy,A="center";else{var Z=(N?(d.r+d.r0)/2*z:d.r*z)+e,H=(N?(d.r+d.r0)/2*I:d.r*I)+a;if(M=Z+3*z,P=H+3*I,!N){var O=Z+z*(D+l-d.r),R=H+I*(D+l-d.r),E=O+(z<0?-1:1)*S,F=R;M="edge"===b?z<0?h+_:h+c-_:E+(z<0?-x:x),P=F,T=[[Z,H],[O,R],[E,F]]}A=N?"center":"edge"===b?z>0?"right":"left":z>0?"left":"right"}var G=Math.PI,W=0,$=y.get("rotate");if((0,C.hj)($))W=$*(G/180);else if("center"===m)W=0;else if("radial"===$||!0===$){var B=z<0?-L+G:-L;W=B}else if("tangential"===$&&"outside"!==m&&"outer"!==m){var U=Math.atan2(z,I);U<0&&(U=2*G+U);var X=I>0;X&&(U=G+U),W=U-G}if(n=!!W,u.x=M,u.y=P,u.rotation=W,u.setStyle({verticalAlign:"middle"}),N){u.setStyle({align:A});var Y=u.states.select;Y&&(Y.x+=u.x,Y.y+=u.y)}else{var j=u.getBoundingRect().clone();j.applyTransform(u.getComputedTransform());var q=(u.style.margin||0)+2.1;j.y-=q/2,j.height+=q,s.push({label:u,labelLine:g,position:m,len:D,len2:S,minTurnAngle:k.get("minTurnAngle"),maxSurfaceAngle:k.get("maxSurfaceAngle"),surfaceNormal:new es.Z(z,I),linePoints:T,textAlign:A,labelDistance:x,labelAlignTo:b,edgeDistance:_,bleedMargin:w,rect:j,unconstrainedWidth:j.width,labelStyleWidth:u.style.width})}o.setTextConfig({inside:N})}})),!n&&t.get("avoidLabelOverlap")&&cp(s,e,a,l,c,u,h,d);for(var g=0;g<s.length;g++){var f=s[g],y=f.label,m=f.labelLine,x=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:f.textAlign}),x&&((0,C.S6)(y.states,p),y.ignore=!0);var b=y.states.select;b&&(b.x+=y.x,b.y+=y.y)}if(m){var _=f.linePoints;x||!_?((0,C.S6)(m.states,p),m.ignore=!0):(tp(_,f.minTurnAngle),ep(_,f.surfaceNormal,f.maxSurfaceAngle),m.setShape({points:_}),y.__hostTarget.textGuideLineConfig={anchor:new es.Z(_[0][0],_[0][1])})}}}function pp(t,e,a){var i=t.get("borderRadius");if(null==i)return a?{cornerRadius:0}:null;(0,C.kJ)(i)||(i=[i,i,i,i]);var s=Math.abs(e.r||0-e.r0||0);return{cornerRadius:(0,C.UI)(i,(function(t){return(0,ct.GM)(t,s)}))}}var vp=function(t){function e(e,a,i){var s=t.call(this)||this;s.z2=2;var n=new ft.ZP;return s.setTextContent(n),s.updateData(e,a,i,!0),s}return(0,b.ZT)(e,t),e.prototype.updateData=function(t,e,a,i){var s=this,n=t.hostModel,r=t.getItemModel(e),o=r.getModel("emphasis"),l=t.getItemLayout(e),c=(0,C.l7)(pp(r.getModel("itemStyle"),l,!0),l);if(isNaN(c.startAngle))s.setShape(c);else{if(i){s.setShape(c);var h=n.getShallow("animationType");n.ecModel.ssr?(Ba.KZ(s,{scaleX:0,scaleY:0},n,{dataIndex:e,isFrom:!0}),s.originX=c.cx,s.originY=c.cy):"scale"===h?(s.shape.r=l.r0,Ba.KZ(s,{shape:{r:l.r}},n,e)):null!=a?(s.setShape({startAngle:a,endAngle:a}),Ba.KZ(s,{shape:{startAngle:l.startAngle,endAngle:l.endAngle}},n,e)):(s.shape.endAngle=l.startAngle,Ba.D(s,{shape:{endAngle:l.endAngle}},n,e))}else(0,Ba.Zi)(s),Ba.D(s,{shape:c},n,e);s.useStyle(t.getItemVisual(e,"style")),(0,dt.WO)(s,r);var d=(l.startAngle+l.endAngle)/2,u=n.get("selectedOffset"),p=Math.cos(d)*u,v=Math.sin(d)*u,g=r.getShallow("cursor");g&&s.attr("cursor",g),this._updateLabel(n,t,e),s.ensureState("emphasis").shape=(0,C.l7)({r:l.r+(o.get("scale")&&o.get("scaleSize")||0)},pp(o.getModel("itemStyle"),l)),(0,C.l7)(s.ensureState("select"),{x:p,y:v,shape:pp(r.getModel(["select","itemStyle"]),l)}),(0,C.l7)(s.ensureState("blur"),{shape:pp(r.getModel(["blur","itemStyle"]),l)});var f=s.getTextGuideLine(),y=s.getTextContent();f&&(0,C.l7)(f.ensureState("select"),{x:p,y:v}),(0,C.l7)(y.ensureState("select"),{x:p,y:v}),(0,dt.k5)(this,o.get("focus"),o.get("blurScope"),o.get("disabled"))}},e.prototype._updateLabel=function(t,e,a){var i=this,s=e.getItemModel(a),n=s.getModel("labelLine"),r=e.getItemVisual(a,"style"),o=r&&r.fill,l=r&&r.opacity;(0,Ya.ni)(i,(0,Ya.k3)(s),{labelFetcher:e.hostModel,labelDataIndex:a,inheritColor:o,defaultOpacity:l,defaultText:t.getFormattedLabel(a,"normal")||e.getName(a)});var c=i.getTextContent();i.setTextConfig({position:null,rotation:null}),c.attr({z2:10});var h=t.get(["label","position"]);if("outside"!==h&&"outer"!==h)i.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new ie.Z,this.setTextGuideLine(d)),sp(this,np(s),{stroke:o,opacity:(0,C.R1)(n.get(["lineStyle","opacity"]),l,1)})}},e}(as.C),gp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return(0,b.ZT)(e,t),e.prototype.render=function(t,e,a,i){var s,n=t.getData(),r=this._data,o=this.group;if(!r&&n.count()>0){for(var l=n.getItemLayout(0),c=1;isNaN(l&&l.startAngle)&&c<n.count();++c)l=n.getItemLayout(c);l&&(s=l.startAngle)}if(this._emptyCircleSector&&o.remove(this._emptyCircleSector),0===n.count()&&t.get("showEmptyCircle")){var h=new as.C({shape:Lu(t,a)});h.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=h,o.add(h)}n.diff(r).add((function(t){var e=new vp(n,t,s);n.setItemGraphicEl(t,e),o.add(e)})).update((function(t,e){var a=r.getItemGraphicEl(e);a.updateData(n,t,s),a.off("click"),o.add(a),n.setItemGraphicEl(t,a)})).remove((function(e){var a=r.getItemGraphicEl(e);Ba.XD(a,t,e)})).execute(),up(t),"expansion"!==t.get("animationTypeUpdate")&&(this._data=n)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,e){var a=e.getData(),i=a.getItemLayout(0);if(i){var s=t[0]-i.cx,n=t[1]-i.cy,r=Math.sqrt(s*s+n*n);return r<=i.r&&r>=i.r0}},e.type="pie",e}(wi.Z),fp=gp,yp=a(44048),mp=a(16438);function xp(t,e,a){e=(0,C.kJ)(e)&&{coordDimensions:e}||(0,C.l7)({encodeDefine:t.getEncode()},e);var i=t.getSource(),s=(0,yp.Z)(i,e).dimensions,n=new mp.Z(s,t);return n.initData(i,a),n}var bp=a(2240),Cp=function(){function t(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return t.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},t.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0},t.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)},t.prototype.getItemVisual=function(t,e){var a=this._getDataWithEncodedVisual();return a.getItemVisual(t,e)},t}(),_p=Cp,wp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,b.ZT)(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new _p(C.ak(this.getData,this),C.ak(this.getRawData,this)),this._defaultLabelLine(e)},e.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return xp(this,{coordDimensions:["value"],encodeDefaulter:C.WA(bp.Ss,this)})},e.prototype.getDataParams=function(e){var a=this.getData(),i=t.prototype.getDataParams.call(this,e),s=[];return a.each(a.mapDimension("value"),(function(t){s.push(t)})),i.percent=(0,V.eJ)(s,e,a.hostModel.get("percentPrecision")),i.$vars.push("percent"),i},e.prototype._defaultLabelLine=function(t){P.Cc(t,"labelLine",["show"]);var e=t.labelLine,a=t.emphasis.labelLine;e.show=e.show&&t.label.show,a.show=a.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(Fa.Z),kp=wp;function Dp(t){return{seriesType:t,reset:function(t,e){var a=t.getData();a.filterSelf((function(t){var e=a.mapDimension("value"),i=a.get(e,t);return!((0,C.hj)(i)&&!isNaN(i)&&i<0)}))}}}function Sp(t){t.registerChartView(fp),t.registerSeriesModel(kp),(0,Mu.y)("pie",t.registerAction),t.registerLayout((0,C.WA)(zu,"pie")),t.registerProcessor(Iu("pie")),t.registerProcessor(Dp("pie"))}function Mp(t){if(t){for(var e=[],a=0;a<t.length;a++)e.push(t[a].slice());return e}}function Pp(t,e){var a=t.label,i=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:a.style.align,verticalAlign:a.style.verticalAlign,labelLinePoints:Mp(i&&i.shape.points)}}var Tp=["align","verticalAlign","width","height","fontSize"],Ap=new Qi.ZP,Lp=(0,P.Yf)(),zp=(0,P.Yf)();function Ip(t,e,a){for(var i=0;i<a.length;i++){var s=a[i];null!=e[s]&&(t[s]=e[s])}}var Np=["x","y","rotation"],Zp=function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(t,e,a,i,s){var n=i.style,r=i.__hostTarget,o=r.textConfig||{},l=i.getComputedTransform(),c=i.getBoundingRect().plain();na.Z.applyTransform(c,c,l),l?Ap.setLocalTransform(l):(Ap.x=Ap.y=Ap.rotation=Ap.originX=Ap.originY=0,Ap.scaleX=Ap.scaleY=1);var h,d=i.__hostTarget;if(d){h=d.getBoundingRect().plain();var u=d.getComputedTransform();na.Z.applyTransform(h,h,u)}var p=h&&d.getTextGuideLine();this._labelList.push({label:i,labelLine:p,seriesModel:a,dataIndex:t,dataType:e,layoutOption:s,computedLayoutOption:null,rect:c,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:p&&p.ignore,x:Ap.x,y:Ap.y,scaleX:Ap.scaleX,scaleY:Ap.scaleY,rotation:Ap.rotation,style:{x:n.x,y:n.y,align:n.align,verticalAlign:n.verticalAlign,width:n.width,height:n.height,fontSize:n.fontSize},cursor:i.cursor,attachedPos:o.position,attachedRot:o.rotation}})},t.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var a=t.__model,i=a.get("labelLayout");((0,C.mf)(i)||(0,C.XP)(i).length)&&t.group.traverse((function(t){if(t.ignore)return!0;var s=t.getTextContent(),n=(0,Ua.A)(t);s&&!s.disableLabelLayout&&e._addLabel(n.dataIndex,n.dataType,a,s,i)}))},t.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),a=t.getHeight();function i(t,e){return function(){Ku(t,e)}}for(var s=0;s<this._labelList.length;s++){var n=this._labelList[s],r=n.label,o=r.__hostTarget,l=n.defaultAttr,c=void 0;c=(0,C.mf)(n.layoutOption)?n.layoutOption(Pp(n,o)):n.layoutOption,c=c||{},n.computedLayoutOption=c;var h=Math.PI/180;o&&o.setTextConfig({local:!1,position:null!=c.x||null!=c.y?null:l.attachedPos,rotation:null!=c.rotate?c.rotate*h:l.attachedRot,offset:[c.dx||0,c.dy||0]});var d=!1;if(null!=c.x?(r.x=(0,V.GM)(c.x,e),r.setStyle("x",0),d=!0):(r.x=l.x,r.setStyle("x",l.style.x)),null!=c.y?(r.y=(0,V.GM)(c.y,a),r.setStyle("y",0),d=!0):(r.y=l.y,r.setStyle("y",l.style.y)),c.labelLinePoints){var u=o.getTextGuideLine();u&&(u.setShape({points:c.labelLinePoints}),d=!1)}var p=Lp(r);p.needsUpdateLabelLine=d,r.rotation=null!=c.rotate?c.rotate*h:l.rotation,r.scaleX=l.scaleX,r.scaleY=l.scaleY;for(var v=0;v<Tp.length;v++){var g=Tp[v];r.setStyle(g,null!=c[g]?c[g]:l.style[g])}if(c.draggable){if(r.draggable=!0,r.cursor="move",o){var f=n.seriesModel;if(null!=n.dataIndex){var y=n.seriesModel.getData(n.dataType);f=y.getItemModel(n.dataIndex)}r.on("drag",i(o,f.getModel("labelLine")))}}else r.off("drag"),r.cursor=l.cursor}},t.prototype.layout=function(t){var e=t.getWidth(),a=t.getHeight(),i=(0,rp.VT)(this._labelList),s=(0,C.hX)(i,(function(t){return"shiftX"===t.layoutOption.moveOverlap})),n=(0,C.hX)(i,(function(t){return"shiftY"===t.layoutOption.moveOverlap}));(0,rp.WE)(s,0,e),(0,rp.GI)(n,0,a);var r=(0,C.hX)(i,(function(t){return t.layoutOption.hideOverlap}));(0,rp.yl)(r)},t.prototype.processLabelsOverall=function(){var t=this;(0,C.S6)(this._chartViewList,(function(e){var a=e.__model,i=e.ignoreLabelLineUpdate,s=a.isAnimationEnabled();e.group.traverse((function(e){if(e.ignore&&!e.forceLabelAnimation)return!0;var n=!i,r=e.getTextContent();!n&&r&&(n=Lp(r).needsUpdateLabelLine),n&&t._updateLabelLine(e,a),s&&t._animateLabels(e,a)}))}))},t.prototype._updateLabelLine=function(t,e){var a=t.getTextContent(),i=(0,Ua.A)(t),s=i.dataIndex;if(a&&null!=s){var n=e.getData(i.dataType),r=n.getItemModel(s),o={},l=n.getItemVisual(s,"style"),c=n.getVisual("drawType");o.stroke=l[c];var h=r.getModel("labelLine");sp(t,np(r),o),Ku(t,h)}},t.prototype._animateLabels=function(t,e){var a=t.getTextContent(),i=t.getTextGuideLine();if(a&&(t.forceLabelAnimation||!a.ignore&&!a.invisible&&!t.disableLabelAnimation&&!(0,Ba.eq)(t))){var s=Lp(a),n=s.oldLayout,r=(0,Ua.A)(t),o=r.dataIndex,l={x:a.x,y:a.y,rotation:a.rotation},c=e.getData(r.dataType);if(n){a.attr(n);var h=t.prevStates;h&&((0,C.cq)(h,"select")>=0&&a.attr(s.oldLayoutSelect),(0,C.cq)(h,"emphasis")>=0&&a.attr(s.oldLayoutEmphasis)),(0,Ba.D)(a,l,e,o)}else if(a.attr(l),!(0,Ya.qA)(a).valueAnimation){var d=(0,C.pD)(a.style.opacity,1);a.style.opacity=0,(0,Ba.KZ)(a,{style:{opacity:d}},e,o)}if(s.oldLayout=l,a.states.select){var u=s.oldLayoutSelect={};Ip(u,l,Np),Ip(u,a.states.select,Np)}if(a.states.emphasis){var p=s.oldLayoutEmphasis={};Ip(p,l,Np),Ip(p,a.states.emphasis,Np)}(0,Ya.tD)(a,o,c,e,e)}if(i&&!i.ignore&&!i.invisible){s=zp(i),n=s.oldLayout;var v={points:i.shape.points};n?(i.attr({shape:n}),(0,Ba.D)(i,{shape:v},e)):(i.setShape(v),i.style.strokePercent=0,(0,Ba.KZ)(i,{style:{strokePercent:1}},e)),s.oldLayout=v}},t}(),Hp=Zp,Op=(0,P.Yf)();function Rp(t){t.registerUpdateLifecycle("series:beforeupdate",(function(t,e,a){var i=Op(e).labelManager;i||(i=Op(e).labelManager=new Hp),i.clearLabels()})),t.registerUpdateLifecycle("series:layoutlabels",(function(t,e,a){var i=Op(e).labelManager;a.updatedSeries.forEach((function(t){i.addLabelsOfSeries(e.getViewOfSeriesModel(t))})),i.updateLayoutConfig(e),i.layout(e),i.processLabelsOverall()}))}(0,x.D)([Jh,Ha.N,Ra.N,Sp,un.N,Rp]);var Ep={name:"ChannelNewGuestRatio",components:{VChart:pn.ZP},data:function(){return{type:"1",typeList:[{label:"业绩",value:"1"},{label:"新客转卡率",value:"2"}],chart:{option:{tooltip:{trigger:"item"},series:[{type:"pie",radius:"50%",data:[{value:1048,name:"未设置"},{value:735,name:"美团"},{value:580,name:"第一妇幼"},{value:484,name:"儿童摄影"},{value:300,name:"抖音"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}}},activated(){},created(){},mounted(){this.$nextTick((()=>{this.$refs.chart.resize()}))},methods:{}},Vp=Ep,Fp=(0,u.Z)(Vp,Du,Su,!1,null,"a48d27b8",null),Gp=Fp.exports,Wp={name:"DataOverview",components:{Toolbar:Gn.Z,SelectShop:c.Z,ChannelDataComparison:ku,ChannelNewGuestRatio:Gp},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"总业绩",key:"1",width:120},{title:"老客业绩",key:"2",width:120},{title:"新客业绩",key:"3",width:120},{title:"渠道到店总数",key:"4",width:120},{title:"新客数量",key:"5",width:120},{title:"老客数量",key:"6",width:120},{title:"新客转卡率",key:"7",width:120},{title:"top20%会员数",key:"8",width:120}],totalColumns:[{title:"总业绩",key:"1"},{title:"老客业绩",key:"2"},{title:"新客业绩",key:"3"},{title:"渠道到店总数",key:"4"},{title:"新客数量",key:"5"},{title:"老客数量",key:"6"},{title:"新客转卡率",key:"7"},{title:"top20%会员数",key:"8"},{title:"储值卡业绩",key:"9"},{title:"优惠券业绩",key:"10"},{title:"项目业绩",key:"11"},{title:"商品业绩",key:"12"},{title:"爆品业绩",key:"13"}],dateList:[{label:"今天",value:"1"},{label:"昨天",value:"2"},{label:"上周",value:"3"},{label:"上月",value:"4"}],date:"",searchData:{sid:"",search:"",start:"",end:""},columns:[{title:"渠道名称",key:"time"},{title:"总业绩",key:"suname"},{title:"老客业绩",key:"name"},{title:"新客业绩",key:"info"},{title:"渠道到店总数",key:"info"},{title:"新客数量",key:"info"},{title:"老客数量",key:"info"},{title:"新客转卡率",key:"info"},{title:"top20会员数",key:"info"},{title:"套餐次卡业绩",key:"info"},{title:"优惠券业绩",key:"info"}],list:[{info:1}]}},activated(){},created(){},mounted(){this.setHeight(),window.onresize=()=>{this.setHeight()}},methods:{setHeight(){this.tableHeight=window.innerHeight-212-406},changeColumns(t){this.tableColumns=t},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()},exportDataEvent(){setTimeout((()=>{const t=[];this.$refs.xTable.exportData({filename:"",type:"csv",isHeader:!0,isFooter:!0,data:t})}),100)}}},$p=Wp,Bp=(0,u.Z)($p,yu,mu,!1,null,"2668e224",null),Up=Bp.exports,Xp={name:"BusinessData",components:{DataOverview:fu,FinancialAnalysis:On,ContrastiveAnalysis:ar,ItemCardAnalysis:sl,VipAnalysis:Tc,BusinessAnalysis:fd,ChannelAnalysis:Up},data:function(){return{tab_index:"数据总览",tab_list:[{name:"数据总览",id:1},{name:"经营分析",id:2},{name:"渠道分析",id:3},{name:"会员分析",id:4},{name:"品项/卡分析",id:5},{name:"对比分析",id:6},{name:"财务分析",id:7}]}},computed:{current(){return(t,e)=>e===t.name&&this.tab_index===e}},methods:{handleTabClick(t){this.tab_index=t}}},Yp=Xp,jp=(0,u.Z)(Yp,i,s,!1,null,"470196e0",null),qp=jp.exports}}]);
//# sourceMappingURL=448.c9305487.js.map