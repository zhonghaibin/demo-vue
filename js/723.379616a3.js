"use strict";(self["webpackChunkmm_web"]=self["webpackChunkmm_web"]||[]).push([[723],{83368:function(t,e,r){r.d(e,{Z:function(){return c}});var a=function(){var t=this,e=t._self._c;return e("content",[e("Select",{style:{width:t.width+"px"},attrs:{clearable:"",filterable:"",loading:t.loading,transfer:""},on:{"on-clear":t.clearValue,"on-select":t.selectValue},model:{value:t.valueData,callback:function(e){t.valueData=e},expression:"valueData"}},[e("div",{attrs:{slot:"empty"},slot:"empty"},[t._v("未找到数据")]),t._l(t.list,(function(r,a){return e("Option",{key:a,attrs:{value:r.id}},[t._v(" "+t._s(r.name)+" ")])}))],2)],1)},n=[],i=r(48803),s={props:{value:{type:[String,Number,Array],default:""},search:{type:Object,default:()=>({p:1,page:1e3,search:""})},width:{type:Number,default:200}},data:function(){return{loading:!1,list:[],valueData:"",searchData:{}}},watch:{},created(){this.valueData=this.value,this.getList()},methods:{selectValue(t){this.$emit("input",t.value),this.$emit("on-select",t.value)},clearValue(){this.$emit("input",""),this.$emit("on-select","")},async getList(){this.loading=!0;const{data:t}=await(0,i.IU)(this.searchData);this.loading=!1,this.list=t.list}}},u=s,o=r(1001),l=(0,o.Z)(u,a,n,!1,null,"91b31ca6",null),c=l.exports},13787:function(t,e,r){r.d(e,{Z:function(){return c}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"UploadImage"},[t._l(t.uploadList,(function(r,a){return e("div",{key:a,staticClass:"upload-list"},["finished"===r.status?[e("img",{attrs:{src:r.url}}),e("div",{staticClass:"upload-list-cover"},[e("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(e){return t.handleView(r)}}}),e("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){return t.handleRemove(r)}}})],1)]:[r.showProgress?e("Progress",{attrs:{"hide-info":"",percent:r.percentage}}):t._e()]],2)})),e("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{action:t.url,"before-upload":t.handleBeforeUpload,"default-file-list":t.defaultList,format:["jpg","jpeg","png"],headers:{token:t.token},"max-size":20480,name:"img","on-exceeded-size":t.handleMaxSize,"on-format-error":t.handleFormatError,"on-success":t.handleSuccess,"show-upload-list":!1,type:"drag"}},[e("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[e("Icon",{attrs:{size:"20",type:"ios-camera"}})],1)]),e("Modal",{attrs:{title:"查看图片"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[t.visible?e("img",{staticStyle:{width:"100%"},attrs:{src:t.file}}):t._e()])],2)},n=[],i=r(63822),s={name:"UploadImage",props:{defaultList:{type:Array,default:()=>[]}},data:function(){return{imgName:"",visible:!1,uploadList:[],file:"",url:"https://api.lyfz.net/Newuser/main/img_upload"}},computed:{...(0,i.Se)({token:"user/token"})},created(){},mounted(){this.uploadList=this.$refs.upload.fileList},methods:{handleView(t){this.file=t.url,this.imgName=t.name,this.visible=!0},handleRemove(t){const e=this.$refs.upload.fileList;this.$refs.upload.fileList.splice(e.indexOf(t),1),this.$emit("removeFile",t)},handleSuccess(t,e){e.url=t.img,this.$emit("uploadFile",t)},handleFormatError(t){this.$Notice.warning({title:"文件格式错误",desc:"文件"+t.name+" 格式不正确 , 请选择jpg或png."})},handleMaxSize(t){this.$Notice.warning({title:"超过文件大小限制",desc:"文件  "+t.name+" 太大, 不超过20M。"})},handleBeforeUpload(){const t=this.uploadList.length<1;return t||this.$Notice.warning({title:"最多可上传1张图片。"}),t}}},u=s,o=r(1001),l=(0,o.Z)(u,a,n,!1,null,"3b363766",null),c=l.exports},43723:function(t,e,r){r.r(e),r.d(e,{default:function(){return g}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"column"},[t._v("其他收入")]),e("div",{staticClass:"search"},[e("div",{staticClass:"left"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text"},[t._v("门店")]),e("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(e){t.$set(t.searchData,"sid",e)},expression:"searchData.sid"}})],1),e("div",{staticClass:"box"},[e("Input",{staticStyle:{width:"250px"},attrs:{"enter-button":"",placeholder:"筛选支出类型",search:""},on:{"on-search":t.search},model:{value:t.searchData.search,callback:function(e){t.$set(t.searchData,"search",e)},expression:"searchData.search"}})],1),e("div",{staticClass:"box"},[e("Input",{staticStyle:{width:"250px"},attrs:{"enter-button":"",placeholder:"搜索付款人/内容",search:""},on:{"on-search":t.search},model:{value:t.searchData.search,callback:function(e){t.$set(t.searchData,"search",e)},expression:"searchData.search"}})],1),e("div",{staticClass:"box"},[t._v(" 时间： "),e("Select",{staticStyle:{width:"100px"},attrs:{transfer:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},t._l(t.dateList,(function(r){return e("Option",{key:r.value,attrs:{value:r.value}},[t._v(" "+t._s(r.label)+" ")])})),1)],1),e("div",{staticClass:"box"},[e("DatePicker",{staticStyle:{width:"200px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1)]),e("div",{staticClass:"right"},[e("div",{staticClass:"add-bt",on:{click:t.exportDataEvent}},[t._v("导出")]),e("div",{staticClass:"add-bt",on:{click:function(e){return t.showModal("新增其他收入","OtherRevenue")}}},[t._v(" 新增其他收入 ")])])]),e("div",{staticClass:"list"},[e("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},[t._l(t.tableColumns,(function(t,r){return e("vxe-column",{key:r+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),e("vxe-column",{attrs:{title:"操作",width:"120"}},[[e("span",{staticClass:"bt"},[t._v("编辑")]),e("span",{staticClass:"bt"},[t._v("删除")])]],2)],2),e("div",{staticClass:"page"},[e("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1),e("Modal",{attrs:{"footer-hide":!0,title:t.modal.title,width:t.modal.width},model:{value:t.modal.show,callback:function(e){t.$set(t.modal,"show",e)},expression:"modal.show"}},[t.modalShow("OtherRevenue")?e("OtherRevenue"):t._e()],1)],1)},n=[],i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"OtherRevenue"},[e("div",{staticClass:"content"},[e("div",{staticClass:"row"},[t._m(0),e("div",{staticClass:"right"},[e("Select",{staticStyle:{width:"200px"},attrs:{transfer:""},model:{value:t.model1,callback:function(e){t.model1=e},expression:"model1"}},t._l(t.cityList,(function(r){return e("Option",{key:r.value,attrs:{value:r.value}},[t._v(" "+t._s(r.label)+" ")])})),1)],1)]),e("div",{staticClass:"row"},[t._m(1),e("div",{staticClass:"right"},[e("Select",{staticStyle:{width:"200px"},attrs:{transfer:""},model:{value:t.model1,callback:function(e){t.model1=e},expression:"model1"}},t._l(t.cityList,(function(r){return e("Option",{key:r.value,attrs:{value:r.value}},[t._v(" "+t._s(r.label)+" ")])})),1)],1)]),e("div",{staticClass:"row"},[t._m(2),e("div",{staticClass:"right"},[e("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"",type:"textarea"}})],1)]),e("div",{staticClass:"row"},[t._m(3),e("div",{staticClass:"right"},[e("Select",{staticStyle:{width:"200px"},attrs:{transfer:""},model:{value:t.model1,callback:function(e){t.model1=e},expression:"model1"}},t._l(t.cityList,(function(r){return e("Option",{key:r.value,attrs:{value:r.value}},[t._v(" "+t._s(r.label)+" ")])})),1)],1)]),e("div",{staticClass:"row"},[t._m(4),e("div",{staticClass:"right"},[e("Input",{staticStyle:{width:"200px"},attrs:{placeholder:""}})],1)]),e("div",{staticClass:"row"},[t._m(5),e("div",{staticClass:"right"},[e("DatePicker",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择日期",transfer:"",type:"date"}})],1)]),e("div",{staticClass:"row"},[t._m(6),e("div",{staticClass:"right"},[e("UploadImage",{attrs:{"default-list":t.defaultList},on:{remove:t.removeFile,uploadFile:t.uploadFile}})],1)])]),e("div",{staticClass:"footer"},[e("div",{staticClass:"bt",on:{click:t.save}},[t._v("保存")])])])},s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"left"},[e("div",[t._v("支出门店：")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"left"},[e("div",[t._v("支出类型：")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"left"},[e("div",[t._v("支出内容：")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"left"},[e("div",[t._v("支付方式：")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"left"},[e("div",[t._v("支出金额：")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"left"},[e("div",[t._v("支出时间：")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"left"},[e("div",[t._v("附件：")])])}],u=r(13787),o={name:"OtherRevenue",components:{UploadImage:u.Z},data:function(){return{defaultList:[],cityList:[{value:"New York",label:"New York"}],model1:"",formData:{vid:"",name:"",file:"",file_id:""},loading:!1}},created(){},methods:{removeFile(t){console.log(t,"removeFile"),this.formData.file=""},uploadFile(t){this.formData.file=t.img,console.log(t,"uploadFile")},save(){this.formData.data=this.list}}},l=o,c=r(1001),d=(0,c.Z)(l,i,s,!1,null,"4f0e4de9",null),h=d.exports,f=r(83368),m={name:"RevenueList",components:{SelectShop:f.Z,OtherRevenue:h},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"支出门店",key:"0"},{title:"支出类型",key:"1"},{title:"支出内容",key:"2"},{title:"支付方式",key:"3"},{title:"支出金额",key:"4"},{title:"支出人",key:"5"},{title:"操作人/时间",key:"6"},{title:"附件",key:"7"}],modal:{show:!1,title:"",type:!1,width:600},date:"1",dateList:[{label:"今日",value:"1"},{label:"本周",value:"2"},{label:"本月",value:"3"}],searchData:{sid:"",search:"",start:"",end:"",p:1,page:10,count:0}}},computed:{modalShow(){return t=>this.modal.type===t&&this.modal.show}},activated(){},created(){},mounted(){this.setHeight(),window.onresize=()=>{this.setHeight()}},methods:{setHeight(){this.tableHeight=window.innerHeight-224},showModal(t,e,r={}){console.log(r),this.modal.show=!0,this.modal.title=t,this.modal.type=e},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()},exportDataEvent(){setTimeout((()=>{const t=[];this.$refs.xTable.exportData({filename:"",type:"csv",isHeader:!0,isFooter:!0,data:t})}),100)}}},p=m,v=(0,c.Z)(p,a,n,!1,null,"6cc8b979",null),g=v.exports},48803:function(t,e,r){r.d(e,{$R:function(){return rt},C5:function(){return y},CL:function(){return V},D1:function(){return d},Ei:function(){return J},Es:function(){return E},F7:function(){return u},FS:function(){return ft},GH:function(){return it},HW:function(){return n},I2:function(){return I},IF:function(){return W},IU:function(){return q},JF:function(){return et},KW:function(){return c},L5:function(){return ut},Li:function(){return v},NJ:function(){return g},NM:function(){return A},OI:function(){return L},OO:function(){return z},PR:function(){return X},Sy:function(){return T},T9:function(){return Y},Tw:function(){return m},Ue:function(){return i},W0:function(){return o},W8:function(){return h},WU:function(){return ht},XM:function(){return H},ZT:function(){return G},_S:function(){return lt},aG:function(){return st},am:function(){return f},bE:function(){return C},be:function(){return tt},by:function(){return at},d$:function(){return K},d1:function(){return M},d9:function(){return U},dS:function(){return p},dZ:function(){return x},dh:function(){return P},es:function(){return N},iH:function(){return k},jn:function(){return j},kh:function(){return Q},kt:function(){return B},mG:function(){return w},o8:function(){return _},oP:function(){return O},oX:function(){return l},od:function(){return Z},oh:function(){return F},p2:function(){return b},qM:function(){return dt},rP:function(){return nt},rb:function(){return ct},sN:function(){return ot},tR:function(){return D},x5:function(){return s},y0:function(){return $},y4:function(){return S},yT:function(){return R}});var a=r(7852);function n(t){return(0,a.Z)({url:"/Newuser/vip/type",method:"get",params:t})}function i(t){return(0,a.Z)({url:"/Newuser/vip/source",method:"get",params:t})}function s(t){return(0,a.Z)({url:"/Newuser/vip/index",method:"get",params:t})}function u(t){return(0,a.Z)({url:"/Newuser/vip/index_total",method:"get",params:t})}function o(t){return(0,a.Z)({url:"/Newuser/vip/details",method:"get",params:t})}function l(t){return(0,a.Z)({url:"/Newuser/vip/visit_list",method:"get",params:t})}function c(t){return(0,a.Z)({url:"/Newuser/WxMrke/index2",method:"get",params:t})}function d(t){return(0,a.Z)({url:"/Newuser/combo/vip_card",method:"get",params:t})}function h(t){return(0,a.Z)({url:"/Newuser/combo/vip_card_details",method:"get",params:t})}function f(t){return(0,a.Z)({url:"/Newuser/combo/order_info",method:"get",params:t})}function m(t){return(0,a.Z)({url:"/Newuser/combo/vip_card_remarks",method:"get",params:t})}function p(t){return(0,a.Z)({url:"/Newuser/combo/vip_card_remarks_add",method:"post",data:t})}function v(t){return(0,a.Z)({url:"/Newuser/combo/vip_card_remarks_del",method:"post",data:t})}function g(t){return(0,a.Z)({url:"/Newuser/vip/tags",method:"get",params:t})}function w(t){return(0,a.Z)({url:"/Newuser/vip/add_tags",method:"post",data:t})}function _(t){return(0,a.Z)({url:"/Newuser/setting/tags_type_list",method:"get",params:t})}function y(t){return(0,a.Z)({url:"/Newuser/vip/info",method:"get",params:t})}function N(t){return(0,a.Z)({url:"/Newuser/goods/deposit",method:"get",params:t})}function b(t){return(0,a.Z)({url:"/Newuser/goods/deposit_log",method:"get",params:t})}function Z(t){return(0,a.Z)({url:"/Newuser/goods/index",method:"get",params:t})}function x(t){return(0,a.Z)({url:"/Newuser/goods/deposit_add",method:"post",data:t})}function k(t){return(0,a.Z)({url:"/Newuser/goods/deposit_act",method:"post",data:t})}function C(t){return(0,a.Z)({url:"Newuser/vip/files",method:"get",params:t})}function D(t){return(0,a.Z)({url:"Newuser/vip/files_act",method:"post",data:t})}function S(t){return(0,a.Z)({url:"Newuser/vip/files_del",method:"get",params:t})}function L(t){return(0,a.Z)({url:"Newuser/Vip/from_boss_total",method:"get",params:t})}function R(t){return(0,a.Z)({url:"Newuser/Vip/from_boss",method:"get",params:t})}function $(t){return(0,a.Z)({url:"Newuser/vip/lower_del",method:"post",data:t})}function O(t){return(0,a.Z)({url:"Newuser/rec/commission_total",method:"get",params:t})}function F(t){return(0,a.Z)({url:"Newuser/rec/commission",method:"get",params:t})}function I(t){return(0,a.Z)({url:"Newuser/vip/visit_act",method:"post",data:t})}function z(t){return(0,a.Z)({url:"Newuser/vip/visit_del",method:"post",data:t})}function M(t){return(0,a.Z)({url:"Newuser/staff/index",method:"get",params:t})}function V(t){return(0,a.Z)({url:"Newuser/VipRecord/warning_list",method:"get",params:t})}function P(t){return(0,a.Z)({url:"Newuser/VipRecord/warning_act",method:"post",data:t})}function H(t){return(0,a.Z)({url:"Newuser/VipRecord/warning_cancel",method:"post",data:t})}function U(t){return(0,a.Z)({url:"Newuser/VipRecord/warning_status",method:"post",data:t})}function E(t){return(0,a.Z)({url:"Newuser/rec/capital",method:"get",params:t})}function T(t){return(0,a.Z)({url:"Newuser/vip/give_list",method:"get",params:t})}function W(t){return(0,a.Z)({url:"Newuser/integral/index",method:"get",params:t})}function j(t){return(0,a.Z)({url:"Newuser/VipRecord/add",method:"post",data:t})}function A(t){return(0,a.Z)({url:"Newuser/VipRecord/index",method:"get",params:t})}function G(t){return(0,a.Z)({url:"Newuser/VipRecord/del",method:"post",data:t})}function B(t){return(0,a.Z)({url:"Newuser/gift/index",method:"get",params:t})}function J(t){return(0,a.Z)({url:"Newuser/integral/buy",method:"post",data:t})}function X(t){return(0,a.Z)({url:"Newuser/integral/edit",method:"post",data:t})}function Y(t){return(0,a.Z)({url:"Newuser/vip/transfer_shop",method:"post",data:t})}function q(t){return(0,a.Z)({url:"Newuser/main/shop_list",method:"get",params:t})}function K(t){return(0,a.Z)({url:"/Newuser/vip/add",method:"post",data:t})}function Q(t){return(0,a.Z)({url:"/Newuser/vip/edit",method:"post",data:t})}function tt(t){return(0,a.Z)({url:"Newuser/vip/check_tel",method:"get",params:t})}function et(t){return(0,a.Z)({url:"/Newuser/vip/update_vip_id",method:"post",data:t})}function rt(t){return(0,a.Z)({url:"Newuser/Cashier/warning",method:"get",params:t})}function at(t){return(0,a.Z)({url:"Newuser/remind/log1",method:"get",params:t})}function nt(t){return(0,a.Z)({url:"Newuser/service/type",method:"get",params:t})}function it(t){return(0,a.Z)({url:"/Newuser/Remind/index",method:"get",params:t})}function st(t){return(0,a.Z)({url:"/Newuser/remind/act_log",method:"get",params:t})}function ut(t){return(0,a.Z)({url:"/Newuser/remind/log_details",method:"get",params:t})}function ot(t){return(0,a.Z)({url:"Newuser/remind/act",method:"post",data:t})}function lt(t){return(0,a.Z)({url:"Newuser/Remind/edit",method:"post",data:t})}function ct(t){return(0,a.Z)({url:"Newuser/Remind/del",method:"post",data:t})}function dt(t){return(0,a.Z)({url:"Newuser/service/index",method:"get",params:t})}function ht(t){return(0,a.Z)({url:"Newuser/staff/staff_log",method:"get",params:t})}function ft(t){return(0,a.Z)({url:"Newuser/vip/update_type",method:"post",data:t})}}}]);
//# sourceMappingURL=723.379616a3.js.map