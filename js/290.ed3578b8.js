"use strict";(self["webpackChunkmm_web"]=self["webpackChunkmm_web"]||[]).push([[290],{77004:function(t,a,s){s.r(a),s.d(a,{default:function(){return G}});var e=function(){var t=this,a=t._self._c;return a("div",{staticClass:"box"},[a("div",{staticClass:"column"},[t._v("调拨管理")]),a("Tabs",{attrs:{type:"card"},on:{"on-click":t.handleTabClick},model:{value:t.tab_index,callback:function(a){t.tab_index=a},expression:"tab_index"}},t._l(t.tab_list,(function(s){return a("TabPane",{key:s.id,attrs:{label:s.name,name:s.name}},[t.current(s,"调拨入库")?a("PutStorageList"):t._e()],1)})),1)],1)},i=[],l=function(){var t=this,a=t._self._c;return a("div",{staticClass:"box"},[a("div",{staticClass:"search"},[a("div",{staticClass:"left"},[a("div",{staticClass:"box"},[a("span",{staticClass:"text"},[t._v("调入门店")]),a("SelectShop",{attrs:{width:120},on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(a){t.$set(t.searchData,"sid",a)},expression:"searchData.sid"}})],1),a("div",{staticClass:"box"},[a("span",{staticClass:"text"},[t._v("调出门店")]),a("SelectShop",{attrs:{width:120},on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(a){t.$set(t.searchData,"sid",a)},expression:"searchData.sid"}})],1),a("div",{staticClass:"box"},[a("span",{staticClass:"text"},[t._v("调拨状态")]),a("SelectTransfersStatus",{attrs:{width:120},on:{"on-select":t.search},model:{value:t.searchData.status,callback:function(a){t.$set(t.searchData,"status",a)},expression:"searchData.status"}})],1),a("div",{staticClass:"box"},[a("span",{staticClass:"text"},[t._v("调入时间")]),a("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1),a("div",{staticClass:"box"},[a("span",{staticClass:"text"},[t._v("调出时间")]),a("DatePicker",{staticStyle:{width:"180px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1),a("div",{staticClass:"box"},[a("Input",{staticStyle:{width:"160px"},attrs:{clearable:"","enter-button":"",placeholder:"搜索单号",search:""},on:{"on-clear":t.search,"on-search":t.search},model:{value:t.searchData.search,callback:function(a){t.$set(t.searchData,"search",a)},expression:"searchData.search"}})],1)]),a("div",{staticClass:"right"},[a("div",{staticClass:"add-bt",on:{click:t.exportDataEvent}},[t._v("导出")]),a("div",{staticClass:"add-bt",on:{click:function(a){return t.showModal("新建调拨入库单","PutStorage")}}},[t._v(" 新建调拨入库单 ")])])]),a("div",{staticClass:"list"},[a("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},[t._l(t.tableColumns,(function(t,s){return a("vxe-column",{key:s+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),a("vxe-column",{attrs:{title:"操作",width:"120"}},[[a("span",{staticClass:"bt",on:{click:function(a){return t.showModal("库存调拨详情","PutStorageDetail")}}},[t._v(" 详情 ")])]],2)],2),a("div",{staticClass:"page"},[a("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1),a("Modal",{attrs:{"footer-hide":!0,scrollable:t.modal.scrollable,styles:t.modal.styles,title:t.modal.title,width:t.modal.width},model:{value:t.modal.show,callback:function(a){t.$set(t.modal,"show",a)},expression:"modal.show"}},[t.modalShow("PutStorage")?a("PutStorage"):t._e(),t.modalShow("PutStorageDetail")?a("PutStorageDetail"):t._e()],1)],1)},c=[],o=function(){var t=this,a=t._self._c;return a("div",{staticClass:"box"},[a("div",{staticClass:"search"},[a("div",{staticClass:"left"},[a("div",{staticClass:"box"},[a("span",{staticClass:"text"},[t._v("调出门店")]),a("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(a){t.$set(t.searchData,"sid",a)},expression:"searchData.sid"}})],1),a("div",{staticClass:"box"},[a("span",{staticClass:"text"},[t._v("调入门店")]),a("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(a){t.$set(t.searchData,"sid",a)},expression:"searchData.sid"}})],1),a("div",{staticClass:"box"},[a("span",{staticClass:"text"},[t._v("经办人")]),a("SelectStaff",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(a){t.$set(t.searchData,"sid",a)},expression:"searchData.sid"}})],1)]),a("div",{staticClass:"right"},[a("div",{staticClass:"add-bt",on:{click:function(a){return t.showModal("选择商品","GoodsList")}}},[t._v(" 选择商品 ")])])]),a("div",{staticClass:"list"},[a("table",[t._m(0),a("tbody",[a("tr",[a("td",[t._v("0")]),a("td",[t._v("￥0")]),a("td",[t._v("￥0")]),a("td",[t._v("0")]),a("td",[t._v("0")]),a("td",[a("Input",{attrs:{placeholder:""}})],1),a("td",[t._v("￥0")]),a("td",[t._v("-￥0")]),a("td",[a("Input",{attrs:{placeholder:""}})],1),t._m(1)]),t._m(2),a("tr",[a("td",{attrs:{colspan:"2"}},[t._v("制单人:郭贝贝")]),a("td",{attrs:{colspan:"2"}},[t._v("调拨单号:DB-2022052200001")]),a("td",{attrs:{colspan:"6"}},[t._v(" 备注: "),a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:""}})],1)]),a("tr",[a("td"),a("td"),a("td"),a("td"),a("td"),a("td"),a("td"),a("td",{attrs:{colspan:"3"}},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"flex-end"}},[a("Checkbox",[t._v("打印调拨单")]),a("div",{staticClass:"add-bt",staticStyle:{width:"100px",float:"right"}},[t._v(" 提交 ")])],1)])])])])]),a("Modal",{attrs:{"footer-hide":!0,scrollable:t.modal.scrollable,styles:t.modal.styles,title:t.modal.title,width:t.modal.width},model:{value:t.modal.show,callback:function(a){t.$set(t.modal,"show",a)},expression:"modal.show"}},[t.modalShow("GoodsList")?a("GoodsList"):t._e()],1)],1)},r=[function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("td",{staticClass:"color"},[t._v("商品编号")]),a("td",{staticClass:"color"},[t._v("商品名称")]),a("td",{staticClass:"color"},[t._v("单位")]),a("td",{staticClass:"color"},[t._v("品牌")]),a("td",{staticClass:"color"},[t._v("当前库存")]),a("td",{staticClass:"color",staticStyle:{width:"120px"}},[t._v("调拨数量")]),a("td",{staticClass:"color"},[t._v("调拨单价")]),a("td",{staticClass:"color"},[t._v("小计")]),a("td",{staticClass:"color",staticStyle:{width:"140px"}},[t._v("备注")]),a("td",{staticClass:"color"},[t._v("操作")])])])},function(){var t=this,a=t._self._c;return a("td",[a("div",{staticClass:"bt"},[t._v("删除")])])},function(){var t=this,a=t._self._c;return a("tr",[a("td",[t._v("合计")]),a("td"),a("td"),a("td"),a("td"),a("td",[t._v("2")]),a("td"),a("td",[t._v("￥0")]),a("td"),a("td")])}],n=s(77245),d=s(83368),h=s(25476),v={name:"PutStorage",components:{SelectStaff:h.Z,SelectShop:d.Z,GoodsList:n.Z},data:function(){return{modal:{show:!1,title:"",type:!1,width:1e3,scrollable:!0,styles:{top:"50px"}},list:[{info:1}],searchData:{sid:"",search:"",start:"",end:""}}},computed:{modalShow(){return t=>this.modal.type===t&&this.modal.show}},activated(){},created(){},methods:{showModal(t,a,s={}){console.log(s),this.modal.show=!0,this.modal.title=t,this.modal.type=a,this.modal.width=window.innerWidth-300},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()}}},u=v,p=s(1001),_=(0,p.Z)(u,o,r,!1,null,"24c763eb",null),m=_.exports,f=function(){var t=this,a=t._self._c;return a("div",{staticClass:"box"},[t._m(0),a("div",{staticClass:"list"},[a("table",[t._m(1),a("tbody",[t._m(2),t._m(3),a("tr",[a("td",{attrs:{colspan:"8"}},[t._v(" 备注: "),a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:""}})],1)]),t._m(4)])])])])},C=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"search"},[a("div",{staticClass:"left"},[a("div",{staticClass:"box"},[a("span",{staticClass:"text"},[t._v("调出门店：总部仓库")])]),a("div",{staticClass:"box"},[a("span",{staticClass:"text"},[t._v("调入门店： 212121")])]),a("div",{staticClass:"box"},[a("span",{staticClass:"text"},[t._v("状态：出库中")])]),a("div",{staticClass:"box"},[a("span",{staticClass:"text"},[t._v("调拨单号：234234234234")])]),a("div",{staticClass:"box"},[a("span",{staticClass:"text"},[t._v("申请时间：欧莱雅")])]),a("div",{staticClass:"box"},[a("span",{staticClass:"text"},[t._v("调出时间：欧莱雅")])]),a("div",{staticClass:"box"},[a("span",{staticClass:"text"},[t._v("调入时间：欧莱雅")])]),a("div",{staticClass:"box"},[a("span",{staticClass:"text"},[t._v("经办人：欧莱雅")])]),a("div",{staticClass:"box"},[a("span",{staticClass:"text"},[t._v("制单人：欧莱雅")])]),a("div",{staticClass:"box"},[a("span",{staticClass:"text"},[t._v("共计1件商品")])])]),a("div",{staticClass:"right"},[a("div",{staticClass:"add-bt"},[t._v("打印")])])])},function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("td",{staticClass:"color"},[t._v("商品编号")]),a("td",{staticClass:"color"},[t._v("商品名称")]),a("td",{staticClass:"color"},[t._v("单位")]),a("td",{staticClass:"color"}),a("td",{staticClass:"color"},[t._v("调拨数量")]),a("td",{staticClass:"color"},[t._v("调拨单价")]),a("td",{staticClass:"color"},[t._v("小计")]),a("td",{staticClass:"color"},[t._v("备注")])])])},function(){var t=this,a=t._self._c;return a("tr",[a("td",[t._v("0")]),a("td",[t._v("￥0")]),a("td",[t._v("￥0")]),a("td",[t._v("0")]),a("td",[t._v("￥0")]),a("td",[t._v("￥0")]),a("td",[t._v("0")]),a("td",[t._v("￥0")])])},function(){var t=this,a=t._self._c;return a("tr",[a("td",[t._v("合计")]),a("td"),a("td"),a("td"),a("td"),a("td",[t._v("￥0")]),a("td",[t._v("￥0")]),a("td")])},function(){var t=this,a=t._self._c;return a("tr",[a("td",{attrs:{colspan:"8"}},[a("div",{staticClass:"add-bt",staticStyle:{width:"100px",float:"right"}},[t._v("提交")])])])}],b={name:"PutStorageDetail",components:{},data:function(){return{list:[{info:1}],searchData:{search:"",start:"",end:""}}},activated(){},created(){},methods:{clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()}}},x=b,g=(0,p.Z)(x,f,C,!1,null,"19bed350",null),D=g.exports,w=function(){var t=this,a=t._self._c;return a("content",[a("Select",{style:{width:t.width+"px"},attrs:{clearable:"",filterable:"",loading:t.loading,transfer:""},on:{"on-clear":t.clearValue,"on-select":t.selectValue},model:{value:t.valueData,callback:function(a){t.valueData=a},expression:"valueData"}},[a("div",{attrs:{slot:"empty"},slot:"empty"},[t._v("未找到数据")]),t._l(t.list,(function(s,e){return a("Option",{key:e,attrs:{value:s.id}},[t._v(" "+t._s(s.name)+" ")])}))],2)],1)},y=[],S={props:{value:{type:[String,Number,Array],default:""},width:{type:Number,default:200}},data:function(){return{loading:!1,list:[{id:1,name:"待审批"},{id:2,name:"审批驳回"}],valueData:"",searchData:{}}},watch:{},created(){this.valueData=this.value},methods:{selectValue(t){this.$emit("input",t.value),this.$emit("on-select",t.value)},clearValue(){this.$emit("input",""),this.$emit("on-select","")}}},k=S,P=(0,p.Z)(k,w,y,!1,null,"4dd07781",null),M=P.exports,$={name:"PutStorageList",components:{SelectTransfersStatus:M,SelectShop:d.Z,PutStorage:m,PutStorageDetail:D},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"调拨单号",key:"0"},{title:"调出门店",key:"1"},{title:"调入门店",key:"2"},{title:"调出时间",key:"3"},{title:"调入时间",key:"4"},{title:"申请人",key:"5"},{title:"制单人",key:"6"},{title:"状态",key:"7"}],modal:{show:!1,title:"",type:!1,width:1e3,scrollable:!0,styles:{top:"50px"}},searchData:{sid:"",status:"",search:"",start:"",end:"",p:1,page:10,count:0}}},computed:{modalShow(){return t=>this.modal.type===t&&this.modal.show}},activated(){},created(){},mounted(){this.setHeight(),window.onresize=()=>{this.setHeight()}},methods:{setHeight(){this.tableHeight=window.innerHeight-266},showModal(t,a,s={}){console.log(s),this.modal.show=!0,this.modal.title=t,this.modal.type=a,this.modal.width=window.innerWidth-300},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()},exportDataEvent(){setTimeout((()=>{const t=[];this.$refs.xTable.exportData({filename:"",type:"csv",isHeader:!0,isFooter:!0,data:t})}),100)}}},L=$,z=(0,p.Z)(L,l,c,!1,null,"19dbfd6b",null),H=z.exports,T={name:"Allocate",components:{PutStorageList:H},data:function(){return{tab_index:"调拨入库",tab_list:[{name:"调拨入库",id:1},{name:"调拨出库",id:2}]}},computed:{current(){return(t,a)=>a===t.name&&this.tab_index===a}},methods:{handleTabClick(t){this.tab_index=t}}},Z=T,I=(0,p.Z)(Z,e,i,!1,null,"a9a72468",null),G=I.exports}}]);
//# sourceMappingURL=290.ed3578b8.js.map