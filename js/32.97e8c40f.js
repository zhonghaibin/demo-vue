"use strict";(self["webpackChunkmm_web"]=self["webpackChunkmm_web"]||[]).push([[32],{8885:function(t,a,e){e.r(a),e.d(a,{default:function(){return y}});var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"box"},[a("div",{staticClass:"column"},[t._v("库存盘点")]),a("div",{staticClass:"search"},[a("div",{staticClass:"left"},[a("div",{staticClass:"box"},[a("span",{staticClass:"text"},[t._v("盘点门店")]),a("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(a){t.$set(t.searchData,"sid",a)},expression:"searchData.sid"}})],1),a("div",{staticClass:"box"},[a("span",{staticClass:"text"},[t._v("盘点时间")]),a("DatePicker",{staticStyle:{width:"200px"},attrs:{format:"yyyy-MM-dd",placeholder:"开始时间-结束时间",transfer:"",type:"datetimerange","value-format":"yyyy-MM-dd"},on:{"on-change":t.changeDatePicker,"on-clear":t.clearDate,"on-open-change":t.changeDatePicker}})],1)]),a("div",{staticClass:"right"},[a("div",{staticClass:"add-bt",on:{click:function(a){return t.showModal("新建库存盘点单","TakeStockEdit")}}},[t._v(" 新建库存盘点单 ")])])]),a("div",{staticClass:"list"},[a("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},[t._l(t.tableColumns,(function(t,e){return a("vxe-column",{key:e+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),a("vxe-column",{attrs:{title:"操作",width:"120"}},[[a("span",{staticClass:"bt",on:{click:function(a){return t.showModal("盘点详情","TakeStockDetails")}}},[t._v(" 查看详情 ")])]],2)],2),a("div",{staticClass:"page"},[a("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,"show-elevator":"","show-sizer":"",size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1),a("Modal",{attrs:{"footer-hide":!0,scrollable:t.modal.scrollable,styles:t.modal.styles,title:t.modal.title,width:t.modal.width},model:{value:t.modal.show,callback:function(a){t.$set(t.modal,"show",a)},expression:"modal.show"}},[t.modalShow("TakeStockEdit")?a("TakeStockEdit"):t._e(),t.modalShow("TakeStockDetails")?a("TakeStockDetails"):t._e()],1)],1)},i=[],l=function(){var t=this,a=t._self._c;return a("div",{staticClass:"box"},[a("div",{staticClass:"search"},[a("div",{staticClass:"left"},[a("div",{staticClass:"box"},[a("span",{staticClass:"text"},[t._v("仓库/门店")]),a("SelectShop",{on:{"on-select":t.search},model:{value:t.searchData.sid,callback:function(a){t.$set(t.searchData,"sid",a)},expression:"searchData.sid"}})],1),a("div",{staticClass:"box"},[a("span",{staticClass:"text"},[t._v("经办人")]),a("SelectStaff",{on:{"on-select":t.search},model:{value:t.searchData.staff_id,callback:function(a){t.$set(t.searchData,"staff_id",a)},expression:"searchData.staff_id"}})],1)]),a("div",{staticClass:"right"},[a("div",{staticClass:"add-bt",on:{click:function(a){return t.showModal("选择盘点商品","GoodsList")}}},[t._v(" 选择盘点商品 ")])])]),a("div",{staticClass:"list"},[a("table",[t._m(0),a("tbody",[a("tr",[a("td",[t._v("0")]),a("td",[t._v("￥0")]),a("td",[t._v("￥0")]),a("td",[t._v("0")]),a("td",[t._v("0")]),a("td",[t._v("￥0")]),a("td",[t._v("-￥0")]),a("td",[a("Input",{attrs:{placeholder:""}})],1),t._m(1)]),t._m(2),a("tr",[a("td",{attrs:{colspan:"2"}},[t._v("制单人:郭贝贝")]),a("td",{attrs:{colspan:"7"}},[t._v(" 备注: "),a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:""}})],1)]),t._m(3)])])]),a("Modal",{attrs:{"footer-hide":!0,scrollable:t.modal.scrollable,styles:t.modal.styles,title:t.modal.title,width:t.modal.width},model:{value:t.modal.show,callback:function(a){t.$set(t.modal,"show",a)},expression:"modal.show"}},[t.modalShow("GoodsList")?a("GoodsList"):t._e()],1)],1)},c=[function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("td",{staticClass:"color"},[t._v("商品编号")]),a("td",{staticClass:"color"},[t._v("商品名称")]),a("td",{staticClass:"color"},[t._v("单位")]),a("td",{staticClass:"color"},[t._v("当前库存")]),a("td",{staticClass:"color",staticStyle:{width:"120px"}},[t._v("实际盘点数量")]),a("td",{staticClass:"color"},[t._v("商品成本价")]),a("td",{staticClass:"color"},[t._v("盈亏金额")]),a("td",{staticClass:"color",staticStyle:{width:"140px"}},[t._v("备注")]),a("td",{staticClass:"color"},[t._v("操作")])])])},function(){var t=this,a=t._self._c;return a("td",[a("div",{staticClass:"bt"},[t._v("删除")])])},function(){var t=this,a=t._self._c;return a("tr",[a("td",[t._v("合计")]),a("td"),a("td"),a("td"),a("td"),a("td",[t._v("￥0")]),a("td",[t._v("￥0")]),a("td"),a("td")])},function(){var t=this,a=t._self._c;return a("tr",[a("td",{attrs:{colspan:"9"}},[a("div",{staticClass:"add-bt",staticStyle:{width:"100px",float:"right"}},[t._v("提交")])])])}],o=e(77245),d=e(83368),r=e(25476),n={name:"TakeStockEdit",components:{SelectStaff:r.Z,SelectShop:d.Z,GoodsList:o.Z},data:function(){return{modal:{show:!1,title:"",type:!1,width:1e3,scrollable:!0,styles:{top:"50px"}},list:[{info:1}],searchData:{sid:"",staff_id:"",search:"",start:"",end:""}}},computed:{modalShow(){return t=>this.modal.type===t&&this.modal.show}},activated(){},created(){},methods:{showModal(t,a,e={}){console.log(e),this.modal.show=!0,this.modal.title=t,this.modal.type=a,this.modal.width=window.innerWidth-300},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()}}},h=n,v=e(1001),u=(0,v.Z)(h,l,c,!1,null,"b65b5836",null),g=u.exports,m=function(){var t=this,a=t._self._c;return a("div",{staticClass:"TakeStockDetails"},[t._m(0),a("div",{ref:"content",staticClass:"content"},[a("div",{staticClass:"list"},[a("vxe-table",{ref:"xTable",attrs:{"cell-style":{textAlign:"center"},"column-config":{resizable:!0},data:t.tableData,"header-align":"center",height:t.tableHeight,loading:t.loading,"row-config":{isHover:!0},size:"small"}},t._l(t.tableColumns,(function(t,e){return a("vxe-column",{key:e+t.key,attrs:{field:t.key,fixed:t.fixed,"min-width":t.width,"show-overflow":"title",title:t.title}})})),1),a("div",{staticClass:"page"},[a("Page",{attrs:{current:t.searchData.p,"page-size":t.searchData.page,size:"small",total:t.searchData.count,transfer:""},on:{"on-change":t.currentPage,"on-page-size-change":t.pageSizeChange}})],1)],1)])])},p=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"header"},[a("div",{staticClass:"left"},[a("div",{staticClass:"cell"},[t._v("仓库:惠城总店")]),a("div",{staticClass:"cell"},[t._v("盘点单号: PD-2022062030002")]),a("div",{staticClass:"cell"},[t._v("盘点时间: 2022-06-2014:20")]),a("div",{staticClass:"cell"},[t._v("经办人:蒋娟")]),a("div",{staticClass:"cell"},[t._v("制单人:蒋娟")])]),a("div",{staticClass:"right"},[a("div",{staticClass:"add-bt"},[t._v("打印")])])])}],f={name:"TakeStockDetails",components:{},props:{},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"商品编号",key:"0"},{title:"商品名称",key:"1"},{title:"单位 ",key:"2"},{title:"盘点前库存",key:"3"},{title:"实际盘点数量",key:"4"},{title:"盘点状态",key:"5"},{title:"备注",key:"6"}],searchData:{sid:"",p:"",page:""}}},computed:{},activated(){},created(){},mounted(){this.setHeight(),window.onresize=()=>{this.setHeight()}},methods:{setHeight(){this.tableHeight=window.innerHeight-266},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){},save(){}}},_=f,w=(0,v.Z)(_,m,p,!1,null,"1dbe9c56",null),k=w.exports,C={name:"TakeStock",components:{TakeStockDetails:k,SelectShop:d.Z,TakeStockEdit:g},data:function(){return{loading:!1,tableHeight:0,tableData:[{0:"测试测试"}],tableColumns:[{title:"盘点单据",key:"0"},{title:"仓库/门店",key:"1"},{title:"经办人",key:"2"},{title:"盘点时间",key:"3"},{title:"盘点商品种类",key:"4"},{title:"盈亏数量",key:"5"},{title:"盈亏金额",key:"6"},{title:"制单人",key:"7"}],modal:{show:!1,title:"",type:!1,width:1e3,scrollable:!0,styles:{top:"50px"}},searchData:{sid:"",search:"",start:"",end:"",p:1,page:10,count:0}}},computed:{modalShow(){return t=>this.modal.type===t&&this.modal.show}},activated(){},created(){},mounted(){this.setHeight(),window.onresize=()=>{this.setHeight()}},methods:{setHeight(){this.tableHeight=window.innerHeight-234},showModal(t,a,e={}){console.log(e),this.modal.show=!0,this.modal.title=t,this.modal.type=a,this.modal.width=window.innerWidth-300},clearDate(){this.searchData.start="",this.searchData.end="",this.search()},changeDatePicker:function(t){t&&(this.searchData.start=t[0],this.searchData.end=t[1]),this.search()},currentPage(t){this.searchData.p=t,this.getList()},pageSizeChange(t){this.searchData.page=t,this.search()},search(){this.searchData.p=1,this.getList()}}},D=C,b=(0,v.Z)(D,s,i,!1,null,"0154c04d",null),y=b.exports}}]);
//# sourceMappingURL=32.97e8c40f.js.map